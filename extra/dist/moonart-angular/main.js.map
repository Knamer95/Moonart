{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.routing.ts","webpack:///./src/app/components/discover/discover.component.css","webpack:///./src/app/components/discover/discover.component.html","webpack:///./src/app/components/discover/discover.component.ts","webpack:///./src/app/components/error/error.component.css","webpack:///./src/app/components/error/error.component.html","webpack:///./src/app/components/error/error.component.ts","webpack:///./src/app/components/feed/feed.component.css","webpack:///./src/app/components/feed/feed.component.html","webpack:///./src/app/components/feed/feed.component.ts","webpack:///./src/app/components/home/home.component.css","webpack:///./src/app/components/home/home.component.html","webpack:///./src/app/components/home/home.component.ts","webpack:///./src/app/components/image/image.component.css","webpack:///./src/app/components/image/image.component.html","webpack:///./src/app/components/image/image.component.ts","webpack:///./src/app/components/login/login.component.css","webpack:///./src/app/components/login/login.component.html","webpack:///./src/app/components/login/login.component.ts","webpack:///./src/app/components/profile/favs.component.ts","webpack:///./src/app/components/profile/likes.component.ts","webpack:///./src/app/components/profile/profile.component.css","webpack:///./src/app/components/profile/profile.component.html","webpack:///./src/app/components/profile/profile.component.ts","webpack:///./src/app/components/profile/userImages.component.ts","webpack:///./src/app/components/register/register.component.css","webpack:///./src/app/components/register/register.component.html","webpack:///./src/app/components/register/register.component.ts","webpack:///./src/app/components/search/search.component.css","webpack:///./src/app/components/search/search.component.html","webpack:///./src/app/components/search/search.component.ts","webpack:///./src/app/components/settings/settings.component.css","webpack:///./src/app/components/settings/settings.component.html","webpack:///./src/app/components/settings/settings.component.ts","webpack:///./src/app/components/upload-image/upload-image.component.css","webpack:///./src/app/components/upload-image/upload-image.component.html","webpack:///./src/app/components/upload-image/upload-image.component.ts","webpack:///./src/app/components/user-edit/user-edit.component.css","webpack:///./src/app/components/user-edit/user-edit.component.html","webpack:///./src/app/components/user-edit/user-edit.component.ts","webpack:///./src/app/models/image.ts","webpack:///./src/app/models/user.ts","webpack:///./src/app/services/common.service.ts","webpack:///./src/app/services/global.ts","webpack:///./src/app/services/identity.guard.ts","webpack:///./src/app/services/identity2.guard.ts","webpack:///./src/app/services/image.service.ts","webpack:///./src/app/services/user.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<div class=\\\"nav-background fixed-top\\\">\\n\\n    <nav class=\\\"navbar navbar-expand-lg navbar-dark fixed-top\\\">\\n        <a><img class=\\\"img-over tremble\\\" src=\\\"assets/img/moon2-ico.png\\\"></a>\\n        <button class=\\\"navbar-toggler\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbarColor01\\\" aria-controls=\\\"navbarColor01\\\"\\n            aria-expanded=\\\"false\\\" aria-label=\\\"Toggle navigation\\\">\\n            <span class=\\\"navbar-toggler-icon\\\"></span>\\n        </button>\\n        <div class=\\\"collapse navbar-collapse\\\" id=\\\"navbarColor01\\\">\\n            <span><a [routerLink]=\\\"['/home']\\\" class=\\\"nav-title\\\">MoonArt</a></span>\\n            <ul class=\\\"navbar-nav mr-auto\\\">\\n                <li class=\\\"nav-item\\\">\\n                    <a class=\\\"nav-link\\\" [routerLink]=\\\"['/home']\\\">Galería<span class=\\\"sr-only\\\">(current)</span></a>\\n                </li>\\n                <li class=\\\"nav-item\\\">\\n                    <a class=\\\"nav-link\\\" [routerLink]=\\\"['/feed']\\\">Feed<span class=\\\"sr-only\\\"></span></a>\\n                </li>\\n                <!--\\n                <li class=\\\"nav-item\\\">\\n                    <a class=\\\"nav-link\\\" [routerLink]=\\\"['/discover']\\\">Descubre</a>\\n                </li>\\n            -->\\n                <li class=\\\"nav-item mr-auto\\\">\\n                    <a class=\\\"nav-link olive\\\" [routerLink]=\\\"['/upload-image']\\\">Subir imagen <i class=\\\"fas fa-upload\\\"></i></a>\\n                </li>\\n            </ul>\\n\\n            <div class=\\\"search-box\\\">\\n                <input type=\\\"text\\\" class=\\\"text search-input\\\" [(ngModel)]=\\\"searchQuery\\\" placeholder=\\\"Buscar imágenes\\\"\\n                    (keyup.enter)=\\\"validateSearch()\\\" required pattern=\\\"[A-z0-9_-]+\\\" />\\n            </div>\\n            <i class=\\\"fas fa-search searchbar\\\" (click)=\\\"validateSearch()\\\"></i>\\n            <!-- <a class=\\\"navbar-brand ml-auto admin\\\" href=\\\"#\\\">Administrar</a> -->\\n            <ul class=\\\"navbar-nav right-position\\\">\\n                <li class=\\\"nav-item\\\" *ngIf=\\\"!identity || identity.nick == 'guest'\\\">\\n                    <a class=\\\"nav-link\\\" [routerLink]=\\\"['/login']\\\">Entrar</a>\\n                </li>\\n                <li class=\\\"nav-item\\\" *ngIf=\\\"!identity || identity.nick == 'guest'\\\">\\n                    <a class=\\\"nav-link\\\" [routerLink]=\\\"['/register']\\\">Registrarse</a>\\n                </li>\\n\\n                <li class=\\\"nav-item\\\" *ngIf=\\\"identity && identity.nick != 'guest'\\\">\\n                    <span class=\\\"nav-welcome\\\">Hola, </span>\\n                </li>\\n                <li class=\\\"user-toggle\\\" *ngIf=\\\"identity && identity.nick != 'guest'\\\">\\n                    <div class=\\\"dropdown show\\\">\\n                        <button class=\\\"btn dropdown-toggle username nav-link nav-item\\\" role=\\\"button\\\" id=\\\"dropdownMenuLink\\\"\\n                            data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">{{identity.nick}}</button>\\n\\n                        <div class=\\\"dropdown-menu dropdown-menu-right\\\" aria-labelledby=\\\"dropdownMenuLink\\\">\\n                            <a class=\\\"dropdown-item\\\" id=\\\"view-profile\\\" [href]=\\\"['/profile/' + identity.nick]\\\">Perfil</a>\\n                            <a class=\\\"dropdown-item\\\" id=\\\"edit-profile\\\" [routerLink]=\\\"['/edit']\\\">Editar perfil</a>\\n                            <a class=\\\"dropdown-item\\\" id=\\\"edit-profile\\\" [routerLink]=\\\"['/settings']\\\">Configuración</a>\\n                            <a class=\\\"dropdown-item\\\" id=\\\"logout\\\" [routerLink]=\\\"['/logout/1']\\\">Salir</a>\\n                        </div>\\n                    </div>\\n                </li>\\n            </ul>\\n\\n            <!-- <button class=\\\"btn btn-outline-info btn-toggle\\\" onclick=\\\"this.blur(); swap();\\\"><i class=\\\"fas fa-lightbulb\\\"></i></button> -->\\n        </div>\\n    </nav> <!-- Fin de barra de navegación -->\\n</div>\\n<div class=\\\"nav-spacing\\\"></div>\\n\\n<!-- Contenido -->\\n<router-outlet></router-outlet>\"","import { Component, OnInit, DoCheck } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { UserService } from './services/user.service';\nimport { Renderer2 } from '@angular/core';\nimport { CommonService } from './services/common.service';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css'],\n    providers: [UserService, CommonService]\n})\nexport class AppComponent implements OnInit, DoCheck {\n    title = 'moonart-angular';\n    public identity;\n    public token;\n    public config;\n    public configJSON;\n    public arrayNavs;\n    public arrayNightMode;\n    public i;\n    public searchQuery;\n\n    constructor(\n        private _userService: UserService,\n        private _commonService: CommonService,\n        private _router: Router,\n        private render: Renderer2\n    ) {\n        this.i = 0;\n        this.searchQuery = '';\n    }\n\n    ngOnInit() {\n        this.token = this._userService.getToken();\n\n        this._commonService.getUserConfig(this, this.token);\n    }\n\n    ngDoCheck() {\n        this.header(this);\n        this.loadUser();\n    }\n\n    loadUser() {\n\n        this.identity = this._userService.getIdentity();\n        this.token = this._userService.getToken();\n    }\n\n    changeColor(color, array) {\n\n        for (let i = 0; i < array.length; i++) {\n            this.render.removeClass(document.querySelector(\".nav-background\"), array[i]);\n        }\n\n        this.render.addClass(document.querySelector(\".nav-background\"), \"nav-\" + color);\n    }\n\n    header(that) {\n        if (localStorage.getItem(\"config\") == \"undefined\" || localStorage.getItem(\"config\") == null) {\n            setTimeout(function () {\n                that.header(that);\n            }, 100);\n\n        }\n        else {\n            that.arrayNavs = [\"nav-red\", \"nav-green\", \"nav-blue\", \"nav-violet\", \"nav-orange\", \"nav-yellow\"];\n            that.configJSON = localStorage.getItem(\"config\");\n            that.config = JSON.parse(that.configJSON);\n            // console.log(that.config.color);\n            that.changeColor(that.config.color, that.arrayNavs);\n        }\n        that.i++;\n    }\n\n    validateSearch(){\n        if (this.searchQuery != null && this.searchQuery != \"\"){\n            // this.searchQuery = this.searchQuery.replace(\" \", \"\");\n            this._router.navigate(['/search'],\n            {queryParams: {q: this.searchQuery}});\n        }\n    }\n}\n\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { routing, appRoutingProviders } from './app.routing';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { AppComponent } from './app.component';\nimport { HomeComponent } from './components/home/home.component';\nimport { FeedComponent } from './components/feed/feed.component';\nimport { DiscoverComponent } from './components/discover/discover.component';\nimport { UploadImageComponent } from './components/upload-image/upload-image.component';\nimport { ImageComponent } from './components/image/image.component';\n\nimport { LoginComponent } from './components/login/login.component';\nimport { RegisterComponent } from './components/register/register.component';\nimport { ProfileComponent } from './components/profile/profile.component';\nimport { ImagesComponent } from './components/profile/userImages.component';\nimport { LikesComponent } from './components/profile/likes.component';\nimport { FavsComponent } from './components/profile/favs.component';\nimport { UserEditComponent } from './components/user-edit/user-edit.component';\nimport { SettingsComponent } from './components/settings/settings.component';\nimport { ErrorComponent } from './components/error/error.component';\n\nimport { IdentityGuard} from './services/identity.guard';\nimport { Identity2Guard} from './services/identity2.guard';\nimport { UserService } from './services/user.service';\nimport { ImageService } from './services/image.service';\nimport { SearchComponent } from './components/search/search.component';\n\nconst routes: Routes = [\n  { path: '', component: HomeComponent, outlet: 'home' },\n  { path: '', component: FeedComponent, outlet: 'feed' },\n  { path: '', component: DiscoverComponent, outlet: 'discover' },\n  { path: '', component: UploadImageComponent, outlet: \"upload\" },\n  { path: '', component: LoginComponent, outlet: 'login' },\n  { path: '', component: RegisterComponent, outlet: 'register' },\n  { path: '', component: ProfileComponent, outlet: 'profile' },\n  { path: '', component: UserEditComponent, outlet: 'edit' },\n  { path: '', component: SettingsComponent, outlet: 'settings' }\n]\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HomeComponent,\n    FeedComponent,\n    DiscoverComponent,\n    UploadImageComponent,\n    ImageComponent,\n    LoginComponent,\n    RegisterComponent,\n    ProfileComponent,\n    ImagesComponent,\n    LikesComponent,\n    FavsComponent,\n    UserEditComponent,\n    SettingsComponent,\n    ErrorComponent,\n    SearchComponent\n  ],\n  imports: [\n    BrowserModule,\n    routing,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    RouterModule.forRoot(routes,{\n      scrollPositionRestoration: 'enabled'\n    })\n  ],\n  exports: [\n    RouterModule\n  ],\n  providers: [\n    appRoutingProviders,\n    IdentityGuard,\n    Identity2Guard,\n    UserService,\n    ImageService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { ModuleWithProviders } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { HomeComponent } from './components/home/home.component';\r\nimport { FeedComponent } from './components/feed/feed.component';\r\nimport { DiscoverComponent } from './components/discover/discover.component';\r\nimport { UploadImageComponent } from './components/upload-image/upload-image.component';\r\nimport { SearchComponent } from './components/search/search.component';\r\n\r\nimport { ImageComponent } from './components/image/image.component';\r\nimport { LoginComponent } from './components/login/login.component';\r\nimport { RegisterComponent } from './components/register/register.component';\r\nimport { ProfileComponent } from './components/profile/profile.component';\r\nimport { UserEditComponent } from './components/user-edit/user-edit.component';\r\nimport { SettingsComponent } from './components/settings/settings.component';\r\nimport { ErrorComponent } from './components/error/error.component';\r\n\r\nimport { IdentityGuard } from './services/identity.guard';\r\nimport { Identity2Guard } from './services/identity2.guard';\r\n\r\nconst appRoutes: Routes = [\r\n    {path: '', component: HomeComponent},\r\n    {path: 'home', component: HomeComponent},\r\n    {path: 'home/:page', component: HomeComponent},\r\n    {path: 'feed', component: FeedComponent, canActivate: [IdentityGuard]},\r\n    {path: 'discover', component: DiscoverComponent},\r\n    {path: 'search', component: SearchComponent},\r\n    {path: 'upload-image', component: UploadImageComponent, canActivate: [IdentityGuard]},\r\n    {path: 'images/:image', component: ImageComponent},\r\n    {path: 'login', component: LoginComponent, canActivate: [Identity2Guard]},\r\n    {path: 'logout/:sure', component: LoginComponent, canActivate: [IdentityGuard]},\r\n    {path: 'register', component: RegisterComponent, canActivate: [Identity2Guard]},\r\n\r\n    {path: 'profile/:username/:page', component: ProfileComponent},\r\n    {path: 'profile/:username', component: ProfileComponent},\r\n    {path: 'edit', component: UserEditComponent, canActivate: [IdentityGuard]},\r\n    {path: 'settings', component: SettingsComponent, canActivate: [IdentityGuard]},\r\n    {path: 'error', component: ErrorComponent},\r\n    {path: '**', component: ErrorComponent},\r\n];\r\n\r\nexport const appRoutingProviders: any[] = [];\r\nexport const routing: ModuleWithProviders = RouterModule.forRoot(appRoutes);","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZGlzY292ZXIvZGlzY292ZXIuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<p>\\n  discover works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-discover',\n  templateUrl: './discover.component.html',\n  styleUrls: ['./discover.component.css']\n})\nexport class DiscoverComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZXJyb3IvZXJyb3IuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div class=\\\"container-fluid error\\\">\\n  <img src=\\\"assets/img/404.png\\\">\\n  <h2>La página a la que intentas acceder no existe</h2>\\n  <p>Si crees que es un error de la página, por favor contáctanos en sistemas@moonart.com</p>\\n  <a [routerLink]=\\\"['/home']\\\"> Volver al inicio </a>\\n</div>\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-error',\n  templateUrl: './error.component.html',\n  styleUrls: ['./error.component.css']\n})\nexport class ErrorComponent implements OnInit {\n\n  public page_title: string;\n\n  constructor() {\n    \n    this.page_title = \"Error\";\n\n  }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \".container-ma{ \\r\\n    width: 100%;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    margin-top: 30px;\\r\\n    margin-bottom: 30px;\\r\\n    /* background: fuchsia; */\\r\\n}\\r\\n\\r\\n.tweet{\\r\\n    font-family: 'M PLUS Rounded 1c', sans-serif;\\r\\n    padding: 10px 40px 40px 40px;\\r\\n    border-top: 1px solid rgb(221, 221, 221);\\r\\n    border-bottom: 1px solid rgb(221, 221, 221);\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.image{\\r\\n    min-width: 300px;\\r\\n    max-width: 350px;\\r\\n    max-height: 300px;\\r\\n}\\r\\n\\r\\n.shared-by{\\r\\n    font-size: 20px;\\r\\n    padding-top: 10px;\\r\\n    padding-bottom: 10px;\\r\\n    color: rgb(30, 172, 42);\\r\\n\\r\\n}\\r\\n\\r\\n.user-sharing{\\r\\n    color: rgb(30, 172, 42);\\r\\n}\\r\\n\\r\\n.name, .description, .by, .by-user, .date, .interactions, .counter{\\r\\n    font-size: 30px;\\r\\n}\\r\\n\\r\\n.name{\\r\\n    font-size: 40px;\\r\\n    color: rgb(48, 196, 196);\\r\\n}\\r\\n\\r\\n.by-user{\\r\\n    /* display: inline; */\\r\\n    margin-right: 27px;\\r\\n    color: rgb(48, 196, 196);\\r\\n}\\r\\n\\r\\n.description{\\r\\n    font-size: 25px;\\r\\n    max-height: 115px;\\r\\n    margin-bottom: 40px;\\r\\n    /* Does the magic */\\r\\n    overflow :hidden;\\r\\n    white-space: nowrap;\\r\\n    \\r\\n    text-overflow: ellipsis; /* Adds the ... */\\r\\n}\\r\\n\\r\\n.date{\\r\\n    font-size: 23px;\\r\\n    /* position: absolute;\\r\\n    bottom: -5px; */\\r\\n    color: rgba(170, 170, 170, 0.685);\\r\\n    position: relative;\\r\\n    bottom: -5px;\\r\\n}\\r\\n\\r\\n.counter{\\r\\n    font-size: 27px;\\r\\n    /* position: absolute;\\r\\n    bottom: -7px; */\\r\\n}\\r\\n\\r\\n.bottom{\\r\\n    position: absolute; bottom: 0; width: 100%;\\r\\n}\\r\\n\\r\\n.empty{\\r\\n    height: 35px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9mZWVkL2ZlZWQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxTQUFTO0lBQ1QsVUFBVTtJQUNWLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksNENBQTRDO0lBQzVDLDRCQUE0QjtJQUM1Qix3Q0FBd0M7SUFDeEMsMkNBQTJDO0lBQzNDLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixvQkFBb0I7SUFDcEIsdUJBQXVCOztBQUUzQjs7QUFFQTtJQUNJLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxlQUFlO0lBQ2Ysd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLGtCQUFrQjtJQUNsQix3QkFBd0I7QUFDNUI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLG1CQUFtQjtJQUNuQixtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLG1CQUFtQjs7SUFFbkIsdUJBQXVCLEVBQUUsaUJBQWlCO0FBQzlDOztBQUVBO0lBQ0ksZUFBZTtJQUNmO21CQUNlO0lBQ2YsaUNBQWlDO0lBQ2pDLGtCQUFrQjtJQUNsQixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksZUFBZTtJQUNmO21CQUNlO0FBQ25COztBQUVBO0lBQ0ksa0JBQWtCLEVBQUUsU0FBUyxFQUFFLFdBQVc7QUFDOUM7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9mZWVkL2ZlZWQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItbWF7IFxyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgbWFyZ2luLXRvcDogMzBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbiAgICAvKiBiYWNrZ3JvdW5kOiBmdWNoc2lhOyAqL1xyXG59XHJcblxyXG4udHdlZXR7XHJcbiAgICBmb250LWZhbWlseTogJ00gUExVUyBSb3VuZGVkIDFjJywgc2Fucy1zZXJpZjtcclxuICAgIHBhZGRpbmc6IDEwcHggNDBweCA0MHB4IDQwcHg7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiKDIyMSwgMjIxLCAyMjEpO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYigyMjEsIDIyMSwgMjIxKTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLmltYWdle1xyXG4gICAgbWluLXdpZHRoOiAzMDBweDtcclxuICAgIG1heC13aWR0aDogMzUwcHg7XHJcbiAgICBtYXgtaGVpZ2h0OiAzMDBweDtcclxufVxyXG5cclxuLnNoYXJlZC1ieXtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbiAgICBjb2xvcjogcmdiKDMwLCAxNzIsIDQyKTtcclxuXHJcbn1cclxuXHJcbi51c2VyLXNoYXJpbmd7XHJcbiAgICBjb2xvcjogcmdiKDMwLCAxNzIsIDQyKTtcclxufVxyXG5cclxuLm5hbWUsIC5kZXNjcmlwdGlvbiwgLmJ5LCAuYnktdXNlciwgLmRhdGUsIC5pbnRlcmFjdGlvbnMsIC5jb3VudGVye1xyXG4gICAgZm9udC1zaXplOiAzMHB4O1xyXG59XHJcblxyXG4ubmFtZXtcclxuICAgIGZvbnQtc2l6ZTogNDBweDtcclxuICAgIGNvbG9yOiByZ2IoNDgsIDE5NiwgMTk2KTtcclxufVxyXG5cclxuLmJ5LXVzZXJ7XHJcbiAgICAvKiBkaXNwbGF5OiBpbmxpbmU7ICovXHJcbiAgICBtYXJnaW4tcmlnaHQ6IDI3cHg7XHJcbiAgICBjb2xvcjogcmdiKDQ4LCAxOTYsIDE5Nik7XHJcbn1cclxuXHJcbi5kZXNjcmlwdGlvbntcclxuICAgIGZvbnQtc2l6ZTogMjVweDtcclxuICAgIG1heC1oZWlnaHQ6IDExNXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogNDBweDtcclxuICAgIC8qIERvZXMgdGhlIG1hZ2ljICovXHJcbiAgICBvdmVyZmxvdyA6aGlkZGVuO1xyXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICAgIFxyXG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IC8qIEFkZHMgdGhlIC4uLiAqL1xyXG59XHJcblxyXG4uZGF0ZXtcclxuICAgIGZvbnQtc2l6ZTogMjNweDtcclxuICAgIC8qIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGJvdHRvbTogLTVweDsgKi9cclxuICAgIGNvbG9yOiByZ2JhKDE3MCwgMTcwLCAxNzAsIDAuNjg1KTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGJvdHRvbTogLTVweDtcclxufVxyXG5cclxuLmNvdW50ZXJ7XHJcbiAgICBmb250LXNpemU6IDI3cHg7XHJcbiAgICAvKiBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBib3R0b206IC03cHg7ICovXHJcbn1cclxuXHJcbi5ib3R0b217XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IGJvdHRvbTogMDsgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5lbXB0eXtcclxuICAgIGhlaWdodDogMzVweDtcclxufSJdfQ== */\"","module.exports = \"<div class=\\\"container-fluid col-md-12 container-ma\\\">\\n  <div class=\\\"tweet\\\" *ngFor=\\\"let element of sharedImages; let i = index\\\">\\n\\n    <div class=\\\"row\\\" *ngIf=\\\"element.user.nick != element.image.user.nick else empty\\\">\\n      <div class=\\\"col-md-4 text-center shared-by\\\">\\n        <i class=\\\"fas fa-retweet\\\"></i> Compartido por <a class=\\\"user-sharing\\\" [routerLink]=\\\"['/profile', element.user.nick]\\\">{{element.user.nick}}</a>\\n      </div>\\n      <div class=\\\"col-md-8\\\"></div>\\n    </div>\\n    <ng-template #empty>\\n      <div class=\\\"col-md-12 empty\\\"></div>\\n    </ng-template>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-4 text-center\\\">\\n        <a [routerLink]=\\\"['/images', element.image.id]\\\">\\n          <img class=\\\"image\\\" [src]=\\\"['assets/public/' + element.image.url]\\\">\\n        </a>\\n      </div>\\n      <div class=\\\"col-md-8\\\">\\n        <div class=\\\"row pb-4\\\">\\n          <div class=\\\"col-md-12\\\">\\n            <a [routerLink]=\\\"['/images', element.image.id]\\\" class=\\\"name\\\">[{{element.image.name}}]</a>\\n          </div>\\n          <div class=\\\"col-md-12\\\">\\n            <span class=\\\"by\\\">por </span> <a [routerLink]=\\\"['/profile', element.image.user.nick]\\\" class=\\\"by-user\\\">{{element.image.user.nick}}</a>\\n            <button type=\\\"button\\\" *ngIf=\\\"element.image.user.nick != this.identity.nick\\\" class=\\\"button button-follow no-follow\\\"\\n              [name]=\\\"'user-' + element.image.user.nick\\\" (click)=\\\"follow(token, element.image.user.nick)\\\"></button>\\n            <!-- *ngIf=\\\"this.username != this.identity.nick\\\" -->\\n          </div>\\n        </div>\\n        <div class=\\\"row pb-3\\\">\\n          <div class=\\\"col-md-12 description\\\">\\n            <div *ngIf=\\\"element.image.description != null else nodescr\\\">\\n              <span [innerHTML]=\\\"element.image.description\\\"></span>\\n            </div>\\n            <ng-template #nodescr>\\n              <span> El usuario no ha agregado ninguna descripción.</span>\\n            </ng-template>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row bottom\\\">\\n          <div class=\\\"col-md-6 counter\\\">\\n            <!--  bottom-align-text -->\\n            <i class=\\\"fas fa-heart\\\"></i> {{element.image.likes}}\\n            <i class=\\\"fas fa-star\\\"></i> {{element.image.favs}} \\n            <i class=\\\"fas fa-retweet\\\"></i> {{element.image.shares}}\\n          </div>\\n          <div class=\\\"col-md-6 date\\\">\\n            El {{element.image.createdAt}}\\n            <!-- <br> -->\\n            <!-- CE {{element.sharedAt}} -->\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit, HostListener } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { ImageService } from '../../services/image.service';\nimport { CommonService } from '../../services/common.service';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { Renderer2 } from '@angular/core';\n\n\n@Component({\n    selector: 'app-feed',\n    templateUrl: './feed.component.html',\n    styleUrls: ['./feed.component.css'],\n    providers: [UserService, ImageService, CommonService]\n})\n\nexport class FeedComponent implements OnInit {\n\n    public page_title: string;\n    public identity;\n    public token;\n    public images;\n    // public page;\n    // public next_page;\n    // public prev_page;\n    // public number_pages;\n    // public total_pages;\n    public nightMode;\n    public arrayNightMode;\n    public nsfw;\n    public epilepsy;\n    public username;\n    public followStatus;\n    public element: number;\n    public found;\n    public description;\n    public isFollowing: boolean;\n    public _imageURL: string;\n    public sharedImages: any = [];\n    public sharError;\n    public index: number;  // Cada vez que se llega abajo, hace query y se asigna uno nuevo.\n    public loaded: boolean;\n    public isLast: boolean;\n\n    constructor(\n        private _userService: UserService,\n        private _imageService: ImageService,\n        private _commonService: CommonService,\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private render: Renderer2\n    ) {\n        this.sharError = 0;\n        this.arrayNightMode = [\"day-container\", \"night-container\", \"day-bg\", \"night-bg\"];\n    }\n\n    ngOnInit() {\n\n        this.loadUser();\n        if (localStorage.getItem(\"config\") != null && localStorage.getItem(\"config\") != \"undefined\") {\n\n            this.nightMode = JSON.parse(localStorage.getItem(\"config\")).nightMode;\n            this._commonService.changeNightModeAttr(this.nightMode, this.arrayNightMode);\n\n        }\n        this.loaded = true;\n        this.index = 0;\n        this.isLast = false;\n\n        this.nsfw = JSON.parse(localStorage.getItem(\"config\")).nsfw;\n        this.epilepsy = JSON.parse(localStorage.getItem(\"config\")).epilepsy;\n\n        this.getSharedItems(this.index);\n        // this._userService.checkFollowing(this);  // Hay que hacer un caso a parte\n\n    }\n\n    @HostListener(\"window:scroll\", ['$event'])\n    doSomethingOnWindowsScroll($event: Event) {\n\n        var d = document.documentElement;\n        var offset = d.scrollTop + window.innerHeight;\n        var height = d.offsetHeight;\n\n        // console.log('offset = ' + offset);\n        // console.log('height = ' + height);\n\n        if (offset >= (height - 5) && this.loaded == true && this.isLast == false) { // 5 es el margen de error\n            this.loaded = false;\n            this.getSharedItems(this.index);\n        }\n    }\n\n    loadUser() {\n        this.identity = this._userService.getIdentity();\n        this.token = this._userService.getToken();\n        if (this.identity == null) {\n            this.identity = {\n                id: 0,\n                nick: 'guest'\n            };\n        }\n    }\n\n    follow(token, nick) {\n        this._userService.follow(token, nick).subscribe(\n            response => {\n                if (response.status == \"success\") {\n                    var userclass = \"user-\" + nick;\n                    this._userService.checkFollowing(this, nick, userclass);\n                }\n            },\n            error => {\n                console.log(\"Ero\");\n            }\n        );\n    }\n\n    getSharedItems(index) {\n        let quantity = JSON.parse(localStorage.getItem(\"config\")).feed;\n        this._imageService.getShared(this.token, index, quantity, this.nsfw, this.epilepsy).subscribe(\n            response => {\n                if (response.is_last == true) {\n                    this.isLast = true;\n                }\n                if (response.status == \"success\") {\n                    let counter = 0;\n                    for (let i = 0; i < response.element.length; i++) {\n                        this.sharedImages.push(response.element[i]);\n                        counter++;\n                    }\n\n                    // this.sharedImages[0].image.name; // Nombre de imagen\n                    // this.sharedImages[0].image.url; // Url de la imagen\n                    // this.sharedImages[0].image.createdAt; // Fecha de imagen\n                    // this.sharedImages[0].image.description; // Descripción de imagen\n                    // this.sharedImages[0].image.user.nick; // Nick de propietario de la imagen\n                    // this.sharedImages[0].user.nick; // Nick de quien la ha compartido\n\n                    console.log(this.sharedImages);\n                    // this.sharedImages = response;\n\n                    for (let i = 0; i < this.sharedImages.length; i++) {\n\n                        let descr = this.sharedImages[i].image.description;\n\n                        if (descr != null) {\n                            descr = descr.replace(/\\\\n/g, \"<br>\");\n                        }\n\n                        let date = this.sharedImages[i].image.createdAt;\n\n                        date = this._commonService.dateFormat(date);\n                        this.sharedImages[i].image.createdAt = date;\n\n                        this.sharedImages[i].image.description = descr;\n\n                        var nick = this.sharedImages[i].image.user.nick;\n                        var userclass = \"user-\" + nick;\n                        this._userService.checkFollowing(this, nick, userclass);\n                        this.imageInteractions(i);\n                    }\n                    this.loaded = true;\n                    this.index = response.index;\n\n                    if (response.isLast == true) {\n                        this.isLast = true;\n                    }\n                }\n                else {\n                    this.getSharedItems(this.index);\n                }\n            },\n            error => {\n                this.sharedImages = [];\n                console.log(\"getShared()\");\n                console.log(\"Ero...\" + \" attempt: \" + this.sharError);\n                if (this.sharError < 5) {\n                    this.getSharedItems(this.index);\n                    this.sharError++;\n                }\n            }\n        );\n    }\n\n    imageInteractions(index){\n        this._imageService.getInteractionsCount(this.sharedImages[index].image.id).subscribe(\n            response => {\n                this.sharedImages[index].image.likes = response.likes;\n                this.sharedImages[index].image.favs = response.favs;\n                this.sharedImages[index].image.shares = response.shares;\n\n                console.log(this.sharedImages[index]);\n            },\n            error => {\n                this.imageInteractions(index);\n            }\n        );\n    }\n}\n","module.exports = \".container-ma{ \\r\\n    margin-top: 40px; \\r\\n    margin-bottom: 40px; \\r\\n    border-radius: 5px; \\r\\n    padding-top: 30px;\\r\\n    padding-bottom: 40px;\\r\\n    width: 95%;\\r\\n    min-height: 10vh;\\r\\n}\\r\\n\\r\\n.row div:nth-child(1){ padding-left: 40px; }\\r\\n\\r\\n.row div:nth-child(4){ padding-right: 40px; }\\r\\n\\r\\n/* .box #image-box{ background: rgba(0, 0, 0, 0.123); height: 300px; } */\\r\\n\\r\\n.container-images{ display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; }\\r\\n\\r\\n/* grid-template-rows: 1fr 1fr 1fr 1fr; -> Si no hay las 4 filas, no quiero que aparezcan elementos invisibles. */\\r\\n\\r\\n.grid-col-1 { grid-row: 1; grid-column: 1; }\\r\\n\\r\\n.grid-col-2 { grid-row: 1; grid-column: 2; }\\r\\n\\r\\n.grid-col-3 { grid-row: 1; grid-column: 3; }\\r\\n\\r\\n.grid-col-4 { grid-row: 1; grid-column: 4; }\\r\\n\\r\\n.grid-col-5 { grid-row: 2; grid-column: 1; }\\r\\n\\r\\n.grid-col-6 { grid-row: 2; grid-column: 2; }\\r\\n\\r\\n.grid-col-7 { grid-row: 2; grid-column: 3; }\\r\\n\\r\\n.grid-col-8 { grid-row: 2; grid-column: 4; }\\r\\n\\r\\n.grid-col-9 { grid-row: 3; grid-column: 1; }\\r\\n\\r\\n.grid-col-10{ grid-row: 3; grid-column: 2; }\\r\\n\\r\\n.grid-col-11{ grid-row: 3; grid-column: 3; }\\r\\n\\r\\n.grid-col-12{ grid-row: 3; grid-column: 4; }\\r\\n\\r\\n.grid-col-13{ grid-row: 4; grid-column: 1; }\\r\\n\\r\\n.grid-col-14{ grid-row: 4; grid-column: 2; }\\r\\n\\r\\n.grid-col-15{ grid-row: 4; grid-column: 3; }\\r\\n\\r\\n.grid-col-16{ grid-row: 4; grid-column: 4; }\\r\\n\\r\\n/* .{  } */\\r\\n\\r\\n.box{ padding: 10px 10px 10px 10px; justify-self: center; align-self: center;}\\r\\n\\r\\n.box #image-box{ width: 300px; height: 250px; display: grid; }\\r\\n\\r\\n.image-parent, .image-element{ max-height: 250px; max-width: 300px; /*250px*/ align-self: center; justify-self: center; cursor: pointer; position: relative; }\\r\\n\\r\\n/* Añadir como requisito un min width y height de 150px al subir imagen.*/\\r\\n\\r\\n.image-parent:hover, .hovered-parent{\\r\\n    background-image: linear-gradient(transparent 20%,rgb(40, 44, 0) 100%); \\r\\n    opacity: 1; }\\r\\n\\r\\n.image-element { min-width: 233px; }\\r\\n\\r\\n/* Para la barra de acciones */\\r\\n\\r\\n.image-element:hover, .hovered-children{\\r\\n    -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,0.2));\\r\\n            mask-image: linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,0.2)); }\\r\\n\\r\\n/* Blue ver.\\r\\n.image-element:hover, .hovered-children{-webkit-mask-image:-webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0.2)));\\r\\n    mask-image: linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,0.2)); }\\r\\n*/\\r\\n\\r\\n.image-description{\\r\\n    visibility: hidden;\\r\\n    opacity: 0;\\r\\n    transition: opacity 0.3s ease-out;\\r\\n    pointer-events: none; \\r\\n    position: absolute; \\r\\n    color: white; \\r\\n    font-size: 22px;\\r\\n    line-height: 110%; \\r\\n    bottom: 15px; \\r\\n    left: 0px; \\r\\n    margin-left: 20px; \\r\\n    margin-right: 20px; \\r\\n}\\r\\n\\r\\n.image-parent:hover > .image-description{\\r\\n    visibility: visible;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.image-description:hover{ visibility: visible;\\r\\n    opacity: 1; transition: opacity 0.3s ease-out; }\\r\\n\\r\\n.image-by{\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.image-user{\\r\\n    color: rgb(242, 255, 168);\\r\\n}\\r\\n\\r\\n/* Blue ver. \\r\\n.image-user{ color: rgb(128, 215, 255); } \\r\\n*/\\r\\n\\r\\n.image-action{ position: absolute; top: 0; right: 0; visibility: hidden; \\r\\n}\\r\\n\\r\\n.image-frame, .image-heart, .image-star, .image-arrows{ position: absolute; }\\r\\n\\r\\n.like{ top: -2px; right: -1px; cursor: default; z-index: 1; }\\r\\n\\r\\n.fav{ top: -2px; right: 64px; cursor: default; width: 94px; height: 46px;  z-index: 2;  }\\r\\n\\r\\n.share{ top: -2px; right: 129px; cursor: default; width: 94px; height: 46px;  z-index: 3; }\\r\\n\\r\\n.like, .fav, .share{ opacity: 0.9; }\\r\\n\\r\\n.like:hover, .like-hovered, .fav:hover, .fav-hovered, .share:hover, .share-hovered{ -webkit-transform: scale(1.1, 1.1); transform: scale(1.1, 1.1); z-index: 4; }\\r\\n\\r\\n.image-heart, .image-star, .image-arrows{ cursor: pointer; width: 17px; height: 17px; -webkit-transform: scale(1.5, 1.5); transform: scale(1.5, 1.5); \\r\\n    z-index: 4; background-repeat: no-repeat; }\\r\\n\\r\\n.image-heart:hover, .image-star:hover, .image-arrows:hover{ -webkit-transform: scale(2, 2); transform: scale(2, 2); }\\r\\n\\r\\n.image-heart, .image-not-liked{ background-image: url('heart.png'); top: 14px; right: 27px; }\\r\\n\\r\\n.like:hover ~ .image-heart{ background-image: url('heart-active.png'); }\\r\\n\\r\\n.image-heart:hover, .image-liked{background-image: url('heart-active.png'); }\\r\\n\\r\\n.image-star, .image-not-faved{ background-image: url('star.png');  top: 13px; right: 99px; }\\r\\n\\r\\n.fav:hover ~ .image-star{ background-image: url('star-active.png'); }\\r\\n\\r\\n.image-star:hover, .image-faved{ background-image: url('star-active.png'); }\\r\\n\\r\\n.image-arrows, .image-not-shared{ background-image: url('repost.png');  top: 14px; right: 163px; }\\r\\n\\r\\n.share:hover ~ .image-arrows{ background-image: url('repost-active.png'); }\\r\\n\\r\\n.image-arrows:hover, .image-shared{ background-image: url('repost-active.png'); }\\r\\n\\r\\n.image-parent:hover .image-action{ visibility: visible; }\\r\\n\\r\\n.pagination{ margin-right: 30px; margin-bottom: 30px; }\\r\\n\\r\\n.active{ background: rgb(29, 146, 255); color: white; cursor: none; pointer-events: none; }\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9ob21lL2hvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixvQkFBb0I7SUFDcEIsVUFBVTtJQUNWLGdCQUFnQjtBQUNwQjs7QUFFQSx1QkFBdUIsa0JBQWtCLEVBQUU7O0FBRTNDLHVCQUF1QixtQkFBbUIsRUFBRTs7QUFFNUMsd0VBQXdFOztBQUV4RSxtQkFBbUIsYUFBYSxFQUFFLHNDQUFzQyxFQUFFOztBQUMxRSxpSEFBaUg7O0FBQ2pILGNBQWMsV0FBVyxFQUFFLGNBQWMsRUFBRTs7QUFDM0MsY0FBYyxXQUFXLEVBQUUsY0FBYyxFQUFFOztBQUMzQyxjQUFjLFdBQVcsRUFBRSxjQUFjLEVBQUU7O0FBQzNDLGNBQWMsV0FBVyxFQUFFLGNBQWMsRUFBRTs7QUFDM0MsY0FBYyxXQUFXLEVBQUUsY0FBYyxFQUFFOztBQUMzQyxjQUFjLFdBQVcsRUFBRSxjQUFjLEVBQUU7O0FBQzNDLGNBQWMsV0FBVyxFQUFFLGNBQWMsRUFBRTs7QUFDM0MsY0FBYyxXQUFXLEVBQUUsY0FBYyxFQUFFOztBQUMzQyxjQUFjLFdBQVcsRUFBRSxjQUFjLEVBQUU7O0FBQzNDLGNBQWMsV0FBVyxFQUFFLGNBQWMsRUFBRTs7QUFDM0MsY0FBYyxXQUFXLEVBQUUsY0FBYyxFQUFFOztBQUMzQyxjQUFjLFdBQVcsRUFBRSxjQUFjLEVBQUU7O0FBQzNDLGNBQWMsV0FBVyxFQUFFLGNBQWMsRUFBRTs7QUFDM0MsY0FBYyxXQUFXLEVBQUUsY0FBYyxFQUFFOztBQUMzQyxjQUFjLFdBQVcsRUFBRSxjQUFjLEVBQUU7O0FBQzNDLGNBQWMsV0FBVyxFQUFFLGNBQWMsRUFBRTs7QUFFM0MsVUFBVTs7QUFFVixNQUFNLDRCQUE0QixFQUFFLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDOztBQUU3RSxpQkFBaUIsWUFBWSxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUU7O0FBRTdELCtCQUErQixpQkFBaUIsRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsa0JBQWtCLEVBQUUsb0JBQW9CLEVBQUUsZUFBZSxFQUFFLGtCQUFrQixFQUFFOztBQUFFLHlFQUF5RTs7QUFFeE87SUFDSSxzRUFBc0U7SUFDdEUsVUFBVSxFQUFFOztBQUVoQixpQkFBaUIsZ0JBQWdCLEVBQUU7O0FBQUUsOEJBQThCOztBQUVuRTtJQUNJLDhFQUFzRTtZQUF0RSxzRUFBc0UsRUFBRTs7QUFFNUU7OztDQUdDOztBQUVEO0lBQ0ksa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixpQ0FBaUM7SUFDakMsb0JBQW9CO0lBQ3BCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osU0FBUztJQUNULGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsVUFBVTtBQUNkOztBQUVBLDBCQUEwQixtQkFBbUI7SUFDekMsVUFBVSxFQUFFLGlDQUFpQyxFQUFFOztBQUVuRDtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBR0E7O0NBRUM7O0FBRUQsZUFBZSxrQkFBa0IsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLGtCQUFrQjtBQUN2RTs7QUFDQSx3REFBd0Qsa0JBQWtCLEVBQUU7O0FBQzVFLE9BQU8sU0FBUyxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsVUFBVSxFQUFFOztBQUM1RCxNQUFNLFNBQVMsRUFBRSxXQUFXLEVBQUUsZUFBZSxFQUFFLFdBQVcsRUFBRSxZQUFZLEdBQUcsVUFBVSxHQUFHOztBQUN4RixRQUFRLFNBQVMsRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFLFdBQVcsRUFBRSxZQUFZLEdBQUcsVUFBVSxFQUFFOztBQUMxRixxQkFBcUIsWUFBWSxFQUFFOztBQUNuQyxvRkFBb0Ysa0NBQTBCLEVBQTFCLDBCQUEwQixFQUFFLFVBQVUsRUFBRTs7QUFFNUgsMENBQTBDLGVBQWUsRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLGtDQUEwQixFQUExQiwwQkFBMEI7SUFDNUcsVUFBVSxFQUFFLDRCQUE0QixFQUFFOztBQUM5Qyw0REFBNEQsOEJBQXNCLEVBQXRCLHNCQUFzQixFQUFFOztBQUdwRixnQ0FBZ0Msa0NBQXNELEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRTs7QUFDaEgsNEJBQTRCLHlDQUE2RCxFQUFFOztBQUMzRixpQ0FBaUMseUNBQTZELEVBQUU7O0FBRWhHLCtCQUErQixpQ0FBcUQsR0FBRyxTQUFTLEVBQUUsV0FBVyxFQUFFOztBQUMvRywwQkFBMEIsd0NBQTRELEVBQUU7O0FBQ3hGLGlDQUFpQyx3Q0FBNEQsRUFBRTs7QUFFL0Ysa0NBQWtDLG1DQUF1RCxHQUFHLFNBQVMsRUFBRSxZQUFZLEVBQUU7O0FBQ3JILDhCQUE4QiwwQ0FBOEQsRUFBRTs7QUFDOUYsb0NBQW9DLDBDQUE4RCxFQUFFOztBQUVwRyxtQ0FBbUMsbUJBQW1CLEVBQUU7O0FBRXhELGFBQWEsa0JBQWtCLEVBQUUsbUJBQW1CLEVBQUU7O0FBRXRELFNBQVMsNkJBQTZCLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxvQkFBb0IsRUFBRSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvaG9tZS9ob21lLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLW1heyBcclxuICAgIG1hcmdpbi10b3A6IDQwcHg7IFxyXG4gICAgbWFyZ2luLWJvdHRvbTogNDBweDsgXHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7IFxyXG4gICAgcGFkZGluZy10b3A6IDMwcHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogNDBweDtcclxuICAgIHdpZHRoOiA5NSU7XHJcbiAgICBtaW4taGVpZ2h0OiAxMHZoO1xyXG59XHJcblxyXG4ucm93IGRpdjpudGgtY2hpbGQoMSl7IHBhZGRpbmctbGVmdDogNDBweDsgfVxyXG5cclxuLnJvdyBkaXY6bnRoLWNoaWxkKDQpeyBwYWRkaW5nLXJpZ2h0OiA0MHB4OyB9XHJcblxyXG4vKiAuYm94ICNpbWFnZS1ib3h7IGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4xMjMpOyBoZWlnaHQ6IDMwMHB4OyB9ICovXHJcblxyXG4uY29udGFpbmVyLWltYWdlc3sgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyIDFmciAxZnI7IH1cclxuLyogZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxZnIgMWZyIDFmciAxZnI7IC0+IFNpIG5vIGhheSBsYXMgNCBmaWxhcywgbm8gcXVpZXJvIHF1ZSBhcGFyZXpjYW4gZWxlbWVudG9zIGludmlzaWJsZXMuICovIFxyXG4uZ3JpZC1jb2wtMSB7IGdyaWQtcm93OiAxOyBncmlkLWNvbHVtbjogMTsgfVxyXG4uZ3JpZC1jb2wtMiB7IGdyaWQtcm93OiAxOyBncmlkLWNvbHVtbjogMjsgfVxyXG4uZ3JpZC1jb2wtMyB7IGdyaWQtcm93OiAxOyBncmlkLWNvbHVtbjogMzsgfVxyXG4uZ3JpZC1jb2wtNCB7IGdyaWQtcm93OiAxOyBncmlkLWNvbHVtbjogNDsgfVxyXG4uZ3JpZC1jb2wtNSB7IGdyaWQtcm93OiAyOyBncmlkLWNvbHVtbjogMTsgfVxyXG4uZ3JpZC1jb2wtNiB7IGdyaWQtcm93OiAyOyBncmlkLWNvbHVtbjogMjsgfVxyXG4uZ3JpZC1jb2wtNyB7IGdyaWQtcm93OiAyOyBncmlkLWNvbHVtbjogMzsgfVxyXG4uZ3JpZC1jb2wtOCB7IGdyaWQtcm93OiAyOyBncmlkLWNvbHVtbjogNDsgfVxyXG4uZ3JpZC1jb2wtOSB7IGdyaWQtcm93OiAzOyBncmlkLWNvbHVtbjogMTsgfVxyXG4uZ3JpZC1jb2wtMTB7IGdyaWQtcm93OiAzOyBncmlkLWNvbHVtbjogMjsgfVxyXG4uZ3JpZC1jb2wtMTF7IGdyaWQtcm93OiAzOyBncmlkLWNvbHVtbjogMzsgfVxyXG4uZ3JpZC1jb2wtMTJ7IGdyaWQtcm93OiAzOyBncmlkLWNvbHVtbjogNDsgfVxyXG4uZ3JpZC1jb2wtMTN7IGdyaWQtcm93OiA0OyBncmlkLWNvbHVtbjogMTsgfVxyXG4uZ3JpZC1jb2wtMTR7IGdyaWQtcm93OiA0OyBncmlkLWNvbHVtbjogMjsgfVxyXG4uZ3JpZC1jb2wtMTV7IGdyaWQtcm93OiA0OyBncmlkLWNvbHVtbjogMzsgfVxyXG4uZ3JpZC1jb2wtMTZ7IGdyaWQtcm93OiA0OyBncmlkLWNvbHVtbjogNDsgfVxyXG5cclxuLyogLnsgIH0gKi9cclxuXHJcbi5ib3h7IHBhZGRpbmc6IDEwcHggMTBweCAxMHB4IDEwcHg7IGp1c3RpZnktc2VsZjogY2VudGVyOyBhbGlnbi1zZWxmOiBjZW50ZXI7fVxyXG5cclxuLmJveCAjaW1hZ2UtYm94eyB3aWR0aDogMzAwcHg7IGhlaWdodDogMjUwcHg7IGRpc3BsYXk6IGdyaWQ7IH1cclxuXHJcbi5pbWFnZS1wYXJlbnQsIC5pbWFnZS1lbGVtZW50eyBtYXgtaGVpZ2h0OiAyNTBweDsgbWF4LXdpZHRoOiAzMDBweDsgLyoyNTBweCovIGFsaWduLXNlbGY6IGNlbnRlcjsganVzdGlmeS1zZWxmOiBjZW50ZXI7IGN1cnNvcjogcG9pbnRlcjsgcG9zaXRpb246IHJlbGF0aXZlOyB9IC8qIEHDsWFkaXIgY29tbyByZXF1aXNpdG8gdW4gbWluIHdpZHRoIHkgaGVpZ2h0IGRlIDE1MHB4IGFsIHN1YmlyIGltYWdlbi4qL1xyXG5cclxuLmltYWdlLXBhcmVudDpob3ZlciwgLmhvdmVyZWQtcGFyZW50e1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRyYW5zcGFyZW50IDIwJSxyZ2IoNDAsIDQ0LCAwKSAxMDAlKTsgXHJcbiAgICBvcGFjaXR5OiAxOyB9XHJcblxyXG4uaW1hZ2UtZWxlbWVudCB7IG1pbi13aWR0aDogMjMzcHg7IH0gLyogUGFyYSBsYSBiYXJyYSBkZSBhY2Npb25lcyAqL1xyXG5cclxuLmltYWdlLWVsZW1lbnQ6aG92ZXIsIC5ob3ZlcmVkLWNoaWxkcmVuey13ZWJraXQtbWFzay1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKHJnYmEoMCwwLDAsMSkpLCB0byhyZ2JhKDAsMCwwLDAuMikpKTtcclxuICAgIG1hc2staW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHJnYmEoMCwwLDAsMSksIHJnYmEoMCwwLDAsMC4yKSk7IH1cclxuXHJcbi8qIEJsdWUgdmVyLlxyXG4uaW1hZ2UtZWxlbWVudDpob3ZlciwgLmhvdmVyZWQtY2hpbGRyZW57LXdlYmtpdC1tYXNrLWltYWdlOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20ocmdiYSgwLDAsMCwxKSksIHRvKHJnYmEoMCwwLDAsMC4yKSkpO1xyXG4gICAgbWFzay1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgcmdiYSgwLDAsMCwxKSwgcmdiYSgwLDAsMCwwLjIpKTsgfVxyXG4qL1xyXG5cclxuLmltYWdlLWRlc2NyaXB0aW9ue1xyXG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgb3BhY2l0eTogMDtcclxuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcyBlYXNlLW91dDtcclxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lOyBcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgXHJcbiAgICBjb2xvcjogd2hpdGU7IFxyXG4gICAgZm9udC1zaXplOiAyMnB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDExMCU7IFxyXG4gICAgYm90dG9tOiAxNXB4OyBcclxuICAgIGxlZnQ6IDBweDsgXHJcbiAgICBtYXJnaW4tbGVmdDogMjBweDsgXHJcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7IFxyXG59XHJcblxyXG4uaW1hZ2UtcGFyZW50OmhvdmVyID4gLmltYWdlLWRlc2NyaXB0aW9ue1xyXG4gICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcclxuICAgIG9wYWNpdHk6IDE7XHJcbn1cclxuXHJcbi5pbWFnZS1kZXNjcmlwdGlvbjpob3ZlcnsgdmlzaWJpbGl0eTogdmlzaWJsZTtcclxuICAgIG9wYWNpdHk6IDE7IHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcyBlYXNlLW91dDsgfVxyXG5cclxuLmltYWdlLWJ5e1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG59XHJcblxyXG4uaW1hZ2UtdXNlcntcclxuICAgIGNvbG9yOiByZ2IoMjQyLCAyNTUsIDE2OCk7XHJcbn1cclxuXHJcblxyXG4vKiBCbHVlIHZlci4gXHJcbi5pbWFnZS11c2VyeyBjb2xvcjogcmdiKDEyOCwgMjE1LCAyNTUpOyB9IFxyXG4qL1xyXG5cclxuLmltYWdlLWFjdGlvbnsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IHJpZ2h0OiAwOyB2aXNpYmlsaXR5OiBoaWRkZW47IFxyXG59XHJcbi5pbWFnZS1mcmFtZSwgLmltYWdlLWhlYXJ0LCAuaW1hZ2Utc3RhciwgLmltYWdlLWFycm93c3sgcG9zaXRpb246IGFic29sdXRlOyB9XHJcbi5saWtleyB0b3A6IC0ycHg7IHJpZ2h0OiAtMXB4OyBjdXJzb3I6IGRlZmF1bHQ7IHotaW5kZXg6IDE7IH1cclxuLmZhdnsgdG9wOiAtMnB4OyByaWdodDogNjRweDsgY3Vyc29yOiBkZWZhdWx0OyB3aWR0aDogOTRweDsgaGVpZ2h0OiA0NnB4OyAgei1pbmRleDogMjsgIH1cclxuLnNoYXJleyB0b3A6IC0ycHg7IHJpZ2h0OiAxMjlweDsgY3Vyc29yOiBkZWZhdWx0OyB3aWR0aDogOTRweDsgaGVpZ2h0OiA0NnB4OyAgei1pbmRleDogMzsgfVxyXG4ubGlrZSwgLmZhdiwgLnNoYXJleyBvcGFjaXR5OiAwLjk7IH1cclxuLmxpa2U6aG92ZXIsIC5saWtlLWhvdmVyZWQsIC5mYXY6aG92ZXIsIC5mYXYtaG92ZXJlZCwgLnNoYXJlOmhvdmVyLCAuc2hhcmUtaG92ZXJlZHsgdHJhbnNmb3JtOiBzY2FsZSgxLjEsIDEuMSk7IHotaW5kZXg6IDQ7IH1cclxuXHJcbi5pbWFnZS1oZWFydCwgLmltYWdlLXN0YXIsIC5pbWFnZS1hcnJvd3N7IGN1cnNvcjogcG9pbnRlcjsgd2lkdGg6IDE3cHg7IGhlaWdodDogMTdweDsgdHJhbnNmb3JtOiBzY2FsZSgxLjUsIDEuNSk7IFxyXG4gICAgei1pbmRleDogNDsgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsgfVxyXG4uaW1hZ2UtaGVhcnQ6aG92ZXIsIC5pbWFnZS1zdGFyOmhvdmVyLCAuaW1hZ2UtYXJyb3dzOmhvdmVyeyB0cmFuc2Zvcm06IHNjYWxlKDIsIDIpOyB9XHJcblxyXG5cclxuLmltYWdlLWhlYXJ0LCAuaW1hZ2Utbm90LWxpa2VkeyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuLi8uLi8uLi9hc3NldHMvaW1nL2hlYXJ0LnBuZ1wiKTsgdG9wOiAxNHB4OyByaWdodDogMjdweDsgfVxyXG4ubGlrZTpob3ZlciB+IC5pbWFnZS1oZWFydHsgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiLi4vLi4vLi4vYXNzZXRzL2ltZy9oZWFydC1hY3RpdmUucG5nXCIpOyB9XHJcbi5pbWFnZS1oZWFydDpob3ZlciwgLmltYWdlLWxpa2Vke2JhY2tncm91bmQtaW1hZ2U6IHVybChcIi4uLy4uLy4uL2Fzc2V0cy9pbWcvaGVhcnQtYWN0aXZlLnBuZ1wiKTsgfVxyXG5cclxuLmltYWdlLXN0YXIsIC5pbWFnZS1ub3QtZmF2ZWR7IGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4uLy4uLy4uL2Fzc2V0cy9pbWcvc3Rhci5wbmdcIik7ICB0b3A6IDEzcHg7IHJpZ2h0OiA5OXB4OyB9XHJcbi5mYXY6aG92ZXIgfiAuaW1hZ2Utc3RhcnsgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiLi4vLi4vLi4vYXNzZXRzL2ltZy9zdGFyLWFjdGl2ZS5wbmdcIik7IH1cclxuLmltYWdlLXN0YXI6aG92ZXIsIC5pbWFnZS1mYXZlZHsgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiLi4vLi4vLi4vYXNzZXRzL2ltZy9zdGFyLWFjdGl2ZS5wbmdcIik7IH1cclxuXHJcbi5pbWFnZS1hcnJvd3MsIC5pbWFnZS1ub3Qtc2hhcmVkeyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuLi8uLi8uLi9hc3NldHMvaW1nL3JlcG9zdC5wbmdcIik7ICB0b3A6IDE0cHg7IHJpZ2h0OiAxNjNweDsgfVxyXG4uc2hhcmU6aG92ZXIgfiAuaW1hZ2UtYXJyb3dzeyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuLi8uLi8uLi9hc3NldHMvaW1nL3JlcG9zdC1hY3RpdmUucG5nXCIpOyB9XHJcbi5pbWFnZS1hcnJvd3M6aG92ZXIsIC5pbWFnZS1zaGFyZWR7IGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4uLy4uLy4uL2Fzc2V0cy9pbWcvcmVwb3N0LWFjdGl2ZS5wbmdcIik7IH1cclxuXHJcbi5pbWFnZS1wYXJlbnQ6aG92ZXIgLmltYWdlLWFjdGlvbnsgdmlzaWJpbGl0eTogdmlzaWJsZTsgfVxyXG5cclxuLnBhZ2luYXRpb257IG1hcmdpbi1yaWdodDogMzBweDsgbWFyZ2luLWJvdHRvbTogMzBweDsgfVxyXG5cclxuLmFjdGl2ZXsgYmFja2dyb3VuZDogcmdiKDI5LCAxNDYsIDI1NSk7IGNvbG9yOiB3aGl0ZTsgY3Vyc29yOiBub25lOyBwb2ludGVyLWV2ZW50czogbm9uZTsgfSJdfQ== */\"","module.exports = \"<div class=\\\"container-fluid col-md-12 container-ma\\\">\\n  <h1 class=\\\"index-title\\\">{{page_title}}</h1>\\n  <hr>\\n  <!-- <div class=\\\"espaciado\\\"></div> -->\\n    <div class=\\\"container-images\\\">\\n    <div class=\\\"box grid-col-{{i+1}} pb-5\\\" *ngFor=\\\"let image of images; let i = index\\\">\\n      <div id=\\\"image-box\\\">\\n        <div #imageParent class=\\\"image-parent\\\" id=\\\"hover-parent\\\">\\n          <a [routerLink]=\\\"['/images', image[0].id]\\\">\\n            <img src=\\\"assets/public/{{image[0].url}}\\\" class=\\\"image-element\\\" id=\\\"id-{{image[0].id}}\\\" (mouseleave)=\\\"_imageService.out($event, this, null);\\\">\\n          </a>\\n          <span class=\\\"image-description\\\">\\n            {{image[0].name}}\\n            <br>\\n            <span class=\\\"image-by\\\">\\n              by <span class=\\\"image-user\\\">{{image.username}}</span>\\n            </span>\\n          </span>\\n          <div class=\\\"image-action\\\" *ngIf=\\\"identity && identity.nick != 'guest'\\\">\\n            <img class=\\\"image-frame like\\\" src=\\\"assets/img/image-like-border.png\\\" (mouseover)=\\\"_imageService.in($event, this, null);\\\"\\n              (mouseleave)=\\\"_imageService.out($event, this, null);\\\">\\n            <div class=\\\"image-heart\\\" (mouseover)=\\\"_imageService.in($event, this, 1);\\\" (mouseleave)=\\\"_imageService.out($event, this, 1);\\\" (click)=\\\"_imageService.saveInteraction($event, this, 'like');\\\"></div>\\n            <img class=\\\"image-frame fav\\\" src=\\\"assets/img/image-fav-border.png\\\" (mouseover)=\\\"_imageService.in($event, this, null);\\\"\\n              (mouseleave)=\\\"_imageService.out($event, this, null);\\\">\\n            <div class=\\\"image-star\\\" (mouseover)=\\\"_imageService.in($event, this, 2);\\\" (mouseleave)=\\\"_imageService.out($event, this, 2);\\\" (click)=\\\"_imageService.saveInteraction($event, this, 'fav');\\\"></div>\\n            <img class=\\\"image-frame share\\\" src=\\\"assets/img/image-share-border.png\\\" (mouseover)=\\\"_imageService.in($event, this, null);\\\"\\n              (mouseleave)=\\\"_imageService.out($event, this, null);\\\">\\n            <div class=\\\"image-arrows\\\" (mouseover)=\\\"_imageService.in($event,this, 3);\\\" (mouseleave)=\\\"_imageService.out($event, this, 3);\\\" (click)=\\\"_imageService.saveInteraction($event, this, 'share');\\\"></div>\\n          </div>\\n        </div>\\n        <!-- <img src=\\\"../api-rest-symfony/public/storage/images/image-example.jpg\\\" class=\\\"image-element\\\"> -->\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- <a href=\\\"index_2.html\\\">Siguiente</a> -->\\n\\n<nav aria-label=\\\"Page navigation example\\\">\\n  <ul class=\\\"pagination float-right\\\">\\n    <li *ngIf=\\\"page != 1 && total_pages > 1\\\">\\n      <a class=\\\"page-link\\\" [routerLink]=\\\"['/home', prev_page]\\\">Anterior</a>\\n    </li>\\n    <li *ngFor=\\\"let num of number_pages; let i = index\\\">\\n      <a class=\\\"page-link\\\" *ngIf=\\\"i<5\\\" [routerLink]=\\\"['/home', num]\\\" [ngClass]=\\\"{'active': num == page}\\\">{{num}}</a>\\n      <!-- Cambiar para que si p.e estás en la pág 20, salga 18 - 19 - 20 - 21 - 22 -->\\n    </li>\\n    <li *ngIf=\\\"page != total_pages\\\"> <!--  && total_pages > 1 -->\\n      <a class=\\\"page-link\\\" [routerLink]=\\\"['/home', next_page]\\\">Siguiente</a>\\n    </li>\\n  </ul>\\n</nav>\\n\\n<!-- div class=\\\"container-images\\\">\\n    <div class=\\\"row\\\" *ngFor=\\\"let item of [].constructor(4); let i = index\\\">\\n      <div class=\\\"col-md-3 box\\\" *ngFor=\\\"let item of [].constructor(4); let j = index\\\">\\n        <div id=\\\"image-box\\\"></div>\\n      </div>\\n    </div>\\n  </div -->\"","import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { ImageService } from '../../services/image.service';\nimport { CommonService } from '../../services/common.service';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { Renderer2 } from '@angular/core';\nimport * as $ from 'jquery';\n\n@Component({\n    selector: 'app-home',\n    templateUrl: './home.component.html',\n    styleUrls: ['./home.component.css'],\n    providers: [UserService, ImageService, CommonService]\n})\nexport class HomeComponent implements OnInit {\n\n    public page_title: string;\n    public identity;\n    public token;\n    public images;\n    public estado;\n    public page;\n    public next_page;\n    public prev_page;\n    public number_pages;\n    public total_pages;\n    public nightMode;\n    public arrayNightMode;\n    public nsfw;\n    public epilepsy;\n    public imagError;\n\n    constructor(\n        private _userService: UserService,\n        private _imageService: ImageService,\n        private _commonService: CommonService,\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private render: Renderer2\n    ) {\n        this.page_title = \"  Novedades\";\n        this.arrayNightMode = [\"day-container\", \"night-container\", \"day-bg\", \"night-bg\"]\n        this.imagError = 0;\n    }\n\n    ngOnInit() {\n        this.loadUser();\n\n        this.pageImages();\n\n        if (localStorage.getItem(\"config\") != null && localStorage.getItem(\"config\") != \"undefined\") {\n\n            this.nightMode = JSON.parse(localStorage.getItem(\"config\")).nightMode;\n            this._commonService.changeNightModeAttr(this.nightMode, this.arrayNightMode);\n        }\n    }\n\n    ngDoCheck() {\n        // this.loadUser();\n    }\n\n    pageImages(){\n        this._route.params.subscribe(params => {\n            this.page = +params['page'];\n\n            if (!this.page) {\n                this.page = 1;\n                this.prev_page = 1;\n                this.next_page = 2;\n            }\n            if (localStorage.getItem(\"config\") != null || localStorage.getItem(\"config\") != undefined) {\n                this.nsfw = JSON.parse(localStorage.getItem(\"config\")).nsfw;\n                this.epilepsy = JSON.parse(localStorage.getItem(\"config\")).epilepsy;\n            }\n            this._imageService.showAllImages(this, this.page, this.nsfw, this.epilepsy);\n        });\n    }\n\n    loadUser() {\n        this.identity = this._userService.getIdentity();\n        this.token = this._userService.getToken();\n        // console.log(this.token);\n    }\n}\n","module.exports = \".container-ma{ \\r\\n    margin-top: 40px; \\r\\n    margin-bottom: 40px; \\r\\n    border-radius: 5px; \\r\\n    padding-top: 30px;\\r\\n    padding-bottom: 40px;\\r\\n    width: 80%;\\r\\n    min-height: 10vh;\\r\\n}\\r\\n\\r\\n.edit, .delete, .unban{\\r\\n    position: absolute; \\r\\n    font-size: 40px;\\r\\n    cursor: pointer;\\r\\n    z-index: 1;\\r\\n}\\r\\n\\r\\n.delete{\\r\\n    top: 16px; \\r\\n    right: 16px;\\r\\n    color: rgb(110, 0, 0);\\r\\n}\\r\\n\\r\\n.edit{\\r\\n    top: 16px;\\r\\n    right: 60px;\\r\\n    color: rgb(180, 122, 15);\\r\\n}\\r\\n\\r\\n.unban{\\r\\n    top: 16px; \\r\\n    right: 16px;\\r\\n    color: rgb(4, 196, 106);\\r\\n}\\r\\n\\r\\n.title{\\r\\n    font-size: 40px;\\r\\n}\\r\\n\\r\\n.author{\\r\\n    font-size: 25px;\\r\\n}\\r\\n\\r\\n.author span{\\r\\n    color: rgb(77, 238, 63);\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.image{\\r\\n    max-width: 640px;\\r\\n    cursor: zoom-in;\\r\\n}\\r\\n\\r\\n.image-container{\\r\\n    align-self: center;\\r\\n}\\r\\n\\r\\n.nocursor{\\r\\n    cursor: default;\\r\\n}\\r\\n\\r\\n.image-actions{\\r\\n    position: absolute;\\r\\n    bottom: -42px;\\r\\n    left: 50%;\\r\\n    -webkit-transform: translateX(-50%);\\r\\n            transform: translateX(-50%);\\r\\n}\\r\\n\\r\\n.image-arrows-black{ position: static;}\\r\\n\\r\\n.image-star-black{ position: static;}\\r\\n\\r\\n.image-heart-black{ position: static;  }\\r\\n\\r\\n.image-arrows, .image-star, .image-heart{ z-index: 200; -webkit-transform: scale(1.5); transform: scale(1.5); position: static; display: inline-block; width: 24px; margin-right: 20px; }\\r\\n\\r\\n.rights{\\r\\n    font-size: 18px;\\r\\n}\\r\\n\\r\\n.rights .highlighed{\\r\\n    margin-left: 5px;\\r\\n    padding: 5px 10px;\\r\\n    background:rgba(184, 197, 0, 0.164);\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\n.tags-container{\\r\\n    font-size: 20px;\\r\\n}\\r\\n\\r\\n.tags{\\r\\n    font-size: 15px;\\r\\n    padding: 5px;\\r\\n    margin-right: 5px; \\r\\n    background: rgb(46, 115, 218);\\r\\n    color: white;\\r\\n    border-radius: 20px;\\r\\n    display:inline-block;\\r\\n    margin-bottom: 5px;\\r\\n    /* user-select: none; */\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.comments{\\r\\n    font-size: 30px; \\r\\n}\\r\\n\\r\\n.comment-image{\\r\\n    width: 100px;\\r\\n    height: 100px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.comment-name{\\r\\n    position: relative;\\r\\n    cursor: pointer;\\r\\n    top: -7px;\\r\\n    font-size: 18px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.comment-date{\\r\\n    position: relative;\\r\\n    top: -7px;\\r\\n    right: 0px;\\r\\n}\\r\\n\\r\\n.comment-text{\\r\\n    min-height: 64px;\\r\\n}\\r\\n\\r\\n.reply-comment{\\r\\n    color: grey;\\r\\n    cursor: pointer;\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\n.delete-comment{\\r\\n    color: rgb(175, 10, 10);\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.reply-comment, .delete-comment{\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\ntextarea{\\r\\n    padding: 10px;\\r\\n    width: 100%;\\r\\n    height: 115px;\\r\\n    resize: none;\\r\\n}\\r\\n\\r\\n.blur{\\r\\n    -webkit-filter: blur(8px);\\r\\n    -moz-filter: blur(8px);\\r\\n    -ms-filter: blur(8px);\\r\\n    -o-filter: blur(8px);\\r\\n    filter: blur(8px);\\r\\n}\\r\\n\\r\\n.view{\\r\\n    position: absolute;\\r\\n    z-index: 100;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    -webkit-transform: translate(-50%, -50%);\\r\\n            transform: translate(-50%, -50%);\\r\\n    background: rgba(0,0,0,0.5);\\r\\n    padding: 10px 20px;\\r\\n    font-weight: bold;\\r\\n    color: white;\\r\\n    border-radius: 5px;\\r\\n    font-size: 47px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9pbWFnZS9pbWFnZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLG9CQUFvQjtJQUNwQixVQUFVO0lBQ1YsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixlQUFlO0lBQ2YsVUFBVTtBQUNkOztBQUVBO0lBQ0ksU0FBUztJQUNULFdBQVc7SUFDWCxxQkFBcUI7QUFDekI7O0FBQ0E7SUFDSSxTQUFTO0lBQ1QsV0FBVztJQUNYLHdCQUF3QjtBQUM1Qjs7QUFFQTtJQUNJLFNBQVM7SUFDVCxXQUFXO0lBQ1gsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSx1QkFBdUI7SUFDdkIsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixlQUFlO0FBQ25COztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsU0FBUztJQUNULG1DQUEyQjtZQUEzQiwyQkFBMkI7QUFDL0I7O0FBRUEscUJBQXFCLGdCQUFnQixDQUFDOztBQUN0QyxtQkFBbUIsZ0JBQWdCLENBQUM7O0FBQ3BDLG9CQUFvQixnQkFBZ0IsR0FBRzs7QUFFdkMsMENBQTBDLFlBQVksRUFBRSw2QkFBcUIsRUFBckIscUJBQXFCLEVBQUUsZ0JBQWdCLEVBQUUscUJBQXFCLEVBQUUsV0FBVyxFQUFFLGtCQUFrQixFQUFFOztBQUV6SjtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLG1DQUFtQztJQUNuQyxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksZUFBZTtJQUNmLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsNkJBQTZCO0lBQzdCLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsb0JBQW9CO0lBQ3BCLGtCQUFrQjtJQUNsQix1QkFBdUI7SUFDdkIsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osYUFBYTtJQUNiLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLFNBQVM7SUFDVCxlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZUFBZTtJQUNmLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2QixlQUFlO0FBQ25COztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixXQUFXO0lBQ1gsYUFBYTtJQUNiLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLHFCQUFxQjtJQUNyQixvQkFBb0I7SUFDcEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixRQUFRO0lBQ1IsU0FBUztJQUNULHdDQUFnQztZQUFoQyxnQ0FBZ0M7SUFDaEMsMkJBQTJCO0lBQzNCLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsZUFBZTtBQUNuQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvaW1hZ2UvaW1hZ2UuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItbWF7IFxyXG4gICAgbWFyZ2luLXRvcDogNDBweDsgXHJcbiAgICBtYXJnaW4tYm90dG9tOiA0MHB4OyBcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDsgXHJcbiAgICBwYWRkaW5nLXRvcDogMzBweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiA0MHB4O1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICAgIG1pbi1oZWlnaHQ6IDEwdmg7XHJcbn1cclxuXHJcbi5lZGl0LCAuZGVsZXRlLCAudW5iYW57XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IFxyXG4gICAgZm9udC1zaXplOiA0MHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgei1pbmRleDogMTtcclxufVxyXG5cclxuLmRlbGV0ZXtcclxuICAgIHRvcDogMTZweDsgXHJcbiAgICByaWdodDogMTZweDtcclxuICAgIGNvbG9yOiByZ2IoMTEwLCAwLCAwKTtcclxufVxyXG4uZWRpdHtcclxuICAgIHRvcDogMTZweDtcclxuICAgIHJpZ2h0OiA2MHB4O1xyXG4gICAgY29sb3I6IHJnYigxODAsIDEyMiwgMTUpO1xyXG59XHJcblxyXG4udW5iYW57XHJcbiAgICB0b3A6IDE2cHg7IFxyXG4gICAgcmlnaHQ6IDE2cHg7XHJcbiAgICBjb2xvcjogcmdiKDQsIDE5NiwgMTA2KTtcclxufVxyXG5cclxuLnRpdGxle1xyXG4gICAgZm9udC1zaXplOiA0MHB4O1xyXG59XHJcblxyXG4uYXV0aG9ye1xyXG4gICAgZm9udC1zaXplOiAyNXB4O1xyXG59XHJcblxyXG4uYXV0aG9yIHNwYW57XHJcbiAgICBjb2xvcjogcmdiKDc3LCAyMzgsIDYzKTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLmltYWdle1xyXG4gICAgbWF4LXdpZHRoOiA2NDBweDtcclxuICAgIGN1cnNvcjogem9vbS1pbjtcclxufVxyXG5cclxuLmltYWdlLWNvbnRhaW5lcntcclxuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcclxufVxyXG5cclxuLm5vY3Vyc29ye1xyXG4gICAgY3Vyc29yOiBkZWZhdWx0O1xyXG59XHJcblxyXG4uaW1hZ2UtYWN0aW9uc3tcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGJvdHRvbTogLTQycHg7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XHJcbn1cclxuXHJcbi5pbWFnZS1hcnJvd3MtYmxhY2t7IHBvc2l0aW9uOiBzdGF0aWM7fVxyXG4uaW1hZ2Utc3Rhci1ibGFja3sgcG9zaXRpb246IHN0YXRpYzt9XHJcbi5pbWFnZS1oZWFydC1ibGFja3sgcG9zaXRpb246IHN0YXRpYzsgIH1cclxuXHJcbi5pbWFnZS1hcnJvd3MsIC5pbWFnZS1zdGFyLCAuaW1hZ2UtaGVhcnR7IHotaW5kZXg6IDIwMDsgdHJhbnNmb3JtOiBzY2FsZSgxLjUpOyBwb3NpdGlvbjogc3RhdGljOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiAyNHB4OyBtYXJnaW4tcmlnaHQ6IDIwcHg7IH1cclxuXHJcbi5yaWdodHN7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbn1cclxuXHJcbi5yaWdodHMgLmhpZ2hsaWdoZWR7XHJcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xyXG4gICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOnJnYmEoMTg0LCAxOTcsIDAsIDAuMTY0KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG5cclxuLnRhZ3MtY29udGFpbmVye1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG59XHJcblxyXG4udGFnc3tcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIG1hcmdpbi1yaWdodDogNXB4OyBcclxuICAgIGJhY2tncm91bmQ6IHJnYig0NiwgMTE1LCAyMTgpO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gICAgLyogdXNlci1zZWxlY3Q6IG5vbmU7ICovXHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5jb21tZW50c3tcclxuICAgIGZvbnQtc2l6ZTogMzBweDsgXHJcbn1cclxuXHJcbi5jb21tZW50LWltYWdle1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLmNvbW1lbnQtbmFtZXtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRvcDogLTdweDtcclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG4uY29tbWVudC1kYXRle1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgdG9wOiAtN3B4O1xyXG4gICAgcmlnaHQ6IDBweDtcclxufVxyXG5cclxuLmNvbW1lbnQtdGV4dHtcclxuICAgIG1pbi1oZWlnaHQ6IDY0cHg7XHJcbn1cclxuXHJcbi5yZXBseS1jb21tZW50e1xyXG4gICAgY29sb3I6IGdyZXk7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbn1cclxuXHJcbi5kZWxldGUtY29tbWVudHtcclxuICAgIGNvbG9yOiByZ2IoMTc1LCAxMCwgMTApO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4ucmVwbHktY29tbWVudCwgLmRlbGV0ZS1jb21tZW50e1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcblxyXG50ZXh0YXJlYXtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTE1cHg7XHJcbiAgICByZXNpemU6IG5vbmU7XHJcbn1cclxuXHJcbi5ibHVye1xyXG4gICAgLXdlYmtpdC1maWx0ZXI6IGJsdXIoOHB4KTtcclxuICAgIC1tb3otZmlsdGVyOiBibHVyKDhweCk7XHJcbiAgICAtbXMtZmlsdGVyOiBibHVyKDhweCk7XHJcbiAgICAtby1maWx0ZXI6IGJsdXIoOHB4KTtcclxuICAgIGZpbHRlcjogYmx1cig4cHgpO1xyXG59XHJcblxyXG4udmlld3tcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6IDEwMDtcclxuICAgIHRvcDogNTAlO1xyXG4gICAgbGVmdDogNTAlO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuNSk7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGZvbnQtc2l6ZTogNDdweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG4iXX0= */\"","module.exports = \"<div class=\\\"alert alert-danger notification\\\" *ngIf=\\\"this.image.status == 'hidden'\\\">\\n  La imagen ha sido deshabilitada porque inflingía las normas. Si crees que esto es un error, por favor contacta con un\\n  moderador.\\n</div>\\n\\n<div class=\\\"alert alert-danger notification\\\" *ngIf=\\\"this.deleted == true\\\">\\n  La imagen se ha borrado correctamente. Se te redirigirá en seguida.\\n</div>\\n\\n<div class=\\\"alert alert-success notification\\\" *ngIf=\\\"this.commentAdded == true\\\">\\n  <!-- class=\\\"... fixed success\\\"-->\\n  Comentario añadido.\\n</div>\\n\\n<div class=\\\"container-fluid col-md-12 container-ma\\\">\\n  <div class=\\\"row\\\">\\n\\n    <i *ngIf=\\\"this.identity.nick == this.image.user.nick\\\" class=\\\"edit fas fa-edit\\\"></i>\\n\\n    <i *ngIf=\\\"this.identity.nick == this.image.user.nick || this.identity.role == 'role_admin'\\\" class=\\\"delete fas fa-trash-alt\\\"\\n      data-toggle=\\\"modal\\\" data-target=\\\"#deleteModal\\\"></i>\\n\\n    <i *ngIf=\\\"this.identity.role == 'role_mod' && this.identity.nick != this.image.user.nick && this.image.status == 'published'\\\"\\n      class=\\\"delete fas fa-ban\\\" data-toggle=\\\"modal\\\" data-target=\\\"#hideModal\\\"></i>\\n\\n    <i *ngIf=\\\"this.identity.role == 'role_mod' && this.identity.nick != this.image.user.nick && this.image.status == 'hidden'\\\"\\n      class=\\\"unban fas fa-unlock\\\" data-toggle=\\\"modal\\\" data-target=\\\"#showModal\\\"></i>\\n\\n    <div class=\\\"col-md-8 text-center image-container\\\">\\n\\n      <span *ngIf=\\\"visible==false\\\" class=\\\"view\\\" (click)=\\\"visible=true\\\">Mostrar</span>\\n\\n      <div *ngIf=\\\"visible==false else noblur\\\" (click)=\\\"doNothing($event)\\\" class=\\\"blur\\\">\\n        <img [src]=\\\"['assets/public/' + this.image.url]\\\" class=\\\"image nocursor\\\" id=\\\"\\\">\\n      </div>\\n\\n      <ng-template #noblur>\\n\\n        <a [href]=\\\"['assets/public/' + this.image.url]\\\">\\n          <img [src]=\\\"['assets/public/' + this.image.url]\\\" class=\\\"image\\\" id=\\\"\\\">\\n        </a>\\n\\n        <div *ngIf=\\\"this.image.status != 'hidden' && identity && identity.nick != 'guest'\\\" class=\\\"image-actions\\\">\\n          <div class=\\\"image-heart black\\\" (click)=\\\"_imageService.saveInteraction($event, this, 'like', true);\\\"></div>\\n          <div class=\\\"image-star black\\\" (click)=\\\"_imageService.saveInteraction($event, this, 'fav', true);\\\"></div>\\n          <div class=\\\"image-arrows black\\\" (click)=\\\"_imageService.saveInteraction($event, this, 'share', true);\\\"></div>\\n        </div>\\n\\n      </ng-template>\\n\\n    </div>\\n    <div class=\\\"col-md-4 float-left\\\">\\n      <div class=\\\"details-container mr-5 pr-2 mt-2\\\">\\n\\n        <div class=\\\"title pb-2\\\">\\n          {{this.image.name}}\\n        </div>\\n\\n        <div class=\\\"author pb-5\\\">\\n          Por <span [routerLink]=\\\"['/profile', this.image.user.nick]\\\">{{this.image.user.nick}}</span>\\n          <button type=\\\"button\\\" class=\\\"button button-follow no-follow ml-4\\\" *ngIf=\\\"this.identity.nick != this.image.user.nick && this.identity.nick != 'guest'\\\"\\n            (click)=\\\"follow(token, username)\\\"></button><!-- {{followStatus}} -->\\n        </div>\\n\\n        <div class=\\\"description pb-5\\\">\\n          <span *ngIf=\\\"this.image.description!=null\\\" [innerHTML]=\\\"this.image.description\\\"></span>\\n          <span *ngIf=\\\"this.image.description==null\\\">El usuario no ha agregado ninguna descripción.</span>\\n        </div>\\n\\n        <div class=\\\"rights pb-5\\\">\\n          <span>Derechos: <span class=\\\"highlighed\\\">{{this.image.rights}}</span></span>\\n        </div>\\n\\n        <div *ngIf=\\\"isTags == true\\\" class=\\\"tags-container pb-5\\\">\\n          <span class=\\\"mr-2 mb-3\\\">Tags:</span>\\n          <span *ngFor=\\\"let tag of tags; let i = index\\\">\\n            <span class=\\\"tags\\\" (click)=\\\"navigate(tag)\\\">{{tag}}</span></span>\\n        </div>\\n\\n        <div class=\\\"counter pb-5\\\">\\n          <i class=\\\"fas fa-heart\\\"></i> <span> {{this.nLikes}}</span>  \\n          <i class=\\\"fas fa-star\\\"></i> <span> {{this.nFavs}}</span>  \\n          <i class=\\\"fas fa-retweet\\\"></i><span> {{this.nShares}}</span>\\n        </div>\\n\\n        <div class=\\\"created-at\\\">Subida el {{this.image.createdAt}}</div>\\n\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"row ml-5 mt-5 mr-5\\\" *ngIf=\\\"this.image.status != 'hidden'\\\">\\n    <div class=\\\"col-md-12\\\">\\n      <div class=\\\"comments mb-3\\\">Comentarios</div>\\n      <div class=\\\"row\\\">\\n        <form [formGroup]=\\\"formVar\\\" (ngSubmit)=\\\"onSubmit(formVar)\\\" class=\\\"col-md-12 mb-4\\\">\\n          <textarea formControlName=\\\"comment\\\" maxlength=\\\"300\\\" [value]=\\\"addComment\\\" #tarea></textarea>\\n          <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-success float-right\\\" [disabled]=\\\"identity.nick == 'guest'\\\">Agregar\\n            comentario</button>\\n        </form>\\n      </div>\\n      <div class=\\\"comment\\\" *ngFor=\\\"let comment of this.comments; let i = index\\\">\\n        <div class=\\\"row mb-5\\\">\\n          <div class=\\\"col-md-2\\\">\\n            <img [src]=\\\"['assets/profile-picture/' + comment.user.image]\\\" [routerLink]=\\\"['/profile', comment.user.nick]\\\" \\n              class=\\\"comment-image ml-3\\\">\\n          </div>\\n          <div class=\\\"col-md-9 ml-n5\\\" [id]=\\\"'comment-' + comment.id\\\">\\n            <div class=\\\"mt-1\\\">\\n              <span class=\\\"comment-name\\\" [routerLink]=\\\"['/profile', comment.user.nick]\\\">{{comment.user.nick}}</span><span\\n                class=\\\"comment-date\\\"> - {{comment.createdAt}}</span></div>\\n            <div class=\\\"comment-text mt-2\\\" [innerHTML]=\\\"comment.comment\\\"></div>\\n            <div class=\\\"ml-1\\\">\\n              <span class=\\\"reply-comment\\\" (click)=\\\"tarea.focus(); addName($element, comment.user.nick, tarea.value)\\\">Responder</span>\\n              <span class=\\\"delete-comment\\\" (click)=\\\"assignDelete(comment.id)\\\" data-toggle=\\\"modal\\\" data-target=\\\"#deleteCommentModal\\\"\\n                *ngIf=\\\"comment.user.nick == identity.nick || identity.role == 'role_admin'\\\">Eliminar</span>\\n            </div>\\n            <!-- [innerHTML]=\\\"permissionArray\\\" -->\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n\\n<div class=\\\"modal fade\\\" id=\\\"deleteModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"deleteModalLabel\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLabel\\\">¿Borrar imagen?</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        La imagen se borrará permanentemente.\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" (click)=\\\"delete(this.imageId)\\\" class=\\\"btn btn-primary btn-danger\\\" data-dismiss=\\\"modal\\\">Borrar</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Cerrar</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal fade\\\" id=\\\"hideModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"hideModalLabel\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"example2ModalLabel\\\">¿Ocultar imagen?</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        La imagen ya no se mostrará.\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" (click)=\\\"hideToggle(this.imageId, 'hidden')\\\" class=\\\"btn btn-primary btn-danger\\\"\\n          data-dismiss=\\\"modal\\\">Ocultar</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Cerrar</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal fade\\\" id=\\\"showModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"showModalLabel\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"example3ModalLabel\\\">¿Desbanear imagen?</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        La imagen se mostrará de nuevo.\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" (click)=\\\"hideToggle(this.imageId, 'published')\\\" class=\\\"btn btn-primary btn-success\\\"\\n          data-dismiss=\\\"modal\\\">Mostrar</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Cerrar</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal fade\\\" id=\\\"deleteCommentModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"deleteCommentModalLabel\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"exampleModal4Label\\\">¿Borrar comentario?</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          El comentario se borrará permanentemente.\\n        </div>\\n        <div class=\\\"modal-footer\\\">\\n          <button type=\\\"button\\\" (click)=\\\"deleteComment(commentToDelete)\\\" class=\\\"btn btn-primary btn-danger\\\" data-dismiss=\\\"modal\\\">Borrar</button>\\n          <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">Cerrar</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  \"","import { Component, OnInit, ViewChildren, QueryList, ElementRef } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { ImageService } from '../../services/image.service';\nimport { CommonService } from '../../services/common.service';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { Renderer2 } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\n\n@Component({\n    selector: 'app-image',\n    templateUrl: './image.component.html',\n    styleUrls: ['./image.component.css']\n})\n\nexport class ImageComponent implements OnInit {\n\n    public page_title: string;\n    public identity;\n    public token;\n    public imageId;\n    public nightMode;\n    public arrayNightMode;\n    public nsfw;\n    public epilepsy;\n    public username;\n    public followStatus;\n    public description;\n    public isOwner: boolean;\n    public isFollowing: boolean;\n    public image;\n    public images;\n    public tags;\n    public isTags;\n    public role;\n    public addComment;\n    public comments;\n    public commentAdded;\n    public deleted;\n    public hidden;\n    public visible;\n    public found: boolean;\n    public nLikes: number;\n    public nFavs: number;\n    public nShares: number;\n    public commentToDelete;\n\n    formVar: FormGroup;\n    public commError: number;\n    public isFwError: number;\n    public loadError: number;\n    public iCntError: number;\n\n\n    constructor(\n        private _userService: UserService,\n        private _imageService: ImageService,\n        private _commonService: CommonService,\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private render: Renderer2,\n        private fb: FormBuilder\n    ) {\n        this.isTags = false;\n        this.loadError = 0;         // Para loadImage();\n        this.isFwError = 0;         // Para follow();\n        this.commError = 0;         // Para getAllComments();\n        this.iCntError = 0;\n        this.found = false;\n        this.nLikes = 0;\n        this.nShares = 0;\n        this.nFavs = 0;\n        this.addComment = \"\";\n\n        this.image = {\n            url: '',\n            description: '',\n            user: {\n                image: '',\n                nick: '',\n            },\n            status: '',\n        }\n    }\n\n    ngOnInit() {\n\n        this.page_title = \"Profile\";\n        this.arrayNightMode = [\"day-container\", \"night-container\", \"day-bg\", \"night-bg\"];\n        this.loadUser();\n        this.imageId = window.location.href.split(\"/\");\n        for (let i = 0; i < this.imageId.length; i++) {\n            if (this.imageId[i] == \"images\" && (i + 1) < this.imageId.length) {\n                this.imageId = this.imageId[i + 1];\n            }\n        }\n\n        if (/^[0-9]*$/.test(this.imageId) == false) {\n            this.error();\n        }\n        this.loadImage(this);\n\n        if (localStorage.getItem(\"config\") != null && localStorage.getItem(\"config\") != \"undefined\") {\n\n            this.nightMode = JSON.parse(localStorage.getItem(\"config\")).nightMode;\n            this._commonService.changeNightModeAttr(this.nightMode, this.arrayNightMode);\n        }\n\n        this.formVar = this.fb.group({\n            comment: ''\n        });\n\n        this.getAllComments(this.imageId);\n\n    }\n\n    loadImage(that) {\n        that._imageService.getImage(that.imageId).subscribe(\n            response => {\n                if (response.status == \"success\") {\n                    this._commonService.displayNotification(this);\n\n                    that.username = response.imagen.user.nick;\n                    this._userService.checkFollowing(that);\n                    that.image = response.imagen;\n\n                    that.images = that.image;\n\n                    this._imageService.getInteractions(this, true);\n\n                    if (that.image.description != null) {\n                        that.image.description = that._commonService.noscript(that.image.description);\n                        that.image.description = that._commonService.formatText(that.image.description);\n                    }\n\n                    that.image.createdAt = that._commonService.dateFormat(that.image.createdAt);\n\n                    that.image.rights = that.image.rights.charAt(0).toUpperCase() + that.image.rights.slice(1);\n\n                    that.nsfw = JSON.parse(localStorage.getItem(\"config\")).nsfw;\n                    that.epilepsy = JSON.parse(localStorage.getItem(\"config\")).epilepsy;\n\n                    if (that.identity.nick != that.image.user.nick && ((that.nsfw == false && that.image.nsfw == true)\n                        || (that.epilepsy == false && that.image.epilepsy == true))) {\n                        that.visible = false;\n                    }\n\n                    if (response.imagen.tags != null) {\n                        that.isTags = true;\n                        that.tags = response.imagen.tags.trim().split(\",\");\n                        console.log(that.tags[0].charAt(0));\n                    }\n                }\n                else {\n                    this.error();\n                }\n            },\n            error => {\n                console.log(\"Ero...\" + \" attempt: \" + that.loadError);\n                if (that.loadError < 5) {\n                    that.loadImage(that);\n                    that.loadError++;\n                }\n            }\n        );\n\n        that._imageService.getInteractionsCount(that.imageId).subscribe(\n            response => {\n                console.log(response);\n                this.nLikes = response.likes;\n                this.nFavs = response.favs;\n                this.nShares = response.shares;\n\n            },\n            error => {\n                console.log(error);\n                console.log(\"Ero...\" + \" attempt: \" + that.iCntError);\n                if (that.iCntError < 5) {\n                    that.loadImage(that);\n                    that.iCntError++;\n                }\n            }\n        );\n    }\n\n\n    /*\n        Función para la carga del usuario, sus datos y demás.\n    */\n\n    loadUser() {\n        this.identity = this._userService.getIdentity();\n        this.token = this._userService.getToken();\n        // console.log(this.token);\n    }\n\n\n    /*\n        Función para comprobar si el usuario que está viendo la imagen sigue al propietario de ésta.\n    */\n\n    follow(token, nick) {\n        this._userService.follow(token, nick).subscribe(\n            response => {\n                if (response.status == \"success\") {\n                    this._commonService.displayNotification(this);\n                    this._userService.checkFollowing(this);\n                }\n            },\n            error => {\n                console.log(\"Ero...\" + \" attempt: \" + this.isFwError);\n                if (this.isFwError < 5) {\n                    this.follow(token, nick);\n                    this.isFwError++;\n                }\n            }\n        );\n    }\n\n\n    error() {\n        this._router.navigate(['error']);\n    }\n\n\n    /*\n        Función para conseguir todos los comentarios\n        Transforma el formato de fecha a uno más legible.\n        También sustituye < y > para evitar que se inyecte html, ya que para que los saltos de línea se tengan en cuenta,\n        se transforman los \\n en <br>, y se inyecta en la etiqueta como html (en image.component.html)\n    */\n\n    getAllComments(imageId) {\n        this._imageService.getComments(imageId).subscribe(\n            response => {\n                this.comments = response.comments;\n                console.log(this.comments);\n\n                for (let i = 0; i < this.comments.length; i++) { // Dar formato a las fechas\n                    \n                    this.comments[i].createdAt = this._commonService.dateFormat(this.comments[i].createdAt);\n                    this.comments[i].comment = this._commonService.noscript(this.comments[i].comment);\n                    this.comments[i].comment = this._commonService.formatText(this.comments[i].comment);\n\n                    // this.comments[i].comment = this.comments[i].comment.replace(/\\</g, \"◄\");\n                    // this.comments[i].comment = this.comments[i].comment.replace(/\\>/g, \"►\");\n                    // this.comments[i].comment = this.comments[i].comment.replace(/\\\\n/g, \"<br>\");\n                }\n            },\n            error => {\n                console.log(\"Ero...\" + \" attempt: \" + this.commError);\n                if (this.commError < 5) {\n                    this.getAllComments(imageId);\n                    this.commError++;\n                }\n            }\n        );\n\n    }\n\n    /*\n        Función onSubmit, para el envío del comentario.\n        Para que sean posibles los saltos de línea, coge los caracteres charCode cuyo valor sea 10 (salto de línea),\n        ya que en la DB se guardan como simples espacios, y los sustituye por \\n.\n        Luego se tratan más arriba.\n    */\n\n    onSubmit(form) {\n        let comment = this.formVar.value.comment;\n        for (let i = 0; i < comment.length; i++) {\n            if (comment.charCodeAt(i) == 10) {\n                comment = comment.substr(0, i) + '\\\\n' + comment.substr(i + 1);\n            }\n        }\n\n        comment =  this._commonService.noscript(comment);\n\n        this.formVar.value.comment = comment;\n\n        let data = {\n            userId: this.identity.sub,\n            imageId: this.imageId,\n            comment: this.formVar.value.comment\n        }\n        let json = JSON.stringify(data);\n        this._imageService.addComment(this.token, json).subscribe(\n            response => {\n                if (response.status == \"success\") {\n                    this._commonService.displayNotification(this);\n\n                    form.reset();\n                    /*\n                    this.commentAdded = true;\n                    setTimeout(function(){\n                        this.commentAdded = false;\n                    }, 1000); \n                    */\n                    this.getAllComments(this.imageId); // Recarga los comentarios, para que se vea el que has añadido sin necesidad de recargar.\n                    // console.log(response);\n                }\n            },\n            error => {\n                console.log(error);\n            }\n        );\n    }\n\n    addName($element, nick, taVal){ // taVal = textarea value (en el html es tarea)\n        console.log(this.addComment);\n        this.addComment = \"@\" + nick + \" \" + taVal;\n    }\n\n    doSomething(index: number) {\n\n      }\n\n    /* \n        Función para borrar una imagen. Solo pueden acceder a esta los role_admin, y los propios usuarios que la hayan subido.\n        LLama a la función delete del servicio ImageService. Si todo va bien, efectúa la query, y redirige al home.\n    */\n\n    delete(id) {\n        this._imageService.delete(this.token, id).subscribe(\n            response => {\n                console.log(response);\n                if (response.status == \"success\") {\n                    this._commonService.displayNotification(this);\n                    this.deleted = true;\n                    setTimeout(() => { this._router.navigate(['home']); }, 1000);\n                }\n            },\n            error => {\n                // console.log(error);\n            }\n        );\n    }\n\n    assignDelete(id){\n        this.commentToDelete = id;\n    }\n\n    deleteComment(id){\n\n        this._imageService.deleteComment(this.token, id).subscribe(\n            response => {\n                console.log(response);\n                if (response.status == \"success\") {\n                    this.ngOnInit();\n                    this._commonService.displayNotification(this);\n                }\n            },\n            error => {\n                // console.log(error);\n            }\n        );\n    }\n\n\n    /*  \n        Función para ocultar una imagen. Sólo si user_role==\"role_mod\". Oculta la imagen (Cambia la propiedad status a hidden)\n        LLama a la función hide del servicio ImageService. Si todo va bien, efectúa la query, y redirige al home.\n        Si es su propia imagen, no puede ocultarla (está en image.component.html), ya que no tendría mucha lógica.\n    */\n\n    hideToggle(id, action) {\n        this._imageService.hide(this.token, id, action).subscribe(\n            response => {\n                console.log(response);\n                if (response.status == \"success\") {\n                    this._commonService.displayNotification(this);\n                    this.hidden = true;\n                    setTimeout(() => { this._router.navigate(['home']); }, 1000);\n                }\n            },\n            error => {\n                console.log(error);\n            }\n        );\n    }\n\n\n    updateCounter(event, that, action) {\n        // that == this aquí\n        let selector;\n        if (action == \"like\") { selector = \"liked\" }\n        else if (action == \"fav\") { selector = \"faved\" }\n        else { selector = \"shared\" }\n\n        let check = event.target.parentElement.querySelector(\".image-\" + selector);\n\n        if (check == null) {\n            if (action == \"like\") { that.nLikes++; }\n            else if (action == \"fav\") { that.nFavs++ }\n            else { that.nShares++ }\n        }\n        else {\n            if (action == \"like\") { that.nLikes--; }\n            else if (action == \"fav\") { that.nFavs-- }\n            else { that.nShares-- }\n        }\n    }\n\n    navigate(tag){\n         this._router.navigateByUrl(\"/search?q=\" + tag)\n    }\n\n    /*\n        Función para parar propagación de eventos.\n    */\n\n    doNothing(e) {\n        e.stopPropagation();\n    }\n}\n","module.exports = \".container-ma{ \\r\\n    margin-top: 40px; \\r\\n    margin-bottom: 40px; \\r\\n    border-radius: 2px; \\r\\n    padding-top: 30px;\\r\\n    padding-bottom: 30px;\\r\\n    box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3)\\r\\n}\\r\\n\\r\\n.btn-red-ma{\\r\\n    background-color: #c9302c;\\r\\n}\\r\\n\\r\\ninput:not([type=submit]){ height: 48px; }\\r\\n\\r\\n.title{\\r\\n    font-size: 40px;\\r\\n    color: rgb(88, 88, 88);\\r\\n}\\r\\n\\r\\nimg{\\r\\n    width: 60px;\\r\\n    margin-right: 15px;\\r\\n}\\r\\n\\r\\n.form-ma{\\r\\n    padding-left: 30px;\\r\\n    padding-right: 30px; \\r\\n}\\r\\n\\r\\nhr{ \\r\\n    display: block; \\r\\n    margin-bottom: 40px; \\r\\n    width: 90%; \\r\\n}\\r\\n\\r\\ninput[type=submit]{\\r\\n    letter-spacing: 0.5px;\\r\\n    font-family: 'Oxygen', sans-serif;\\r\\n}\\r\\n\\r\\n.vertical-align {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.btn{\\r\\n    width: 100%;\\r\\n    background: rgb(104, 145, 162);\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n.profile-img-card{\\r\\n    width: 96px;\\r\\n    height: 96px;\\r\\n    margin: 0 auto 0;\\r\\n    display: block;\\r\\n    border-radius: 50%;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLG9CQUFvQjtJQUNwQjtBQUNKOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBLDBCQUEwQixZQUFZLEVBQUU7O0FBRXhDO0lBQ0ksZUFBZTtJQUNmLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksY0FBYztJQUNkLG1CQUFtQjtJQUNuQixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxxQkFBcUI7SUFDckIsaUNBQWlDO0FBQ3JDOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCw4QkFBOEI7SUFDOUIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLGNBQWM7SUFHZCxrQkFBa0I7QUFDdEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLW1heyBcclxuICAgIG1hcmdpbi10b3A6IDQwcHg7IFxyXG4gICAgbWFyZ2luLWJvdHRvbTogNDBweDsgXHJcbiAgICBib3JkZXItcmFkaXVzOiAycHg7IFxyXG4gICAgcGFkZGluZy10b3A6IDMwcHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMzBweDtcclxuICAgIGJveC1zaGFkb3c6IDBweCAycHggMnB4IHJnYmEoMCwgMCwgMCwgMC4zKVxyXG59XHJcblxyXG4uYnRuLXJlZC1tYXtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNjOTMwMmM7XHJcbn1cclxuXHJcbmlucHV0Om5vdChbdHlwZT1zdWJtaXRdKXsgaGVpZ2h0OiA0OHB4OyB9XHJcblxyXG4udGl0bGV7XHJcbiAgICBmb250LXNpemU6IDQwcHg7XHJcbiAgICBjb2xvcjogcmdiKDg4LCA4OCwgODgpO1xyXG59XHJcblxyXG5pbWd7XHJcbiAgICB3aWR0aDogNjBweDtcclxuICAgIG1hcmdpbi1yaWdodDogMTVweDtcclxufVxyXG5cclxuLmZvcm0tbWF7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDMwcHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAzMHB4OyBcclxufVxyXG5cclxuaHJ7IFxyXG4gICAgZGlzcGxheTogYmxvY2s7IFxyXG4gICAgbWFyZ2luLWJvdHRvbTogNDBweDsgXHJcbiAgICB3aWR0aDogOTAlOyBcclxufVxyXG5cclxuaW5wdXRbdHlwZT1zdWJtaXRde1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xyXG4gICAgZm9udC1mYW1pbHk6ICdPeHlnZW4nLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4udmVydGljYWwtYWxpZ24ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5idG57XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJhY2tncm91bmQ6IHJnYigxMDQsIDE0NSwgMTYyKTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxufVxyXG5cclxuLnByb2ZpbGUtaW1nLWNhcmR7XHJcbiAgICB3aWR0aDogOTZweDtcclxuICAgIGhlaWdodDogOTZweDtcclxuICAgIG1hcmdpbjogMCBhdXRvIDA7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIC1tb3otYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbn0iXX0= */\"","module.exports = \"\\n  <div class=\\\"alert alert-success notification\\\" *ngIf=\\\"status == 'success'\\\">\\n      Te has identificado correctamente. Se te redirigirá en seguida.\\n    </div>\\n  \\n    <div class=\\\"alert alert-danger notification\\\" *ngIf=\\\"status == 'error'\\\">\\n      Error al identificarse. Inténtalo de nuevo\\n    </div>\\n\\n<div class=\\\"container-fluid col-md-3 container-ma\\\">\\n  <div class=\\\"row form-ma\\\">\\n    <!-- <div class=\\\"d-flex justify-content-center\\\"> -->\\n    <div class=\\\"col-md-12 text-center\\\">\\n      <img id=\\\"profile-img\\\" class=\\\"profile-img-card\\\" src=\\\"assets/img/register.png\\\">\\n      <div class=\\\"title mb-3\\\">\\n        <span>Login</span>\\n      </div>\\n    </div>\\n    <!-- </div> -->\\n  </div>\\n\\n  <div class=\\\"row form-ma\\\">\\n    <form class=\\\"col-md-12\\\" #loginForm=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit(loginForm)\\\">\\n      \\n      <div class=\\\"form-group\\\">\\n        <input type=\\\"text\\\" name=\\\"login\\\" #login=\\\"ngModel\\\" [(ngModel)]=\\\"user.login\\\" class=\\\"form-control\\\" required pattern=\\\"[A-z0-9_-]+(@[a-z0-9.-]+\\\\.[a-z]{2,4})*\\\"\\n          placeholder=\\\"Nick / Email\\\">\\n\\n        <small *ngIf=\\\"!login.valid && login.touched\\\" class=\\\"invalid-feedback d-block\\\">\\n          Usuario no válido. Por favor, introduce tu nick o tu email aquí.\\n        </small>\\n      </div>\\n\\n      <div class=\\\"form-group\\\">\\n        <input type=\\\"password\\\" name=\\\"password\\\" #password=\\\"ngModel\\\" [(ngModel)]=\\\"user.password\\\" class=\\\"form-control\\\"\\n          required pattern=\\\"(?=^.{8,}$)((?=.*\\\\d)|(?=.*\\\\W+))(?![.\\\\n])(?=.*[A-Z])(?=.*[a-z]).*$\\\" placeholder=\\\"Contraseña\\\">\\n\\n        <small *ngIf=\\\"!password.valid && password.touched\\\" class=\\\"invalid-feedback d-block\\\">\\n          Contraseña no válida. Mínimo 8 caracteres. Debe contener al menos una letra mayúscula, un número.\\n        </small>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-6 vertical-align\\\">\\n          <input type=\\\"checkbox\\\"> Recordarme\\n        </div>\\n        <div class=\\\"col-md-12 pt-2 pb-2\\\">\\n          <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" [disabled]=\\\"loginForm.invalid\\\">Iniciar sesión</button>\\n        </div>\\n        <div class=\\\"col-md-12 text-left pt-2\\\">\\n          <a href=#>Olvidé mi contraseña</a>\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { User } from '../../models/user';\nimport { UserService } from '../../services/user.service';\nimport { CommonService } from '../../services/common.service';\nimport { AppComponent } from '../../app.component';\n\n@Component({\n    selector: 'app-login',\n    templateUrl: './login.component.html',\n    styleUrls: ['./login.component.css'],\n    providers: [UserService, CommonService, AppComponent]\n})\nexport class LoginComponent implements OnInit {\n\n    public page_title: string;\n    public identity;\n    public user: User;\n    public token: string;\n    public status: string;\n    public nightMode;\n    public arrayNightMode;\n    public config;\n    public configJSON;\n    public isFirst: boolean;\n\n    constructor(\n        private _userService: UserService,\n        private _commonService: CommonService,\n        private _appComponent: AppComponent,\n        private _router: Router,\n        private _route: ActivatedRoute\n    ) {\n        this.page_title = \"Identifícate\";\n        this.user = new User(1, '', '', '', '', '', 'ROLE_USER', '', '');\n\n        this.arrayNightMode = [\"day-container\", \"night-container\", \"day-bg\", \"night-bg\"];\n\n    }\n\n    ngOnInit() {\n\n        this.logout();\n\n        if (localStorage.getItem(\"config\") == \"undefined\" || localStorage.getItem(\"config\") == null) {\n\n            let config = {\n                nightMode: 0,\n                nsfw: 0,\n                epilepsy: 0,\n                color: \"blue\",\n                lang: \"spanish\",\n                share: true,\n                feed: 15\n            };\n            let configJSON = JSON.stringify(config);\n            localStorage.setItem(\"config\", configJSON);\n        }\n\n        this.nightMode = JSON.parse(localStorage.getItem(\"config\")).nightMode;\n        this._commonService.changeNightModeAttr(this.nightMode, this.arrayNightMode);\n    }\n\n    onSubmit(form) {\n        this._userService.signup(this.user).subscribe(\n            response => {\n                if (!response.status || response.status != 'error') {\n                    this.status = 'success';\n                    this._commonService.displayNotification(this);\n\n                    this.identity = response;\n\n                    // Token\n                    this._userService.signup(this.user, true).subscribe(\n                        response => {\n                            if (!response.status || response.status != 'error') {\n                                this.status = 'success';\n                                this._commonService.displayNotification(this);\n\n                                this.token = response;\n\n                                this._commonService.getUserConfig(this, this.token);\n\n                                localStorage.setItem('token', this.token);\n                                localStorage.setItem('identity', JSON.stringify(this.identity));\n                                localStorage.removeItem(\"config\");\n                                this.updateDB(this.token);\n                                setTimeout(() => { this._router.navigate(['home']); }, 1000);\n\n                            }\n                            else {\n                                this.status = 'error';\n                                this._commonService.displayNotification(this);\n                            }\n                        },\n                        error => {\n                            this.status = 'error';\n                            this._commonService.displayNotification(this);\n                        }\n                    );\n                    form.reset();\n                }\n                else {\n                    this.status = 'error';\n                    this._commonService.displayNotification(this);\n                }\n            },\n            error => {\n                this.status = 'error';\n                this._commonService.displayNotification(this);\n            }\n        );\n    }\n\n    logout() {\n        this._route.params.subscribe(params => {\n            let sure = +params['sure'];\n\n            if (sure == 1) {\n                localStorage.removeItem('identity');\n                localStorage.removeItem('token');\n                localStorage.removeItem('config');\n\n                this.identity = null;\n                this.token = null;\n\n                this._router.navigate(['home']);\n            }\n        });\n    }\n\n\n    updateDB(token) {\n        this._userService.getConfig(token).subscribe(\n            response => {\n                if (response.status == \"error\") {\n\n                    this.isFirst = true;\n                    this.config = {\n                        nightMode: 0,\n                        nsfw: 0,\n                        epilepsy: 0,\n                        color: \"blue\",\n                        lang: \"spanish\",\n                        share: true,\n                        feed: 15\n                    }\n                    this.configJSON = JSON.stringify(this.config);\n\n                    this._commonService.setUserConfig(this, this.token, this.configJSON);\n                }\n            },\n            error => { }\n        );\n    }\n\n}\n","import { Component, OnInit } from '@angular/core';\r\nimport { UserService } from '../../services/user.service';\r\nimport { ImageService } from '../../services/image.service';\r\nimport { CommonService } from '../../services/common.service';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { Renderer2 } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'favs-component',\r\n  template: `\r\n  <div class=\"container-images\">\r\n    <div class=\"box grid-col-{{i+1}} pb-5\" *ngFor=\"let image of images; let i = index\">\r\n      <div id=\"image-box\">\r\n        <div #imageParent class=\"image-parent\" id=\"hover-parent\">\r\n          <a [routerLink]=\"['/images', image[0].id]\">\r\n            <img src=\"assets/public/{{image[0].url}}\" class=\"image-element\" id=\"id-{{image[0].id}}\" (mouseleave)=\"_imageService.out($event, this, null);\">\r\n          </a>\r\n          <span class=\"image-description\">\r\n            {{image[0].name}}\r\n            <br>\r\n            <span class=\"image-by\">\r\n              by <span class=\"image-user\">{{image.username}}</span>\r\n            </span>\r\n          </span>\r\n          <div class=\"image-action\" *ngIf=\"identity && identity.nick != 'guest'\">\r\n            <img class=\"image-frame like\" src=\"assets/img/image-like-border.png\" (mouseover)=\"_imageService.in($event, this, null);\"\r\n              (mouseleave)=\"_imageService.out($event, this, null);\">\r\n            <div class=\"image-heart\" (mouseover)=\"_imageService.in($event, this, 1);\" (mouseleave)=\"_imageService.out($event, this, 1);\" (click)=\"_imageService.saveInteraction($event, this, 'like');\"></div>\r\n            <img class=\"image-frame fav\" src=\"assets/img/image-fav-border.png\" (mouseover)=\"_imageService.in($event, this, null);\"\r\n              (mouseleave)=\"_imageService.out($event, this, null);\">\r\n            <div class=\"image-star\" (mouseover)=\"_imageService.in($event, this, 2);\" (mouseleave)=\"_imageService.out($event, this, 2);\" (click)=\"_imageService.saveInteraction($event, this, 'fav');\"></div>\r\n            <img class=\"image-frame share\" src=\"assets/img/image-share-border.png\" (mouseover)=\"_imageService.in($event, this, null);\"\r\n              (mouseleave)=\"_imageService.out($event, this, null);\">\r\n            <div class=\"image-arrows\" (mouseover)=\"_imageService.in($event,this, 3);\" (mouseleave)=\"_imageService.out($event, this, 3);\" (click)=\"_imageService.saveInteraction($event, this, 'share');\"></div>\r\n          </div>\r\n        </div>\r\n        <!-- <img src=\"../api-rest-symfony/public/storage/images/image-example.jpg\" class=\"image-element\"> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <nav aria-label=\"Page navigation example\">\r\n  <ul class=\"pagination profile-pagination float-right\">\r\n    <li *ngIf=\"page != 1 && total_pages > 1\">\r\n      <a class=\"page-link\" (click)=\"nextPage('--')\">Anterior</a>\r\n    </li>\r\n    <li *ngFor=\"let num of number_pages; let i = index\">\r\n      <a class=\"page-link\" *ngIf=\"i<5\" (click)=\"nextPage(num)\" [ngClass]=\"{'active': num == page}\">{{num}}</a>\r\n      <!-- Cambiar para que si p.e estás en la pág 20, salga 18 - 19 - 20 - 21 - 22 -->\r\n    </li>\r\n    <li *ngIf=\"page != total_pages && total_pages > 1\">\r\n      <!--  && total_pages > 1 -->\r\n      <a class=\"page-link\" (click)=\"nextPage('++')\">Siguiente</a>\r\n    </li>\r\n  </ul>\r\n  </nav>\r\n  `,\r\n  // styleUrls: ['./home.component.css'],\r\n  providers: [UserService, ImageService, CommonService]\r\n})\r\nexport class FavsComponent implements OnInit {\r\n\r\n  public page_title: string;\r\n  public identity;            // User logueado\r\n  public token;\r\n  public images;\r\n  public estado;\r\n  public page;\r\n  public next_page;\r\n  public prev_page;\r\n  public number_pages;\r\n  public total_pages;\r\n  public nightMode;\r\n  public arrayNightMode;\r\n  public nsfw;\r\n  public epilepsy;\r\n  public username;            // Username es el user de la página\r\n  public id;\r\n  public url;\r\n  public interaction;\r\n\r\n  constructor(\r\n    private _userService: UserService,\r\n    private _imageService: ImageService,\r\n    private _commonService: CommonService,\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    private render: Renderer2\r\n  ) {\r\n    this.username = window.location.href.split(\"/\");\r\n    for (let i = 0; i < this.username.length; i++) {\r\n      if (this.username[i] == \"profile\" && (i + 1) < this.username.length) {\r\n        this.username = this.username[i + 1];\r\n      }\r\n    }\r\n    this.arrayNightMode = [\"day-container\", \"night-container\", \"day-bg\", \"night-bg\"];\r\n    this.interaction = \"faved\";\r\n    this.page = 1;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadUser();\r\n\r\n    this._userService.userInfo(this, this.username);\r\n    this._route.params.subscribe(params => {\r\n\r\n      if (!this.page) {\r\n        this.page = 1;\r\n        this.prev_page = 1;\r\n        this.next_page = 2;\r\n      }\r\n\r\n      if (localStorage.getItem(\"config\") != null || localStorage.getItem(\"config\") != undefined) {\r\n        this.nsfw = JSON.parse(localStorage.getItem(\"config\")).nsfw;\r\n        this.epilepsy = JSON.parse(localStorage.getItem(\"config\")).epilepsy;\r\n      }\r\n    });\r\n\r\n    this._userService.getUserByNick(this.username).subscribe(\r\n      response => {\r\n        console.log(response);\r\n        this.id = response.user_info.id;\r\n        this.getLikedPics();\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  loadUser() {\r\n    this.identity = this._userService.getIdentity();\r\n    this.token = this._userService.getToken();\r\n  }\r\n\r\n  getLikedPics() {\r\n    if (this.username != this.identity.nick) {\r\n      this._imageService.showProfileInteractions(this, this.page, this.nsfw, this.epilepsy, this.id, this.interaction, this.username);\r\n    }\r\n\r\n    else {\r\n      this._imageService.showProfileInteractions(this, this.page, \"true\", \"true\", this.id, this.interaction, this.username);\r\n    }\r\n  }\r\n\r\n  nextPage(param){\r\n    if (param == \"++\"){\r\n      this.page++;\r\n    }\r\n    else if (param == \"--\"){\r\n      this.page--;\r\n    }\r\n    else{\r\n      this.page = param;\r\n    }\r\n    this.ngOnInit();\r\n  }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { UserService } from '../../services/user.service';\r\nimport { ImageService } from '../../services/image.service';\r\nimport { CommonService } from '../../services/common.service';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { Renderer2 } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'likes-component',\r\n  template: `\r\n  <div class=\"container-images\">\r\n    <div class=\"box grid-col-{{i+1}} pb-5\" *ngFor=\"let image of images; let i = index\">\r\n      <div id=\"image-box\">\r\n        <div #imageParent class=\"image-parent\" id=\"hover-parent\">\r\n          <a [routerLink]=\"['/images', image[0].id]\">\r\n            <img src=\"assets/public/{{image[0].url}}\" class=\"image-element\" id=\"id-{{image[0].id}}\" (mouseleave)=\"_imageService.out($event, this, null);\">\r\n          </a>\r\n          <span class=\"image-description\">\r\n            {{image[0].name}}\r\n            <br>\r\n            <span class=\"image-by\">\r\n              by <span class=\"image-user\">{{image.username}}</span>\r\n            </span>\r\n          </span>\r\n          <div class=\"image-action\" *ngIf=\"identity && identity.nick != 'guest'\">\r\n            <img class=\"image-frame like\" src=\"assets/img/image-like-border.png\" (mouseover)=\"_imageService.in($event, this, null);\"\r\n              (mouseleave)=\"_imageService.out($event, this, null);\">\r\n            <div class=\"image-heart\" (mouseover)=\"_imageService.in($event, this, 1);\" (mouseleave)=\"_imageService.out($event, this, 1);\" (click)=\"_imageService.saveInteraction($event, this, 'like');\"></div>\r\n            <img class=\"image-frame fav\" src=\"assets/img/image-fav-border.png\" (mouseover)=\"_imageService.in($event, this, null);\"\r\n              (mouseleave)=\"_imageService.out($event, this, null);\">\r\n            <div class=\"image-star\" (mouseover)=\"_imageService.in($event, this, 2);\" (mouseleave)=\"_imageService.out($event, this, 2);\" (click)=\"_imageService.saveInteraction($event, this, 'fav');\"></div>\r\n            <img class=\"image-frame share\" src=\"assets/img/image-share-border.png\" (mouseover)=\"_imageService.in($event, this, null);\"\r\n              (mouseleave)=\"_imageService.out($event, this, null);\">\r\n            <div class=\"image-arrows\" (mouseover)=\"_imageService.in($event,this, 3);\" (mouseleave)=\"_imageService.out($event, this, 3);\" (click)=\"_imageService.saveInteraction($event, this, 'share');\"></div>\r\n          </div>\r\n        </div>\r\n        <!-- <img src=\"../api-rest-symfony/public/storage/images/image-example.jpg\" class=\"image-element\"> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <nav aria-label=\"Page navigation example\">\r\n  <ul class=\"pagination profile-pagination float-right\">\r\n    <li *ngIf=\"page != 1 && total_pages > 1\">\r\n      <a class=\"page-link\" (click)=\"nextPage('--')\">Anterior</a>\r\n    </li>\r\n    <li *ngFor=\"let num of number_pages; let i = index\">\r\n      <a class=\"page-link\" *ngIf=\"i<5\" (click)=\"nextPage(num)\" [ngClass]=\"{'active': num == page}\">{{num}}</a>\r\n      <!-- Cambiar para que si p.e estás en la pág 20, salga 18 - 19 - 20 - 21 - 22 -->\r\n    </li>\r\n    <li *ngIf=\"page != total_pages && total_pages > 1\">\r\n      <!--  && total_pages > 1 -->\r\n      <a class=\"page-link\" (click)=\"nextPage('++')\">Siguiente</a>\r\n    </li>\r\n  </ul>\r\n  </nav>\r\n  `,\r\n  // styleUrls: ['./home.component.css'],\r\n  providers: [UserService, ImageService, CommonService]\r\n})\r\nexport class LikesComponent implements OnInit {\r\n\r\n  public page_title: string;\r\n  public identity;            // User logueado\r\n  public token;\r\n  public images;\r\n  public estado;\r\n  public page;\r\n  public next_page;\r\n  public prev_page;\r\n  public number_pages;\r\n  public total_pages;\r\n  public nightMode;\r\n  public arrayNightMode;\r\n  public nsfw;\r\n  public epilepsy;\r\n  public username;            // Username es el user de la página\r\n  public id;\r\n  public url;\r\n  public interaction;\r\n\r\n  constructor(\r\n    private _userService: UserService,\r\n    private _imageService: ImageService,\r\n    private _commonService: CommonService,\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    private render: Renderer2\r\n  ) {\r\n    this.username = window.location.href.split(\"/\");\r\n    for (let i = 0; i < this.username.length; i++) {\r\n      if (this.username[i] == \"profile\" && (i + 1) < this.username.length) {\r\n        this.username = this.username[i + 1];\r\n      }\r\n    }\r\n    this.arrayNightMode = [\"day-container\", \"night-container\", \"day-bg\", \"night-bg\"];\r\n    this.interaction = \"liked\";\r\n    this.page = 1;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadUser();\r\n    this._userService.userInfo(this, this.username);\r\n    this._route.params.subscribe(params => {\r\n\r\n      if (!this.page) {\r\n        this.page = 1;\r\n        this.prev_page = 1;\r\n        this.next_page = 2;\r\n      }\r\n\r\n      if (localStorage.getItem(\"config\") != null || localStorage.getItem(\"config\") != undefined) {\r\n        this.nsfw = JSON.parse(localStorage.getItem(\"config\")).nsfw;\r\n        this.epilepsy = JSON.parse(localStorage.getItem(\"config\")).epilepsy;\r\n      }\r\n    });\r\n\r\n    this._userService.getUserByNick(this.username).subscribe(\r\n      response => {\r\n          console.log(response);\r\n          this.id = response.user_info.id;\r\n          this.getLikedPics();\r\n      },\r\n      error => {\r\n          console.log(error);\r\n      }\r\n  );\r\n  }\r\n\r\n  loadUser() {\r\n    this.identity = this._userService.getIdentity();\r\n    this.token = this._userService.getToken();\r\n    if (this.identity==null){\r\n      this.identity = {\r\n          id: 0,\r\n          nick: 'guest'\r\n      };\r\n  }\r\n  }\r\n\r\n  getLikedPics(){\r\n    if (this.username != this.identity.nick) {\r\n      this._imageService.showProfileInteractions(this, this.page, this.nsfw, this.epilepsy, this.id, this.interaction, this.username);\r\n    }\r\n\r\n    else {\r\n      this._imageService.showProfileInteractions(this, this.page, \"true\", \"true\", this.id, this.interaction, this.username);\r\n    }\r\n  }\r\n\r\n  nextPage(param){\r\n    if (param == \"++\"){\r\n      this.page++;\r\n    }\r\n    else if (param == \"--\"){\r\n      this.page--;\r\n    }\r\n    else{\r\n      this.page = param;\r\n    }\r\n    this.ngOnInit();\r\n  }\r\n}","module.exports = \".container-ma{ \\r\\n    margin-top: 40px; \\r\\n    margin-bottom: 20px; \\r\\n    border-radius: 5px; \\r\\n    padding-top: 30px;\\r\\n    /* padding-bottom: 40px; */\\r\\n    width: 100%;\\r\\n    min-height: 70vh;\\r\\n    font-family: 'M PLUS Rounded 1c', sans-serif;\\r\\n}\\r\\n\\r\\n.profile-picture{\\r\\n    width: 160px; \\r\\n    height: 160px;\\r\\n    border-radius: 50%;\\r\\n}\\r\\n\\r\\n.user{\\r\\n    font-size: 40px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.followers, .following{\\r\\n    font-size: 20px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.followers span, .following span{ margin-left: 10px;}\\r\\n\\r\\n.description{\\r\\n    width: 95%;\\r\\n    height: 125px;\\r\\n    border-radius: 10px;\\r\\n    border: 1px solid lightgray;\\r\\n    padding: 10px 20px;\\r\\n    font-size: 18px;\\r\\n    word-break: break-all;\\r\\n\\toverflow-y: scroll;\\r\\n    text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.profile-navbar{\\r\\n    font-size: 35px;\\r\\n    padding-left: 95px;\\r\\n}\\r\\n\\r\\n.profile-navbar span:hover{\\r\\n    cursor: pointer;\\r\\n    padding-bottom: 1px;\\r\\n}\\r\\n\\r\\n.chosen{\\r\\n    padding-bottom: 1px;\\r\\n}\\r\\n\\r\\n.profile-navbar-content{\\r\\n    background: rgba(9, 124, 218, 0.233);\\r\\n    width: 90%;\\r\\n}\\r\\n\\r\\n.day-container .profile-navbar{\\r\\n    color: rgb(116, 116, 116);\\r\\n}\\r\\n\\r\\n.day-container .profile-navbar span:hover{\\r\\n    border-bottom: 1.3px solid rgba(0, 0, 0, 0.603);\\r\\n}\\r\\n\\r\\n.day-container .chosen{\\r\\n    color: rgb(66, 66, 66);\\r\\n    border-bottom: 1.3px solid rgba(0, 0, 0, 0.603);\\r\\n}\\r\\n\\r\\n.night-container .profile-navbar{\\r\\n    color: rgb(134, 134, 134);\\r\\n}\\r\\n\\r\\n.night-container .profile-navbar span:hover{\\r\\n    border-bottom: 1.3px solid rgba(238, 238, 238, 0.603);\\r\\n}\\r\\n\\r\\n.night-container .chosen{\\r\\n    color: rgb(255, 255, 255);\\r\\n    border-bottom: 1.3px solid rgba(238, 238, 238, 0.603);\\r\\n}\\r\\n\\r\\n.images-container{\\r\\n    min-height: 40vh;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar {\\r\\n    width: 10px;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-track {\\r\\n    -webkit-box-shadow: none;\\r\\n    border-radius: 0px;\\r\\n    background: none;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-thumb {\\r\\n    border-radius: 10px;\\r\\n    background: rgba(0, 183, 255, 0.8); \\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9wcm9maWxlL3Byb2ZpbGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQiwwQkFBMEI7SUFDMUIsV0FBVztJQUNYLGdCQUFnQjtJQUNoQiw0Q0FBNEM7QUFDaEQ7O0FBRUE7SUFDSSxZQUFZO0lBQ1osYUFBYTtJQUNiLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGVBQWU7SUFDZixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCOztBQUVBLGtDQUFrQyxpQkFBaUIsQ0FBQzs7QUFFcEQ7SUFDSSxVQUFVO0lBQ1YsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQiwyQkFBMkI7SUFDM0Isa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixxQkFBcUI7Q0FDeEIsa0JBQWtCO0lBQ2YsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGVBQWU7SUFDZixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxvQ0FBb0M7SUFDcEMsVUFBVTtBQUNkOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUNBO0lBQ0ksK0NBQStDO0FBQ25EOztBQUNBO0lBQ0ksc0JBQXNCO0lBQ3RCLCtDQUErQztBQUNuRDs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFDQTtJQUNJLHFEQUFxRDtBQUN6RDs7QUFDQTtJQUNJLHlCQUF5QjtJQUN6QixxREFBcUQ7QUFDekQ7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBR0E7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx3QkFBd0I7SUFFeEIsa0JBQWtCO0lBQ2xCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUVJLG1CQUFtQjtJQUNuQixrQ0FBa0M7QUFDdEMiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3Byb2ZpbGUvcHJvZmlsZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1tYXsgXHJcbiAgICBtYXJnaW4tdG9wOiA0MHB4OyBcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7IFxyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4OyBcclxuICAgIHBhZGRpbmctdG9wOiAzMHB4O1xyXG4gICAgLyogcGFkZGluZy1ib3R0b206IDQwcHg7ICovXHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1pbi1oZWlnaHQ6IDcwdmg7XHJcbiAgICBmb250LWZhbWlseTogJ00gUExVUyBSb3VuZGVkIDFjJywgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuLnByb2ZpbGUtcGljdHVyZXtcclxuICAgIHdpZHRoOiAxNjBweDsgXHJcbiAgICBoZWlnaHQ6IDE2MHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG59XHJcblxyXG4udXNlcntcclxuICAgIGZvbnQtc2l6ZTogNDBweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG4uZm9sbG93ZXJzLCAuZm9sbG93aW5ne1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbi5mb2xsb3dlcnMgc3BhbiwgLmZvbGxvd2luZyBzcGFueyBtYXJnaW4tbGVmdDogMTBweDt9XHJcblxyXG4uZGVzY3JpcHRpb257XHJcbiAgICB3aWR0aDogOTUlO1xyXG4gICAgaGVpZ2h0OiAxMjVweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyYXk7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICB3b3JkLWJyZWFrOiBicmVhay1hbGw7XHJcblx0b3ZlcmZsb3cteTogc2Nyb2xsO1xyXG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbn1cclxuXHJcbi5wcm9maWxlLW5hdmJhcntcclxuICAgIGZvbnQtc2l6ZTogMzVweDtcclxuICAgIHBhZGRpbmctbGVmdDogOTVweDtcclxufVxyXG5cclxuLnByb2ZpbGUtbmF2YmFyIHNwYW46aG92ZXJ7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMXB4O1xyXG59XHJcblxyXG4uY2hvc2Vue1xyXG4gICAgcGFkZGluZy1ib3R0b206IDFweDtcclxufVxyXG5cclxuLnByb2ZpbGUtbmF2YmFyLWNvbnRlbnR7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDksIDEyNCwgMjE4LCAwLjIzMyk7XHJcbiAgICB3aWR0aDogOTAlO1xyXG59XHJcblxyXG4uZGF5LWNvbnRhaW5lciAucHJvZmlsZS1uYXZiYXJ7XHJcbiAgICBjb2xvcjogcmdiKDExNiwgMTE2LCAxMTYpO1xyXG59XHJcbi5kYXktY29udGFpbmVyIC5wcm9maWxlLW5hdmJhciBzcGFuOmhvdmVye1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMS4zcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjYwMyk7XHJcbn1cclxuLmRheS1jb250YWluZXIgLmNob3NlbntcclxuICAgIGNvbG9yOiByZ2IoNjYsIDY2LCA2Nik7XHJcbiAgICBib3JkZXItYm90dG9tOiAxLjNweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuNjAzKTtcclxufVxyXG5cclxuLm5pZ2h0LWNvbnRhaW5lciAucHJvZmlsZS1uYXZiYXJ7XHJcbiAgICBjb2xvcjogcmdiKDEzNCwgMTM0LCAxMzQpO1xyXG59XHJcbi5uaWdodC1jb250YWluZXIgLnByb2ZpbGUtbmF2YmFyIHNwYW46aG92ZXJ7XHJcbiAgICBib3JkZXItYm90dG9tOiAxLjNweCBzb2xpZCByZ2JhKDIzOCwgMjM4LCAyMzgsIDAuNjAzKTtcclxufVxyXG4ubmlnaHQtY29udGFpbmVyIC5jaG9zZW57XHJcbiAgICBjb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMS4zcHggc29saWQgcmdiYSgyMzgsIDIzOCwgMjM4LCAwLjYwMyk7XHJcbn1cclxuXHJcbi5pbWFnZXMtY29udGFpbmVye1xyXG4gICAgbWluLWhlaWdodDogNDB2aDtcclxufVxyXG5cclxuXHJcbjo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gICAgd2lkdGg6IDEwcHg7XHJcbn1cclxuIFxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcclxuICAgIC13ZWJraXQtYm94LXNoYWRvdzogbm9uZTsgXHJcbiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDBweDtcclxuICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbn1cclxuIFxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcclxuICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDE4MywgMjU1LCAwLjgpOyBcclxufVxyXG4iXX0= */\"","module.exports = \"<div class=\\\"container-fluid col-md-12 container-ma\\\">\\n  <div *ngIf=\\\"found==true\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-2 pl-5 ml-3\\\">\\n        <img [src]=\\\"_imageURL\\\" class=\\\"profile-picture\\\">\\n      </div>\\n      <div class=\\\"col\\\">\\n        <div class=\\\"row pt-3 pl-2\\\">\\n          <span class=\\\"user\\\">{{username}}</span>\\n        </div>\\n        <div class=\\\"row pt-4\\\">\\n          <button type=\\\"button\\\" class=\\\"button button-follow no-follow\\\" *ngIf=\\\"this.username != this.identity.nick\\\"\\n            (click)=\\\"follow(token, username)\\\"></button><!-- {{followStatus}} -->\\n          <button type=\\\"button\\\" [routerLink]=\\\"['/edit']\\\" class=\\\"button button-edit edit\\\" *ngIf=\\\"this.username == this.identity.nick\\\">Editar</button>\\n        </div>\\n      </div>\\n      <div class=\\\"col-md-2 pt-4\\\">\\n        <div class=\\\"row pt-3 followers\\\">Seguidores<span>{{followers}}</span></div>\\n        <div class=\\\"row pt-4 following\\\">Siguiendo<span>{{following}}</span></div>\\n      </div>\\n      <div class=\\\"col-md-6 pt-3\\\">\\n        <div class=\\\"description\\\">\\n          <span *ngIf=\\\"description != null else nodesc\\\">{{description}}</span>\\n          <ng-template #nodesc>\\n              <span>El usuario no ha agregado ninguna descripción.</span>\\n            </ng-template>\\n        </div>\\n      </div>\\n    </div>\\n    <hr class=\\\"index-title mt-5\\\">\\n    <div class=\\\"row profile-navbar mt-4\\\">\\n      <div class=\\\"col-md-2 pr-5\\\">\\n        <span class=\\\"chosen\\\" (click)=\\\"pickElement($event,1)\\\">Imágenes</span>\\n      </div>\\n      <div class=\\\"col-md-1 mr-5\\\">\\n        <span (click)=\\\"pickElement($event,2)\\\">Likes</span>\\n      </div>\\n      <div class=\\\"col-md-2\\\" *ngIf=\\\"this.username == this.identity.nick\\\">\\n        <span (click)=\\\"pickElement($event,3)\\\">Favs</span>\\n      </div>\\n    </div>\\n    <div class=\\\"container-fluid col-md-12 profile-na  vbar-content mt-5\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12 images-container\\\">\\n          <images-component *ngIf=\\\"this.element == 1\\\"></images-component>\\n          <likes-component *ngIf=\\\"this.element == 2\\\"></likes-component>\\n          <favs-component *ngIf=\\\"this.element == 3\\\"></favs-component>\\n        </div> <!-- Aquí cargaremos los componentes de Imágenes, Likes y Favs en función de cual esté seleccionado. -->\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"container-fluid error\\\" *ngIf=\\\"found==false\\\">\\n    <img src=\\\"assets/img/404.png\\\">\\n    <h2>El usuario no existe o ha borrado su cuenta.</h2>\\n    <p>Si crees que es un error de la página, por favor contáctanos en sistemas@moonart.com</p>\\n    <a [routerLink]=\\\"['/home']\\\"> Volver al inicio </a>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { ImageService } from '../../services/image.service';\nimport { CommonService } from '../../services/common.service';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { Renderer2 } from '@angular/core';\n\n@Component({\n    selector: 'app-profile',\n    templateUrl: './profile.component.html',\n    styleUrls: ['./profile.component.css'],\n    providers: [UserService, ImageService, CommonService]\n})\nexport class ProfileComponent implements OnInit {\n\n    public page_title: string;\n    public identity;\n    public token;\n    public images;\n    public page;\n    public next_page;\n    public prev_page;\n    public number_pages;\n    public total_pages;\n    public nightMode;\n    public arrayNightMode;\n    public nsfw;\n    public epilepsy;\n    public username;\n    public followStatus;\n    public element: number;\n    public found;\n    public description;\n    public isOwner: boolean;\n    public isFollowing: boolean;\n    public _imageURL: string;\n    public followers;\n    public following;\n    public fllwError;\n    public userError;\n    public tab;\n\n    constructor(\n        private _userService: UserService,\n        private _imageService: ImageService,\n        private _commonService: CommonService,\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private render: Renderer2\n    ) {\n        this.page_title = \"Profile\";\n        this.arrayNightMode = [\"day-container\", \"night-container\", \"day-bg\", \"night-bg\"];\n        this.username = window.location.href.split(\"/\");\n        for (let i = 0; i < this.username.length; i++) {\n            if (this.username[i] == \"profile\" && (i + 1) < this.username.length) {\n                this.username = this.username[i + 1];\n            }\n        }\n        // this.username = \"Nao\";\n        this.followStatus = \"Seguir\";\n        this.tab = \"images\";\n        this.followers = 0;\n        this.following = 0;\n        this.fllwError = 0;\n        this.userError = 0;\n    }\n\n    ngOnInit() {\n        this.loadUser();\n        this.tab = window.location.href.split(\"/\");\n        this.tab = this.tab[this.tab.length - 2];\n\n        this.element = 1;\n\n        if (this.tab == \"likes\") {\n            this.element = 2;\n        }\n        else if (this.tab == \"favs\") {\n            this.element = 3;\n        }\n        else {\n            this.element = 1;\n        }\n\n        this.getUserData();\n\n        this._route.params.subscribe(params => {\n            this.page = +params['page'];\n\n            if (!this.page) {\n                this.page = 1;\n                this.prev_page = 1;\n                this.next_page = 2;\n            }\n            /*\n            if (localStorage.getItem(\"config\") != null || localStorage.getItem(\"config\") != undefined) {\n                this.nsfw = JSON.parse(localStorage.getItem(\"config\")).nsfw;\n                this.epilepsy = JSON.parse(localStorage.getItem(\"config\")).epilepsy;\n            }\n            */\n            // this.getImages(this.page, this.user);\n        });\n\n        if (localStorage.getItem(\"config\") != null && localStorage.getItem(\"config\") != \"undefined\") {\n\n            this.nightMode = JSON.parse(localStorage.getItem(\"config\")).nightMode;\n            this._commonService.changeNightModeAttr(this.nightMode, this.arrayNightMode);\n        }\n\n        this._userService.checkFollowing(this);\n    }\n\n    loadUser() {\n        this.identity = this._userService.getIdentity();\n        this.token = this._userService.getToken();\n        if (this.identity == null) {\n            this.identity = {\n                id: 0,\n                nick: 'guest'\n            };\n        }\n    }\n\n    pickElement(event, element) {\n        this.render.removeClass(document.querySelector(\".chosen\"), \"chosen\");\n        this.render.addClass(event.target, \"chosen\");\n        this.element = element;\n    }\n\n    follow(token, nick) {\n        this._userService.follow(token, nick).subscribe(\n            response => {\n                if (response.status == \"success\") {\n                    this._userService.checkFollowing(this);\n                    this.getUserData();\n                }\n            },\n            error => {\n                console.log(\"Ero\");\n            }\n        );\n    }\n\n    getUserData(){\n        this._userService.getUserByNick(this.username).subscribe(\n            response => {\n                // console.log(response);\n                if (response.status == \"success\") {\n                    console.log(response);\n                    this._imageURL = \"assets/profile-picture/\" + response.user_info.image;\n                    this.found = true;\n                    this.description = response.user_info.description;\n                    this._userService.getUserFollows(response.user_info.id).subscribe(\n                        response => {\n                            if (response.status == \"success\"){\n                                this.followers = response.followers;\n                                this.following = response.following;\n                            }\n                        },\n                        error => {\n                            console.log(\"getUserFollows()\");\n                            console.log(\"Ero...\" + \" attempt: \" + this.fllwError);\n                            if (this.fllwError < 5) {\n                                this.getUserData();\n                                this.fllwError++;\n                            }\n                        }\n                    );\n                }\n                else {\n                    this.found = false;\n                }\n            },\n            error => {\n                console.log(\"getUserByNick()\");\n                console.log(\"Ero...\" + \" attempt: \" + this.userError);\n                if (this.userError < 5) {\n                    this.getUserData();\n                    this.userError++;\n                }\n            }\n        );\n    }\n}\n","import { Component, OnInit } from '@angular/core';\r\nimport { UserService } from '../../services/user.service';\r\nimport { ImageService } from '../../services/image.service';\r\nimport { CommonService } from '../../services/common.service';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { Renderer2 } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'images-component',\r\n    template: `\r\n  <div class=\"container-images\">\r\n    <div class=\"box grid-col-{{i+1}} pb-5\" *ngFor=\"let image of images; let i = index\">\r\n      <div id=\"image-box\">\r\n        <div #imageParent class=\"image-parent\" id=\"hover-parent\">\r\n          <a [routerLink]=\"['/images', image[0].id]\">\r\n            <img src=\"assets/public/{{image[0].url}}\" class=\"image-element\" [class.hidden]=\"image[0].status == 'hidden'\" id=\"id-{{image[0].id}}\" (mouseleave)=\"_imageService.out($event, this, null);\">\r\n          </a>\r\n          <span class=\"image-description\">\r\n            {{image[0].name}}\r\n            <br>\r\n            <span class=\"image-by\">\r\n              by <span class=\"image-user\">{{image.username}}</span>\r\n            </span>\r\n          </span>\r\n          <div class=\"image-action\" *ngIf=\"identity && identity.nick != 'guest'\">\r\n            <img class=\"image-frame like\" src=\"assets/img/image-like-border.png\" (mouseover)=\"_imageService.in($event, this, null);\"\r\n              (mouseleave)=\"_imageService.out($event, this, null);\">\r\n            <div class=\"image-heart\" (mouseover)=\"_imageService.in($event, this, 1);\" (mouseleave)=\"_imageService.out($event, this, 1);\" (click)=\"_imageService.saveInteraction($event, this, 'like');\"></div>\r\n            <img class=\"image-frame fav\" src=\"assets/img/image-fav-border.png\" (mouseover)=\"_imageService.in($event, this, null);\"\r\n              (mouseleave)=\"_imageService.out($event, this, null);\">\r\n            <div class=\"image-star\" (mouseover)=\"_imageService.in($event, this, 2);\" (mouseleave)=\"_imageService.out($event, this, 2);\" (click)=\"_imageService.saveInteraction($event, this, 'fav');\"></div>\r\n            <img class=\"image-frame share\" src=\"assets/img/image-share-border.png\" (mouseover)=\"_imageService.in($event, this, null);\"\r\n              (mouseleave)=\"_imageService.out($event, this, null);\">\r\n            <div class=\"image-arrows\" (mouseover)=\"_imageService.in($event,this, 3);\" (mouseleave)=\"_imageService.out($event, this, 3);\" (click)=\"_imageService.saveInteraction($event, this, 'share');\"></div>\r\n          </div>\r\n        </div>\r\n        <!-- <img src=\"../api-rest-symfony/public/storage/images/image-example.jpg\" class=\"image-element\"> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <nav aria-label=\"Page navigation example\">\r\n  <ul class=\"pagination profile-pagination float-right\">\r\n    <li *ngIf=\"page != 1 && total_pages > 1\">\r\n      <a class=\"page-link\" (click)=\"nextPage('--')\">Anterior</a>\r\n    </li>\r\n    <li *ngFor=\"let num of number_pages; let i = index\">\r\n      <a class=\"page-link\" *ngIf=\"i<5\" (click)=\"nextPage(num)\" [ngClass]=\"{'active': num == page}\">{{num}}</a>\r\n      <!-- Cambiar para que si p.e estás en la pág 20, salga 18 - 19 - 20 - 21 - 22 -->\r\n    </li>\r\n    <li *ngIf=\"page != total_pages && total_pages > 1\">\r\n      <!--  && total_pages > 1 -->\r\n      <a class=\"page-link\" (click)=\"nextPage('++')\">Siguiente</a>\r\n    </li>\r\n  </ul>\r\n  </nav>\r\n  `,\r\n    // styleUrls: ['./home.component.css'],\r\n    providers: [UserService, ImageService, CommonService]\r\n})\r\nexport class ImagesComponent implements OnInit {\r\n\r\n    public page_title: string;\r\n    public identity;            // User logueado\r\n    public token;\r\n    public images;\r\n    public estado;\r\n    public page;\r\n    public next_page;\r\n    public prev_page;\r\n    public number_pages;\r\n    public total_pages;\r\n    public nightMode;\r\n    public arrayNightMode;\r\n    public nsfw;\r\n    public epilepsy;\r\n    public username;            // Username es el user de la página\r\n\r\n    constructor(\r\n        private _userService: UserService,\r\n        private _imageService: ImageService,\r\n        private _commonService: CommonService,\r\n        private _route: ActivatedRoute,\r\n        private _router: Router,\r\n        private render: Renderer2\r\n    ) {\r\n        this.username = window.location.href.split(\"/\");\r\n        for (let i = 0; i < this.username.length; i++) {\r\n            if (this.username[i] == \"profile\" && (i + 1) < this.username.length) {\r\n                this.username = this.username[i + 1];\r\n            }\r\n        }\r\n        this.arrayNightMode = [\"day-container\", \"night-container\", \"day-bg\", \"night-bg\"];\r\n        this.page = 1;\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        this.loadUser();\r\n\r\n        this._route.params.subscribe(params => {\r\n\r\n            if (!this.page) {\r\n                this.page = 1;\r\n                this.prev_page = 1;\r\n                this.next_page = 2;\r\n            }\r\n\r\n            if (localStorage.getItem(\"config\") != null || localStorage.getItem(\"config\") != undefined) {\r\n                this.nsfw = JSON.parse(localStorage.getItem(\"config\")).nsfw;\r\n                this.epilepsy = JSON.parse(localStorage.getItem(\"config\")).epilepsy;\r\n            }\r\n\r\n            if (this.username != this.identity.nick) {\r\n                this._imageService.showAllImages(this, this.page, this.nsfw, this.epilepsy, this.username);\r\n            }\r\n\r\n            else {\r\n                this._imageService.showAllImages(this, this.page, \"true\", \"true\", this.username, true);\r\n            }\r\n        });\r\n    }\r\n\r\n    loadUser() {\r\n        this.identity = this._userService.getIdentity();\r\n        this.token = this._userService.getToken();\r\n        if (this.identity == null) {\r\n            this.identity = {\r\n                id: 0,\r\n                nick: 'guest'\r\n            };\r\n        }\r\n    }\r\n\r\n    nextPage(param) {\r\n        if (param == \"++\") {\r\n            this.page++;\r\n        }\r\n        else if (param == \"--\") {\r\n            this.page--;\r\n        }\r\n        else {\r\n            this.page = param;\r\n        }\r\n        this.ngOnInit();\r\n    }\r\n}","module.exports = \".container-ma{ \\r\\n    margin-top: 40px; \\r\\n    margin-bottom: 40px; \\r\\n    border-radius: 5px; \\r\\n    padding-top: 30px;\\r\\n    padding-bottom: 40px;\\r\\n    box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3)\\r\\n}\\r\\n\\r\\ninput:not([type=submit]){ height: 48px; }\\r\\n\\r\\n.title{\\r\\n    font-size: 40px;\\r\\n    color: rgb(88, 88, 88);\\r\\n}\\r\\n\\r\\nimg{\\r\\n    width: 60px;\\r\\n    margin-right: 15px;\\r\\n}\\r\\n\\r\\n.form-ma{\\r\\n    padding-left: 30px;\\r\\n    padding-right: 30px; \\r\\n}\\r\\n\\r\\nhr{ display: block; margin-bottom: 40px; width: 90%; }\\r\\n\\r\\ninput[type=submit]{\\r\\n    letter-spacing: 0.5px;\\r\\n    font-family: 'Oxygen', sans-serif;\\r\\n}\\r\\n\\r\\n.btn{\\r\\n    width: 100%;\\r\\n    background: rgb(104, 145, 162);\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n.btn-red-ma{\\r\\n    background-color: #c9302c;\\r\\n}\\r\\n\\r\\n.profile-img-card{\\r\\n    width: 96px;\\r\\n    height: 96px;\\r\\n    margin: 0 auto 0;\\r\\n    display: block;\\r\\n    border-radius: 50%;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9yZWdpc3Rlci9yZWdpc3Rlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLG9CQUFvQjtJQUNwQjtBQUNKOztBQUVBLDBCQUEwQixZQUFZLEVBQUU7O0FBRXhDO0lBQ0ksZUFBZTtJQUNmLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsbUJBQW1CO0FBQ3ZCOztBQUVBLElBQUksY0FBYyxFQUFFLG1CQUFtQixFQUFFLFVBQVUsRUFBRTs7QUFFckQ7SUFDSSxxQkFBcUI7SUFDckIsaUNBQWlDO0FBQ3JDOztBQUVBO0lBQ0ksV0FBVztJQUNYLDhCQUE4QjtJQUM5QixZQUFZO0FBQ2hCOztBQUdBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsY0FBYztJQUdkLGtCQUFrQjtBQUN0QiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvcmVnaXN0ZXIvcmVnaXN0ZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItbWF7IFxyXG4gICAgbWFyZ2luLXRvcDogNDBweDsgXHJcbiAgICBtYXJnaW4tYm90dG9tOiA0MHB4OyBcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDsgXHJcbiAgICBwYWRkaW5nLXRvcDogMzBweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiA0MHB4O1xyXG4gICAgYm94LXNoYWRvdzogMHB4IDJweCAycHggcmdiYSgwLCAwLCAwLCAwLjMpXHJcbn1cclxuXHJcbmlucHV0Om5vdChbdHlwZT1zdWJtaXRdKXsgaGVpZ2h0OiA0OHB4OyB9XHJcblxyXG4udGl0bGV7XHJcbiAgICBmb250LXNpemU6IDQwcHg7XHJcbiAgICBjb2xvcjogcmdiKDg4LCA4OCwgODgpO1xyXG59XHJcblxyXG5pbWd7XHJcbiAgICB3aWR0aDogNjBweDtcclxuICAgIG1hcmdpbi1yaWdodDogMTVweDtcclxufVxyXG5cclxuLmZvcm0tbWF7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDMwcHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAzMHB4OyBcclxufVxyXG5cclxuaHJ7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tYm90dG9tOiA0MHB4OyB3aWR0aDogOTAlOyB9XHJcblxyXG5pbnB1dFt0eXBlPXN1Ym1pdF17XHJcbiAgICBsZXR0ZXItc3BhY2luZzogMC41cHg7XHJcbiAgICBmb250LWZhbWlseTogJ094eWdlbicsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbi5idG57XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJhY2tncm91bmQ6IHJnYigxMDQsIDE0NSwgMTYyKTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxufVxyXG5cclxuXHJcbi5idG4tcmVkLW1he1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2M5MzAyYztcclxufVxyXG5cclxuLnByb2ZpbGUtaW1nLWNhcmR7XHJcbiAgICB3aWR0aDogOTZweDtcclxuICAgIGhlaWdodDogOTZweDtcclxuICAgIG1hcmdpbjogMCBhdXRvIDA7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIC1tb3otYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbn1cclxuIl19 */\"","module.exports = \"<div class=\\\"alert alert-success notification\\\" *ngIf=\\\"status == 'success'\\\">\\n  Te has registrado correctamente, <a [routerLink]=\\\"['/login']\\\">identifícate aquí</a>\\n</div>\\n\\n<div class=\\\"alert alert-danger notification\\\" *ngIf=\\\"status == 'error'\\\">\\n  No te has registrado. Consulta la consola para ver el error.\\n</div>\\n\\n<div class=\\\"container-fluid col-md-3 container-ma\\\">\\n  <div class=\\\"row form-ma\\\">\\n    <!-- <div class=\\\"d-flex justify-content-center\\\"> -->\\n    <div class=\\\"col-md-12 text-center\\\">\\n      <img id=\\\"profile-img\\\" class=\\\"profile-img-card\\\" src=\\\"assets/img/register.png\\\">\\n      <div class=\\\"title mb-3\\\">\\n        <span>Registro</span>\\n      </div>\\n    </div>\\n    <!-- </div> -->\\n  </div>\\n\\n  <div class=\\\"row form-ma\\\">\\n    <form class=\\\"col-md-12\\\" #registerForm=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit(registerForm)\\\">\\n      <div class=\\\"form-group\\\">\\n        <input type=\\\"text\\\" name=\\\"name\\\" #name=\\\"ngModel\\\" [(ngModel)]=\\\"user.name\\\" class=\\\"form-control\\\" required pattern=\\\"[A-zÁÉÍÓÚÀÈÌÒÙáéíóúàèìòùñ \\\\s]+\\\"\\n          placeholder=\\\"Nombre\\\">\\n\\n        <small *ngIf=\\\"!name.valid && name.touched\\\" class=\\\"invalid-feedback d-block\\\">\\n          Nombre no válido.\\n        </small>\\n      </div>\\n\\n      <div class=\\\"form-group\\\">\\n        <input type=\\\"text\\\" name=\\\"nick\\\" #nick=\\\"ngModel\\\" [(ngModel)]=\\\"user.nick\\\" class=\\\"form-control\\\" required pattern=\\\"[A-z0-9_-]+\\\"\\n          maxlength=\\\"10\\\" placeholder=\\\"Nick (Máx 10 caracteres)\\\">\\n\\n        <small *ngIf=\\\"!nick.valid && nick.touched\\\" class=\\\"invalid-feedback d-block\\\">\\n          Nick no válido.\\n        </small>\\n      </div>\\n\\n      <div class=\\\"form-group\\\">\\n        <input type=\\\"email\\\" name=\\\"email\\\" #email=\\\"ngModel\\\" [(ngModel)]=\\\"user.email\\\" class=\\\"form-control\\\" required\\n          pattern=\\\"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\\\" placeholder=\\\"Email\\\">\\n\\n        <small *ngIf=\\\"!email.valid && email.touched\\\" class=\\\"invalid-feedback d-block\\\">\\n          Email no válido.\\n        </small>\\n      </div>\\n\\n      <div class=\\\"form-group\\\">\\n        <input type=\\\"password\\\" name=\\\"password\\\" #password=\\\"ngModel\\\" [(ngModel)]=\\\"user.password\\\" class=\\\"form-control\\\"\\n          required pattern=\\\"(?=^.{8,}$)((?=.*\\\\d)|(?=.*\\\\W+))(?![.\\\\n])(?=.*[A-Z])(?=.*[a-z]).*$\\\" placeholder=\\\"Contraseña\\\">\\n\\n        <small *ngIf=\\\"!password.valid && password.touched\\\" class=\\\"invalid-feedback d-block\\\">\\n          Contraseña no válida. Mínimo 8 caracteres. Debe contener al menos una letra mayúscula, un número.\\n        </small>\\n      </div>\\n\\n      <div class=\\\"form-group\\\" id=\\\"password_match_check\\\">\\n        <input type=\\\"password\\\" name=\\\"password_2\\\" #password_2=\\\"ngModel\\\" [(ngModel)]=\\\"user.password_confirm\\\" class=\\\"form-control\\\"\\n          required pattern=\\\"(?=^.{8,}$)((?=.*\\\\d)|(?=.*\\\\W+))(?![.\\\\n])(?=.*[A-Z])(?=.*[a-z]).*$\\\" placeholder=\\\"Repite la contraseña\\\">\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12 mb-2\\\">\\n          <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" [disabled]=\\\"registerForm.invalid\\\">Registrarse</button>\\n        </div>\\n      </div>\\n      <!-- <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12\\\">\\n          <button type=\\\"submit\\\" class=\\\"btn btn-danger btn-red-ma\\\">Google</button>\\n        </div>\\n      </div> -->\\n    </form>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { User } from '../../models/user';\nimport { UserService } from '../../services/user.service';\nimport { CommonService } from '../../services/common.service';\n\n@Component({\n    selector: 'app-register',\n    templateUrl: './register.component.html',\n    styleUrls: ['./register.component.css'],\n    providers: [UserService, CommonService]\n})\nexport class RegisterComponent implements OnInit {\n\n    public page_title: string;\n    public user: User;\n    public status: string;\n    public nightMode;\n    public arrayNightMode;\n    public config: any;\n    public configJSON: string;\n    public userJSON: string;\n\n    constructor(\n        private _userService: UserService,\n        private _commonService: CommonService\n    ) {\n        this.page_title = \"Registrarse\";\n        this.user = new User(1, '', '', '', '', '', 'ROLE_USER', '', '');\n\n        this.arrayNightMode = [\"day-container\", \"night-container\", \"day-bg\", \"night-bg\"];\n    }\n\n    ngOnInit() {\n\n        // if (localStorage.getItem(\"user\") != null && localStorage.getItem(\"config\") != \"undefined\") {\n        this.nightMode = JSON.parse(localStorage.getItem(\"config\")).nightMode;\n        this._commonService.changeNightModeAttr(this.nightMode, this.arrayNightMode);\n        // }\n    }\n\n    onSubmit(form) {\n        if (form.value.password == form.value.password_2) {\n            this._userService.register(this.user).subscribe(\n                response => {\n                    if (response.status == 'success') {\n                        this.status = 'success';\n                        form.reset();\n                    }\n                    else {\n                        this.status = 'error';\n                        this._commonService.displayNotification(this);\n                    }\n                    console.log(response);\n                },\n                error => {\n                    this.status = 'error';\n                    this._commonService.displayNotification(this);\n                    console.log(error);\n                }\n            );\n        }\n        else {\n            console.log(\"Las contraseñas no coinciden.\")\n        }\n    }\n}\n","module.exports = \".container-ma{ \\r\\n    margin-top: 40px; \\r\\n    margin-bottom: 40px; \\r\\n    border-radius: 5px; \\r\\n    padding-top: 30px;\\r\\n    padding-bottom: 40px;\\r\\n    width: 95%;\\r\\n    min-height: 10vh;\\r\\n}\\r\\n\\r\\n.row div:nth-child(1){ padding-left: 40px; }\\r\\n\\r\\n.row div:nth-child(4){ padding-right: 40px; }\\r\\n\\r\\nh1 span{\\r\\n    font-size: 25px;\\r\\n    margin-left: 20px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9zZWFyY2gvc2VhcmNoLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsb0JBQW9CO0lBQ3BCLFVBQVU7SUFDVixnQkFBZ0I7QUFDcEI7O0FBRUEsdUJBQXVCLGtCQUFrQixFQUFFOztBQUUzQyx1QkFBdUIsbUJBQW1CLEVBQUU7O0FBRTVDO0lBQ0ksZUFBZTtJQUNmLGlCQUFpQjtBQUNyQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2VhcmNoL3NlYXJjaC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1tYXsgXHJcbiAgICBtYXJnaW4tdG9wOiA0MHB4OyBcclxuICAgIG1hcmdpbi1ib3R0b206IDQwcHg7IFxyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4OyBcclxuICAgIHBhZGRpbmctdG9wOiAzMHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDQwcHg7XHJcbiAgICB3aWR0aDogOTUlO1xyXG4gICAgbWluLWhlaWdodDogMTB2aDtcclxufVxyXG5cclxuLnJvdyBkaXY6bnRoLWNoaWxkKDEpeyBwYWRkaW5nLWxlZnQ6IDQwcHg7IH1cclxuXHJcbi5yb3cgZGl2Om50aC1jaGlsZCg0KXsgcGFkZGluZy1yaWdodDogNDBweDsgfVxyXG5cclxuaDEgc3BhbntcclxuICAgIGZvbnQtc2l6ZTogMjVweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG59Il19 */\"","module.exports = \"<div class=\\\"container-fluid col-md-12 container-ma\\\">\\n  <h1 class=\\\"index-title\\\">{{page_title}}<span>{{filter}}</span></h1>\\n  <hr>\\n  <!-- <div class=\\\"espaciado\\\"></div> -->\\n    <div class=\\\"container-images\\\">\\n    <div class=\\\"box grid-col-{{i+1}} pb-5\\\" *ngFor=\\\"let image of images; let i = index\\\">\\n      <div id=\\\"image-box\\\">\\n        <div #imageParent class=\\\"image-parent\\\" id=\\\"hover-parent\\\">\\n          <a [routerLink]=\\\"['/images', image[0].id]\\\">\\n            <img src=\\\"assets/public/{{image[0].url}}\\\" class=\\\"image-element\\\" id=\\\"id-{{image[0].id}}\\\" (mouseleave)=\\\"_imageService.out($event, this, null);\\\">\\n          </a>\\n          <span class=\\\"image-description\\\">\\n            {{image[0].name}}\\n            <br>\\n            <span class=\\\"image-by\\\">\\n              by <span class=\\\"image-user\\\">{{image.username}}</span>\\n            </span>\\n          </span>\\n          <div class=\\\"image-action\\\" *ngIf=\\\"identity && identity.nick != 'guest'\\\">\\n            <img class=\\\"image-frame like\\\" src=\\\"assets/img/image-like-border.png\\\" (mouseover)=\\\"_imageService.in($event, this, null);\\\"\\n              (mouseleave)=\\\"_imageService.out($event, this, null);\\\">\\n            <div class=\\\"image-heart\\\" (mouseover)=\\\"_imageService.in($event, this, 1);\\\" (mouseleave)=\\\"_imageService.out($event, this, 1);\\\" (click)=\\\"_imageService.saveInteraction($event, this, 'like');\\\"></div>\\n            <img class=\\\"image-frame fav\\\" src=\\\"assets/img/image-fav-border.png\\\" (mouseover)=\\\"_imageService.in($event, this, null);\\\"\\n              (mouseleave)=\\\"_imageService.out($event, this, null);\\\">\\n            <div class=\\\"image-star\\\" (mouseover)=\\\"_imageService.in($event, this, 2);\\\" (mouseleave)=\\\"_imageService.out($event, this, 2);\\\" (click)=\\\"_imageService.saveInteraction($event, this, 'fav');\\\"></div>\\n            <img class=\\\"image-frame share\\\" src=\\\"assets/img/image-share-border.png\\\" (mouseover)=\\\"_imageService.in($event, this, null);\\\"\\n              (mouseleave)=\\\"_imageService.out($event, this, null);\\\">\\n            <div class=\\\"image-arrows\\\" (mouseover)=\\\"_imageService.in($event,this, 3);\\\" (mouseleave)=\\\"_imageService.out($event, this, 3);\\\" (click)=\\\"_imageService.saveInteraction($event, this, 'share');\\\"></div>\\n          </div>\\n        </div>\\n        <!-- <img src=\\\"../api-rest-symfony/public/storage/images/image-example.jpg\\\" class=\\\"image-element\\\"> -->\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- <a href=\\\"index_2.html\\\">Siguiente</a> -->\\n\\n<nav aria-label=\\\"Page navigation example\\\">\\n  <ul class=\\\"pagination float-right\\\">\\n    <li *ngIf=\\\"page != 1 && total_pages > 1\\\">\\n      <a class=\\\"page-link\\\" [routerLink]=\\\"['/search', prev_page]\\\">Anterior</a>\\n    </li>\\n    <li *ngFor=\\\"let num of number_pages; let i = index\\\">\\n      <a class=\\\"page-link\\\" *ngIf=\\\"i<5\\\" [routerLink]=\\\"['/search', num]\\\" [ngClass]=\\\"{'active': num == page}\\\">{{num}}</a>\\n      <!-- Cambiar para que si p.e estás en la pág 20, salga 18 - 19 - 20 - 21 - 22 -->\\n    </li>\\n    <li *ngIf=\\\"page != total_pages\\\"> <!--  && total_pages > 1 -->\\n      <a class=\\\"page-link\\\" [routerLink]=\\\"['/search', next_page]\\\">Siguiente</a>\\n    </li>\\n  </ul>\\n</nav>\\n\\n<!-- div class=\\\"container-images\\\">\\n    <div class=\\\"row\\\" *ngFor=\\\"let item of [].constructor(4); let i = index\\\">\\n      <div class=\\\"col-md-3 box\\\" *ngFor=\\\"let item of [].constructor(4); let j = index\\\">\\n        <div id=\\\"image-box\\\"></div>\\n      </div>\\n    </div>\\n  </div -->\"","import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { ImageService } from '../../services/image.service';\nimport { CommonService } from '../../services/common.service';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { Renderer2 } from '@angular/core';\n\n@Component({\n    selector: 'app-search',\n    templateUrl: './search.component.html',\n    styleUrls: ['./search.component.css']\n})\nexport class SearchComponent implements OnInit {\n\n    public page_title: string;\n    public filter: string;\n    public identity;\n    public token;\n    public images;\n    public estado;\n    public page;\n    public next_page;\n    public prev_page;\n    public number_pages;\n    public total_pages;\n    public nightMode;\n    public arrayNightMode;\n    public nsfw;\n    public epilepsy;\n    public query;\n    public searError;\n\n    constructor(\n        private _userService: UserService,\n        private _imageService: ImageService,\n        private _commonService: CommonService,\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private render: Renderer2\n    ) {\n        this.page_title = \"  Resultados de: \";\n        this.arrayNightMode = [\"day-container\", \"night-container\", \"day-bg\", \"night-bg\"];\n        this.searError = 0;\n        this._route.queryParams.subscribe(params => {\n            this.query = params['q'];\n            this.changeURL();\n        });\n\n        /*\n        _router.events.subscribe(() => {\n         });\n         */\n    }\n\n    ngOnInit() {\n        this.loadUser();\n\n        if (localStorage.getItem(\"config\") != null && localStorage.getItem(\"config\") != \"undefined\") {\n\n            this.nightMode = JSON.parse(localStorage.getItem(\"config\")).nightMode;\n            this._commonService.changeNightModeAttr(this.nightMode, this.arrayNightMode);\n        }\n    }\n\n    changeURL() {\n        let tagQuery = this.query.search(\"tag:\");\n        let nameQuery = this.query.search(\"name:\");\n        let querySelector;\n        let search;\n        this.filter = \"\";\n\n            if (tagQuery == 0){\n                querySelector = \"tag\";\n            }\n            else if(nameQuery == 0){\n                querySelector = \"name\";\n            }\n            else{\n                querySelector = \"all\";\n            }\n\n        search = this.query.replace(\"tag:\",\"\").replace(\"name:\",\"\");\n        this.page_title = \"  Resultados de: \" + search;\n\n        if(tagQuery != -1 || nameQuery != -1){\n            this.filter = \" (filtro: \" + querySelector + \")\";\n        }\n\n        this.pageSearch(querySelector, search);\n    }\n\n    pageSearch(querySelector, search) {\n        this._route.params.subscribe(params => {\n            this.page = +params['page'];\n\n            if (!this.page) {\n                this.page = 1;\n                this.prev_page = 1;\n                this.next_page = 2;\n            }\n            if (localStorage.getItem(\"config\") != null || localStorage.getItem(\"config\") != undefined) {\n                this.nsfw = JSON.parse(localStorage.getItem(\"config\")).nsfw;\n                this.epilepsy = JSON.parse(localStorage.getItem(\"config\")).epilepsy;\n            }\n            this._imageService.showImageSearch(this, this.page, this.nsfw, this.epilepsy, querySelector, search);\n        });\n    }\n\n    loadUser() {\n        this.identity = this._userService.getIdentity();\n        this.token = this._userService.getToken();\n        //   console.log(this.token);\n    }\n\n}\n","module.exports = \".container-ma{ \\r\\n  margin-top: 40px; \\r\\n  margin-bottom: 40px; \\r\\n  border-radius: 5px; \\r\\n  padding-top: 30px;\\r\\n  padding-bottom: 40px;\\r\\n  width: 30%;\\r\\n  min-height: 70vh;\\r\\n}\\r\\n\\r\\nhr{ margin-bottom: 60px; }\\r\\n\\r\\ninput[type=\\\"checkbox\\\"].switch{\\r\\n  -webkit-appearance: none;\\r\\n     -moz-appearance: none;\\r\\n          appearance: none;\\r\\n  width: 3.5em;\\r\\n  height: 2em;\\r\\n  background: #ddd;\\r\\n  border-radius: 3em;\\r\\n  position: relative;\\r\\n  cursor: pointer;\\r\\n  outline: none;\\r\\n  transition: all .2s ease-in-out;\\r\\n}\\r\\n\\r\\ninput[type=\\\"checkbox\\\"].switch:checked{\\r\\n  background: #0effb7;\\r\\n}\\r\\n\\r\\ninput[type=\\\"checkbox\\\"].night:checked{\\r\\n  background: #00054e;\\r\\n}\\r\\n\\r\\ninput[type=\\\"checkbox\\\"].switch:after{\\r\\n  position: absolute;\\r\\n  content: \\\"\\\";\\r\\n  width: 2em;\\r\\n  height: 2em;\\r\\n  border-radius: 50%;\\r\\n  background: #fff;\\r\\n  box-shadow: 0 0 .25em rgba(0,0,0,.3);\\r\\n  -webkit-transform: scale(.7);\\r\\n          transform: scale(.7);\\r\\n  left: 0;\\r\\n  transition: all .2s ease-in-out;\\r\\n}\\r\\n\\r\\ninput[type=\\\"checkbox\\\"].switch:checked:after{\\r\\n  left: calc(100% - 2em);\\r\\n}\\r\\n\\r\\nspan{\\r\\n  font-size: 21px;\\r\\n}\\r\\n\\r\\n.color{\\r\\n  width: 40px;\\r\\n  height: 40px;\\r\\n  border: 1px solid rgba(136, 136, 136, 0.685);\\r\\n  border-radius: 5px;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.color:hover{\\r\\n  -webkit-transform: scale(1.1);\\r\\n          transform: scale(1.1);\\r\\n}\\r\\n\\r\\n.feed{\\r\\n  width: 56px;\\r\\n  height: 40px;\\r\\n  font-size: 20px;\\r\\n  padding: 0 5px;\\r\\n  border-radius: 5px;\\r\\n}\\r\\n\\r\\ninput::-webkit-outer-spin-button,\\r\\ninput::-webkit-inner-spin-button {\\r\\n    /* display: none; <- Crashes Chrome on hover */\\r\\n    -webkit-appearance: none;\\r\\n    margin: 0; /* <-- Apparently some margin are still there even though it's hidden */\\r\\n}\\r\\n\\r\\ninput[type=number] {\\r\\n    -moz-appearance:textfield; /* Firefox */\\r\\n}\\r\\n\\r\\n.red{  background: rgb(255, 140, 140); }\\r\\n\\r\\n.green{ background: rgb(163, 255, 140); }\\r\\n\\r\\n.blue{ background: rgb(140, 190, 255); }\\r\\n\\r\\n.violet{ background: rgb(194, 140, 255); }\\r\\n\\r\\n.orange{ background: rgb(247, 217, 172); }\\r\\n\\r\\n.yellow{ background: rgb(255, 253, 140); }\\r\\n\\r\\n.chosen{box-shadow: 0px 0px 3px 4px rgba(237, 43, 255, 0.295); -webkit-transform: scale(1.2); transform: scale(1.2);}\\r\\n\\r\\n.chosen:hover{ -webkit-transform: scale(1.2); transform: scale(1.2); }\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9zZXR0aW5ncy9zZXR0aW5ncy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLG9CQUFvQjtFQUNwQixVQUFVO0VBQ1YsZ0JBQWdCO0FBQ2xCOztBQUVBLElBQUksbUJBQW1CLEVBQUU7O0FBRXpCO0VBQ0Usd0JBQWdCO0tBQWhCLHFCQUFnQjtVQUFoQixnQkFBZ0I7RUFDaEIsWUFBWTtFQUNaLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsYUFBYTtFQUNiLCtCQUErQjtBQUNqQzs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsVUFBVTtFQUNWLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLG9DQUFvQztFQUNwQyw0QkFBb0I7VUFBcEIsb0JBQW9CO0VBQ3BCLE9BQU87RUFDUCwrQkFBK0I7QUFDakM7O0FBRUE7RUFDRSxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWiw0Q0FBNEM7RUFDNUMsa0JBQWtCO0VBQ2xCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSw2QkFBcUI7VUFBckIscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixlQUFlO0VBQ2YsY0FBYztFQUNkLGtCQUFrQjtBQUNwQjs7QUFFQTs7SUFFSSw4Q0FBOEM7SUFDOUMsd0JBQXdCO0lBQ3hCLFNBQVMsRUFBRSx1RUFBdUU7QUFDdEY7O0FBRUE7SUFDSSx5QkFBeUIsRUFBRSxZQUFZO0FBQzNDOztBQUVBLE9BQU8sOEJBQThCLEVBQUU7O0FBQ3ZDLFFBQVEsOEJBQThCLEVBQUU7O0FBQ3hDLE9BQU8sOEJBQThCLEVBQUU7O0FBQ3ZDLFNBQVMsOEJBQThCLEVBQUU7O0FBQ3pDLFNBQVMsOEJBQThCLEVBQUU7O0FBQ3pDLFNBQVMsOEJBQThCLEVBQUU7O0FBRXpDLFFBQVEscURBQXFELEVBQUUsNkJBQXFCLEVBQXJCLHFCQUFxQixDQUFDOztBQUNyRixlQUFlLDZCQUFxQixFQUFyQixxQkFBcUIsRUFBRSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2V0dGluZ3Mvc2V0dGluZ3MuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItbWF7IFxyXG4gIG1hcmdpbi10b3A6IDQwcHg7IFxyXG4gIG1hcmdpbi1ib3R0b206IDQwcHg7IFxyXG4gIGJvcmRlci1yYWRpdXM6IDVweDsgXHJcbiAgcGFkZGluZy10b3A6IDMwcHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDQwcHg7XHJcbiAgd2lkdGg6IDMwJTtcclxuICBtaW4taGVpZ2h0OiA3MHZoO1xyXG59XHJcblxyXG5ocnsgbWFyZ2luLWJvdHRvbTogNjBweDsgfVxyXG5cclxuaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdLnN3aXRjaHtcclxuICBhcHBlYXJhbmNlOiBub25lO1xyXG4gIHdpZHRoOiAzLjVlbTtcclxuICBoZWlnaHQ6IDJlbTtcclxuICBiYWNrZ3JvdW5kOiAjZGRkO1xyXG4gIGJvcmRlci1yYWRpdXM6IDNlbTtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbiAgdHJhbnNpdGlvbjogYWxsIC4ycyBlYXNlLWluLW91dDtcclxufVxyXG5cclxuaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdLnN3aXRjaDpjaGVja2Vke1xyXG4gIGJhY2tncm91bmQ6ICMwZWZmYjc7XHJcbn1cclxuXHJcbmlucHV0W3R5cGU9XCJjaGVja2JveFwiXS5uaWdodDpjaGVja2Vke1xyXG4gIGJhY2tncm91bmQ6ICMwMDA1NGU7XHJcbn1cclxuXHJcbmlucHV0W3R5cGU9XCJjaGVja2JveFwiXS5zd2l0Y2g6YWZ0ZXJ7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGNvbnRlbnQ6IFwiXCI7XHJcbiAgd2lkdGg6IDJlbTtcclxuICBoZWlnaHQ6IDJlbTtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgYmFja2dyb3VuZDogI2ZmZjtcclxuICBib3gtc2hhZG93OiAwIDAgLjI1ZW0gcmdiYSgwLDAsMCwuMyk7XHJcbiAgdHJhbnNmb3JtOiBzY2FsZSguNyk7XHJcbiAgbGVmdDogMDtcclxuICB0cmFuc2l0aW9uOiBhbGwgLjJzIGVhc2UtaW4tb3V0O1xyXG59XHJcblxyXG5pbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0uc3dpdGNoOmNoZWNrZWQ6YWZ0ZXJ7XHJcbiAgbGVmdDogY2FsYygxMDAlIC0gMmVtKTtcclxufVxyXG5cclxuc3BhbntcclxuICBmb250LXNpemU6IDIxcHg7XHJcbn1cclxuXHJcbi5jb2xvcntcclxuICB3aWR0aDogNDBweDtcclxuICBoZWlnaHQ6IDQwcHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMzYsIDEzNiwgMTM2LCAwLjY4NSk7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLmNvbG9yOmhvdmVye1xyXG4gIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcclxufVxyXG5cclxuLmZlZWR7XHJcbiAgd2lkdGg6IDU2cHg7XHJcbiAgaGVpZ2h0OiA0MHB4O1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICBwYWRkaW5nOiAwIDVweDtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuXHJcbmlucHV0Ojotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9uLFxyXG5pbnB1dDo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbiB7XHJcbiAgICAvKiBkaXNwbGF5OiBub25lOyA8LSBDcmFzaGVzIENocm9tZSBvbiBob3ZlciAqL1xyXG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xyXG4gICAgbWFyZ2luOiAwOyAvKiA8LS0gQXBwYXJlbnRseSBzb21lIG1hcmdpbiBhcmUgc3RpbGwgdGhlcmUgZXZlbiB0aG91Z2ggaXQncyBoaWRkZW4gKi9cclxufVxyXG5cclxuaW5wdXRbdHlwZT1udW1iZXJdIHtcclxuICAgIC1tb3otYXBwZWFyYW5jZTp0ZXh0ZmllbGQ7IC8qIEZpcmVmb3ggKi9cclxufVxyXG5cclxuLnJlZHsgIGJhY2tncm91bmQ6IHJnYigyNTUsIDE0MCwgMTQwKTsgfVxyXG4uZ3JlZW57IGJhY2tncm91bmQ6IHJnYigxNjMsIDI1NSwgMTQwKTsgfVxyXG4uYmx1ZXsgYmFja2dyb3VuZDogcmdiKDE0MCwgMTkwLCAyNTUpOyB9XHJcbi52aW9sZXR7IGJhY2tncm91bmQ6IHJnYigxOTQsIDE0MCwgMjU1KTsgfVxyXG4ub3JhbmdleyBiYWNrZ3JvdW5kOiByZ2IoMjQ3LCAyMTcsIDE3Mik7IH1cclxuLnllbGxvd3sgYmFja2dyb3VuZDogcmdiKDI1NSwgMjUzLCAxNDApOyB9XHJcblxyXG4uY2hvc2Vue2JveC1zaGFkb3c6IDBweCAwcHggM3B4IDRweCByZ2JhKDIzNywgNDMsIDI1NSwgMC4yOTUpOyB0cmFuc2Zvcm06IHNjYWxlKDEuMik7fVxyXG4uY2hvc2VuOmhvdmVyeyB0cmFuc2Zvcm06IHNjYWxlKDEuMik7IH0iXX0= */\"","module.exports = \"<div class=\\\"container-fluid col-md-6 container-ma\\\">\\n  <h1 class=\\\"index-title\\\">{{page_title}}</h1>\\n  <hr>\\n  <div class=\\\"row pl-4\\\">\\n    <div class=\\\"col-md-9\\\">\\n      <span>Modo noche</span>\\n    </div>\\n    <div class=\\\"col-md-3\\\">\\n      <input type=\\\"checkbox\\\" class=\\\"switch night\\\" [checked]=\\\"nightMode==true\\\" (change)=\\\"change($event,'nightMode')\\\">\\n    </div>\\n  </div>\\n\\n  <div class=\\\"pb-4\\\"></div>\\n\\n  <div class=\\\"row pl-4\\\">\\n    <div class=\\\"col-md-9\\\">\\n      <span>Mostrar contenido sensible</span>\\n    </div>\\n    <div class=\\\"col-md-3\\\">\\n      <input type=\\\"checkbox\\\" class=\\\"switch\\\" [checked]=\\\"nsfw==true\\\" (change)=\\\"change($event,'nsfw')\\\">\\n    </div>\\n  </div>\\n\\n  <div class=\\\"pb-4\\\"></div>\\n\\n  <div class=\\\"row pl-4\\\">\\n    <div class=\\\"col-md-9\\\">\\n      <span>Mostrar elementos llamativos</span>\\n    </div>\\n    <div class=\\\"col-md-3\\\">\\n      <input type=\\\"checkbox\\\" class=\\\"switch\\\" [checked]=\\\"epilepsy==true\\\" (change)=\\\"change($event,'epilepsy')\\\">\\n    </div>\\n  </div>\\n\\n  <div class=\\\"pb-4\\\"></div>\\n\\n  <div class=\\\"row pl-4\\\">\\n    <div class=\\\"col-md-9\\\">\\n      <span>Compartir imágenes</span>\\n    </div>\\n    <div class=\\\"col-md-3\\\">\\n      <input type=\\\"checkbox\\\" class=\\\"switch\\\" [checked]=\\\"share==true\\\" (change)=\\\"change($event,'share')\\\">\\n    </div>\\n  </div>\\n\\n  <div class=\\\"pb-4\\\"></div>\\n\\n  <div class=\\\"row pl-4\\\">\\n    <div class=\\\"col-md-9\\\">\\n      <span>Elementos de feed</span>\\n    </div>\\n    <div class=\\\"col-md-3\\\">\\n      <input type=\\\"number\\\" class=\\\"feed\\\" min=\\\"5\\\" max=\\\"100\\\" default=\\\"5\\\" [(ngModel)]=\\\"feed\\\" (change)=\\\"change($event,'feed')\\\">\\n    </div>\\n  </div>\\n\\n  <div class=\\\"pb-4\\\"></div>\\n  <div class=\\\"pb-4\\\"></div>\\n\\n  <div class=\\\"row pl-4 pb-3\\\">\\n    <div class=\\\"col-md-12 pl-3\\\">\\n      <span>Temas</span>\\n    </div>\\n  </div>\\n  <div class=\\\"row pl-5 pr-5\\\">\\n    <div class=\\\"col-md-2\\\">\\n      <div class=\\\"color red\\\" (click)=\\\"pickColor($event, 'red')\\\"></div>\\n    </div>\\n    <div class=\\\"col-md-2\\\">\\n      <div class=\\\"color green\\\" (click)=\\\"pickColor($event, 'green')\\\"></div>\\n    </div>\\n    <div class=\\\"col-md-2\\\">\\n      <div class=\\\"color blue\\\" (click)=\\\"pickColor($event, 'blue')\\\"></div>\\n    </div>\\n    <div class=\\\"col-md-2\\\">\\n      <div class=\\\"color violet\\\" (click)=\\\"pickColor($event, 'violet')\\\"></div>\\n    </div>\\n    <div class=\\\"col-md-2\\\">\\n      <div class=\\\"color orange\\\" (click)=\\\"pickColor($event, 'orange')\\\"></div>\\n    </div>\\n    <div class=\\\"col-md-2\\\">\\n      <div class=\\\"color yellow\\\" (click)=\\\"pickColor($event, 'yellow')\\\"></div>\\n    </div>\\n\\n  </div>\\n\\n</div>\"","import { Component, OnInit, Renderer2 } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport * as $ from 'jquery';\n\nimport { UserService } from '../../services/user.service';\nimport { CommonService } from '../../services/common.service';\nimport { AppComponent } from '../../app.component';\n\n@Component({\n    selector: 'app-settings',\n    templateUrl: './settings.component.html',\n    styleUrls: ['./settings.component.css'],\n    providers: [UserService, CommonService, AppComponent]\n})\nexport class SettingsComponent implements OnInit {\n\n    public page_title: string;\n    public identity;\n    public token;\n    public color;\n    public nightMode;\n    public nsfw;\n    public epilepsy;\n    public share;\n    public feed;\n    public arrayNavs;\n    public arrayNightMode;\n\n    constructor(\n        private _userService: UserService,\n        private _commonService: CommonService,\n        private _appComponent: AppComponent,\n        private _route: ActivatedRoute,\n        private render: Renderer2\n    ) {\n        this.page_title = \"  Ajustes\";\n        this.nightMode = false;\n        this.nsfw = false;\n        this.epilepsy = false;\n        this.share = true;\n        this.feed = 15;\n        this.arrayNavs = [\"nav-red\", \"nav-green\", \"nav-blue\", \"nav-violet\", \"nav-orange\", \"nav-yellow\"];\n        this.arrayNightMode = [\"day-container\", \"night-container\", \"day-bg\", \"night-bg\"];\n    }\n\n    ngOnInit() {\n\n        this.loadUser();\n        var defaultLoadJSON = localStorage.getItem(\"config\");\n\n        var defaultLoad = JSON.parse(defaultLoadJSON);\n\n            this.nightMode = defaultLoad.nightMode;\n            this.nsfw = defaultLoad.nsfw;\n            this.epilepsy = defaultLoad.epilepsy;\n            this.color = defaultLoad.color;\n            this.share = defaultLoad.share;\n            this.feed = defaultLoad.feed;\n\n            this.render.addClass(document.querySelector(\".\" + this.color), \"chosen\");\n\n        // if (localStorage.getItem(\"user\") != null && localStorage.getItem(\"config\") != \"undefined\") {\n            this.nightMode = JSON.parse(localStorage.getItem(\"config\")).nightMode;\n            this._commonService.changeNightModeAttr(this.nightMode, this.arrayNightMode);\n        // }\n    }\n\n\n    change(event, variable) {\n\n        var updateConfigJSON = localStorage.getItem(\"config\");\n        var updateConfig = JSON.parse(updateConfigJSON);\n\n        if (variable == \"nightMode\") {\n            this.nightMode = this.nightMode ? false : true;\n            updateConfig.nightMode = this.nightMode;\n        }\n\n        if (variable == \"nsfw\") {\n            this.nsfw = this.nsfw ? false : true;\n            updateConfig.nsfw = this.nsfw;\n        }\n\n        if (variable == \"epilepsy\") {\n            this.epilepsy = this.epilepsy ? false : true;\n            updateConfig.epilepsy = this.epilepsy;\n        }\n\n        if (variable == \"share\") {\n            this.share = this.share ? false : true;\n            updateConfig.share = this.share;\n        }\n\n        if (variable == \"feed\") {\n            if(this.feed > 100){\n                this.feed = 100;\n            }\n            else if(this.feed < 5) {\n                this.feed = 5;\n            }\n            updateConfig.feed = this.feed;\n        }\n        this.updateDB(updateConfig);\n\n        this._commonService.changeNightModeAttr(this.nightMode, this.arrayNightMode);\n    }\n\n    pickColor(event, color) {\n        if (this.color != color) {\n            this.render.removeClass(event.target.parentElement.parentElement.querySelector(\".chosen\"), \"chosen\");\n            this.render.addClass(event.target, \"chosen\");\n            this.color = color;\n\n            var updateConfigJSON = localStorage.getItem(\"config\");\n            var updateConfig = JSON.parse(updateConfigJSON);\n            updateConfig.color = this.color;\n            this.updateDB(updateConfig);\n\n            this._appComponent.changeColor(this.color, this.arrayNavs);\n        }\n    }\n\n    loadUser() {\n        this.identity = this._userService.getIdentity();\n        this.token = this._userService.getToken();\n    }\n\n    updateDB(config) {\n        config.nightMode = config.nightMode ? 1 : 0;\n        config.nsfw = config.nsfw ? 1 : 0;\n        config.epilepsy = config.epilepsy ? 1 : 0;\n        config.share = config.share ? 1 : 0;\n        config = JSON.stringify(config);\n\n        this._commonService.setUserConfig(this, this.token, config);\n        var i = 0;\n\n        // this.storageService.watchStorage().subscribe((data: string) => {\n        //     this.color = config.color;\n        // });\n    }\n}\n","module.exports = \".container-ma{ \\r\\n    margin-top: 40px; \\r\\n    margin-bottom: 40px; \\r\\n    border-radius: 5px; \\r\\n    padding-top: 30px;\\r\\n    padding-bottom: 40px;\\r\\n    width: 90%;\\r\\n    min-height: 10vh;\\r\\n}\\r\\n\\r\\n#upload-image{\\r\\n    width: 300px;\\r\\n}\\r\\n\\r\\n.descr-image {\\r\\n    /* max-width: 500px;   */\\r\\n    height: 120px; \\r\\n    width: 100%; \\r\\n    min-width: 200px;\\r\\n}\\r\\n\\r\\n.min-info{\\r\\n    font-size: 12px; \\r\\n    color: green;\\r\\n    margin-top: 20px;  \\r\\n    line-height: 15px;\\r\\n}\\r\\n\\r\\n.title{\\r\\n    width: 270px; display: inline;\\r\\n}\\r\\n\\r\\n.tags{\\r\\n    width: 270px; display: inline;\\r\\n}\\r\\n\\r\\ninput[type=checkbox]{ /* IE */ /* FF */\\r\\n    -webkit-transform: scale(1.5); /* Safari and Chrome */ /* Opera */\\r\\n    transform: scale(1.5);\\r\\n    margin-right: 7px;\\r\\n}\\r\\n\\r\\nlabel{\\r\\n    position: relative;\\r\\n    top: -1px;\\r\\n}\\r\\n\\r\\n.pl-10{\\r\\n    padding-left: 5rem!important;\\r\\n}\\r\\n\\r\\n.example{\\r\\n    color: rgb(1, 199, 182);\\r\\n}\\r\\n\\r\\n.btn-upload{\\r\\n    padding: 0.475rem 1rem;\\r\\n    font-size: 1.5rem;\\r\\n    line-height: 1.7;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy91cGxvYWQtaW1hZ2UvdXBsb2FkLWltYWdlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsb0JBQW9CO0lBQ3BCLFVBQVU7SUFDVixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksd0JBQXdCO0lBQ3hCLGFBQWE7SUFDYixXQUFXO0lBQ1gsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksWUFBWSxFQUFFLGVBQWU7QUFDakM7O0FBRUE7SUFDSSxZQUFZLEVBQUUsZUFBZTtBQUNqQzs7QUFFQSxzQkFDK0IsT0FBTyxFQUNOLE9BQU87SUFDbkMsNkJBQTZCLEVBQUUsc0JBQXNCLEVBQzNCLFVBQVU7SUFDcEMscUJBQXFCO0lBQ3JCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixTQUFTO0FBQ2I7O0FBRUE7SUFDSSw0QkFBNEI7QUFDaEM7O0FBRUE7SUFDSSx1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxzQkFBc0I7SUFDdEIsaUJBQWlCO0lBQ2pCLGdCQUFnQjtBQUNwQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdXBsb2FkLWltYWdlL3VwbG9hZC1pbWFnZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1tYXsgXHJcbiAgICBtYXJnaW4tdG9wOiA0MHB4OyBcclxuICAgIG1hcmdpbi1ib3R0b206IDQwcHg7IFxyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4OyBcclxuICAgIHBhZGRpbmctdG9wOiAzMHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDQwcHg7XHJcbiAgICB3aWR0aDogOTAlO1xyXG4gICAgbWluLWhlaWdodDogMTB2aDtcclxufVxyXG5cclxuI3VwbG9hZC1pbWFnZXtcclxuICAgIHdpZHRoOiAzMDBweDtcclxufVxyXG5cclxuLmRlc2NyLWltYWdlIHtcclxuICAgIC8qIG1heC13aWR0aDogNTAwcHg7ICAgKi9cclxuICAgIGhlaWdodDogMTIwcHg7IFxyXG4gICAgd2lkdGg6IDEwMCU7IFxyXG4gICAgbWluLXdpZHRoOiAyMDBweDtcclxufVxyXG5cclxuLm1pbi1pbmZve1xyXG4gICAgZm9udC1zaXplOiAxMnB4OyBcclxuICAgIGNvbG9yOiBncmVlbjtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7ICBcclxuICAgIGxpbmUtaGVpZ2h0OiAxNXB4O1xyXG59XHJcblxyXG4udGl0bGV7XHJcbiAgICB3aWR0aDogMjcwcHg7IGRpc3BsYXk6IGlubGluZTtcclxufVxyXG5cclxuLnRhZ3N7XHJcbiAgICB3aWR0aDogMjcwcHg7IGRpc3BsYXk6IGlubGluZTtcclxufVxyXG5cclxuaW5wdXRbdHlwZT1jaGVja2JveF17XHJcbiAgICAtbXMtdHJhbnNmb3JtOiBzY2FsZSgxLjUpOyAvKiBJRSAqL1xyXG4gICAgLW1vei10cmFuc2Zvcm06IHNjYWxlKDEuNSk7IC8qIEZGICovXHJcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMS41KTsgLyogU2FmYXJpIGFuZCBDaHJvbWUgKi9cclxuICAgIC1vLXRyYW5zZm9ybTogc2NhbGUoMS41KTsgLyogT3BlcmEgKi9cclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMS41KTtcclxuICAgIG1hcmdpbi1yaWdodDogN3B4O1xyXG59XHJcblxyXG5sYWJlbHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHRvcDogLTFweDtcclxufVxyXG5cclxuLnBsLTEwe1xyXG4gICAgcGFkZGluZy1sZWZ0OiA1cmVtIWltcG9ydGFudDtcclxufVxyXG5cclxuLmV4YW1wbGV7XHJcbiAgICBjb2xvcjogcmdiKDEsIDE5OSwgMTgyKTtcclxufVxyXG5cclxuLmJ0bi11cGxvYWR7XHJcbiAgICBwYWRkaW5nOiAwLjQ3NXJlbSAxcmVtO1xyXG4gICAgZm9udC1zaXplOiAxLjVyZW07XHJcbiAgICBsaW5lLWhlaWdodDogMS43O1xyXG59Il19 */\"","module.exports = \"<div class=\\\"alert alert-success notification\\\" *ngIf=\\\"status == 'success'\\\">\\n  Imagen subida correctamente. Se te redirigirá en seguida.\\n</div>\\n\\n<div class=\\\"alert alert-danger notification\\\" *ngIf=\\\"status == 'error'\\\">\\n  Error al subir la imagen. Inténtalo de nuevo más tarde.\\n</div>\\n\\n<div class=\\\"container-fluid col-md-12 container-ma\\\">\\n  <h1 class=\\\"index-title pl-5 pb-3\\\">{{page_title}}</h1>\\n  <hr class=\\\"index-title pb-3\\\">\\n\\n  <form class=\\\"col-md-12\\\" #uploadImageForm=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit(uploadImageForm)\\\">\\n    <div class=\\\"row mb-5\\\">\\n      <div class=\\\"col-md-5 pl-10\\\">\\n        <img [src]=\\\"_imageURL\\\" class=\\\"mb-3\\\" id=\\\"upload-image\\\">\\n        <div>\\n          <input type=\\\"file\\\" name=\\\"file\\\" id=\\\"path\\\" #file (change)=\\\"fileHandler(file.files)\\\" accept=\\\"image/*\\\" required> <!-- + (change)=\\\"handleFileInput($event.target.files)\\\" -->\\n          <div class=\\\"min-info\\\">\\n            <span id=\\\"image_size\\\">Máximo 2Mb.</span><br>\\n            <span id=\\\"image_res\\\">Debe ser una resolución superior a 400x400</span><br>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"col-md-7\\\">\\n        <div class=\\\"mb-3\\\">\\n          <label for=\\\"name\\\" class=\\\"pr-3\\\">Título de la imagen:</label>\\n          <input type=\\\"text\\\" name=\\\"name\\\" #name=\\\"ngModel\\\" [(ngModel)]=\\\"image.name\\\" placeholder=\\\"Máx 30 caracteres\\\"\\n            maxlength=\\\"30\\\" class=\\\"form-control title\\\" autofocus required>\\n          <small *ngIf=\\\"!name.valid && name.touched\\\" class=\\\"invalid-feedback d-block\\\">\\n           Por favor, introduce un título para la imagen.\\n          </small>\\n        </div>\\n        <div class=\\\"mb-3\\\">\\n          <label for=\\\"description\\\">Descripción</label>\\n          <div>\\n            <textarea name=\\\"description\\\" #description=\\\"ngModel\\\" [(ngModel)]=\\\"image.description\\\" placeholder=\\\"Máx 300 caracteres\\\"\\n              maxlength=\\\"300\\\" class=\\\"form-control descr-image\\\" id=\\\"upload-desc\\\"></textarea>\\n          </div>\\n        </div>\\n        <div class=\\\"mb-3\\\">\\n          <input type=\\\"checkbox\\\" name=\\\"nsfw\\\" #nsfw=\\\"ngModel\\\" [(ngModel)]=\\\"image.nsfw\\\">\\n          <label for=\\\"nsfw\\\">Contenido explícito (+18)</label>\\n        </div>\\n        <div class=\\\"mb-3\\\">\\n          <input type=\\\"checkbox\\\" name=\\\"epilepsy\\\" #epilepsy=\\\"ngModel\\\" [(ngModel)]=\\\"image.epilepsy\\\">\\n          <label for=\\\"epilepsy\\\">Puede contener elementos que causen epilepsia</label>\\n        </div>\\n        <div class=\\\"mb-5\\\">\\n          <label for=\\\"rights\\\" class=\\\"mr-3\\\">Tipos de derechos:</label>\\n          <select name=\\\"rights\\\" #rights=\\\"ngModel\\\" [(ngModel)]=\\\"_rights\\\">\\n            <option value=\\\"totales\\\" ng-selected=\\\"selected\\\">Totales</option>\\n            <option value=\\\"parciales\\\">Parciales</option>\\n            <option value=\\\"ninguno\\\">Ninguno</option>\\n          </select>\\n        </div>\\n        <div>\\n          <label for=\\\"tags\\\" class=\\\"pr-3\\\">Tags:</label>\\n          <input type=\\\"text\\\" name=\\\"tags\\\" #tags=\\\"ngModel\\\" [(ngModel)]=\\\"image.tags\\\" placeholder=\\\"Tags (separadas por comas)\\\"\\n            maxlength=\\\"100\\\" class=\\\"form-control tags\\\">\\n        </div>\\n        <small class=\\\"example ml-5 pl-1\\\">Ejemplo: Nebulilla, pokemon, moon</small>\\n\\n        <!-- <div>\\n          Miniatura: <input type=\\\"file\\\" name=\\\"miniatura\\\" id=\\\"upload-min\\\">\\n        </div>\\n        <div class=\\\"min-info\\\">\\n          <p>**Una miniatura ayuda a cargar la página de forma más rápida. Es la misma imagen en\\n            peor resolución. (No es necesaria)<br><br>\\n            Por favor, no introduzca una imagen diferente a la original, o nos veremos\\n            obligados a borrarla.</p>\\n        </div> -->\\n      </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-12\\\">\\n        <div style=\\\"text-align:center\\\">\\n          <button type=\\\"submit\\\" class=\\\"btn btn-success btn-upload\\\" [disabled]=\\\"uploadImageForm.invalid\\\">Subir imagen</button> <!-- ng-disabled=\\\"message.length > 255\\\" -->\\n        </div>\\n      </div>\\n    </div>\\n  </form>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { UserService } from '../../services/user.service';\nimport { Image } from '../../models/image';\nimport { ImageService } from '../../services/image.service';\nimport { CommonService } from '../../services/common.service';\n\n@Component({\n    selector: 'app-upload-image',\n    templateUrl: './upload-image.component.html',\n    styleUrls: ['./upload-image.component.css'],\n    providers: [UserService, ImageService, CommonService]\n})\nexport class UploadImageComponent implements OnInit {\n    public _rights = \"totales\"; // Valor por defecto select\n    public _imageURL: any = \"assets/img/preview-icon.png\";\n    // public _file; // Archivo subido\n    public page_title: string;\n    public identity;\n    public token;\n    public image: Image;\n    public status;\n    fileToUpload: File = null;\n    public config;\n\n    public imagePath;\n    public message: string;\n    public nightMode;\n    public arrayNightMode;\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _userService: UserService,\n        private _imageService: ImageService,\n        private _commonService: CommonService,\n    ) {\n        this.page_title = \"Subir imagen\";\n        this.identity = this._userService.getIdentity();\n        this.token = this._userService.getToken();\n        this.arrayNightMode = [\"day-container\", \"night-container\", \"day-bg\", \"night-bg\"]\n    }\n\n    ngOnInit() {\n        this.loadUser();\n        this.image = new Image(1, this.identity.sub, '', '', '', '', 0, 0, null, null, '', '', '');\n\n        this.config = JSON.parse(localStorage.getItem(\"config\"));\n        // if (localStorage.getItem(\"config\") != null && localStorage.getItem(\"config\") != \"undefined\") {\n        this.nightMode = JSON.parse(localStorage.getItem(\"config\")).nightMode;\n        this._commonService.changeNightModeAttr(this.nightMode, this.arrayNightMode);\n        // }\n    }\n\n    /*\n    handleFileInput(files: FileList) { // Para ver los atributos del objeto files\n        this.fileToUpload = files.item(0);\n        console.log(this.fileToUpload);\n    }\n    */\n\n    fileHandler(files) {\n        if (files.length === 0)\n            return;\n\n        console.log(\"size:\" + files[0].size); // *Cambiar* -> Poner limitaciones, desactivar el botón si no las cumple\n        // https://stackoverflow.com/questions/29280473/how-can-i-use-angluarjs-to-disable-a-button-if-a-value-is-bigger-than-255\n\n        var mimeType = files[0].type;\n        if (mimeType.match(/image\\/*/) == null) {\n            console.log(\"Sólo se admiten imágenes.\");\n            return;\n        }\n\n        var reader = new FileReader();\n        this.imagePath = files;\n        reader.readAsDataURL(files[0]);\n        reader.onload = (_event) => {\n            this._imageURL = reader.result;\n            this.image.imageToUpload = {\n                filename: this.nameGen(),\n                filetype: files[0].type.replace('image/', ''),\n                value: (<string>reader.result).split(',')[1],\n                base64: this._imageURL\n            }\n        }\n    }\n\n    onSubmit(form) {\n\n        this.image.name =  this._commonService.noscript(this.image.name);\n\n        var nsfw: boolean = Boolean(this.image.nsfw);\n        if (nsfw == true) {\n            this.image.nsfw = 1;\n        }\n        else {\n            this.image.nsfw = 0;\n        }\n        let description = this.image.description;\n\n        if (this.image.description != null) {\n            for (let i = 0; i < description.length; i++) {\n                if (description.charCodeAt(i) == 10) {\n                    description = description.substr(0, i) + '\\\\n' + description.substr(i + 1);\n                }\n            }\n            description = this._commonService.noscript(description);\n        }\n\n        this.image.description = description;\n\n        if (this.image.tags != null) {\n            // this.image.tags = this.image.tags.replace(/ /g, \"\");\n            this.image.tags = this.image.tags.toLowerCase();\n            this.image.tags = this.image.tags.trim();\n            this.image.tags =  this._commonService.noscript(this.image.tags);\n        }\n\n        var epilepsy: boolean = Boolean(this.image.epilepsy);\n        if (epilepsy == true) { // epilepsyFriendy true == puede contener elementos que causen epilepsia.\n            this.image.epilepsy = 1;\n        }\n        else {\n            this.image.epilepsy = 0;\n        }\n\n        this.image.rights = this._rights; // Asignamos el valor de _rights. Si en el modelo html le asignamos \n        //al campo image.rights, carga sin nada seleccionado\n\n        console.log(this._rights);\n        // console.log(this._file);\n        console.log(this.image);\n\n        this._imageService.upload(this.token, this.image).subscribe(\n            response => {\n                if (!response.status || response.status != 'error') {\n                    this.status = \"success\";\n\n                    if (this.config.share == true) {\n                        let estado = false;\n                        let data = {\n                            user_id: response.image.user.id,\n                            image_id: response.image.id,\n                            action: \"share\",\n                            method: \"POST\"\n                        }\n                        console.log(data);\n                        this._imageService.interact(this.token, data, estado).subscribe(\n                            response => {\n                                if (response.status == \"success\") {\n                                    setTimeout(() => { this._router.navigate(['home']); }, 1000);\n                                }\n                                console.log(response);\n                            },\n                            error => {\n                                console.log(error);\n                            }\n                        );\n                    }\n                    form.reset();\n                }\n                else {\n                    this.status = \"error\";\n                    this._commonService.displayNotification(this);\n                }\n            },\n            error => {\n                this.status = \"error\";\n                this._commonService.displayNotification(this);\n            }\n        );\n    }\n\n    nameGen() {\n        let randomName = \"\";\n        for (let i = 0; i < 10; i++) {\n            let letter = Math.random() * 25 + 65;\n            randomName += String.fromCharCode(letter);\n        }\n        randomName += \"-\";\n        for (let i = 0; i < 6; i++) {\n            let number = Math.random() * 9 + 48;\n            randomName += String.fromCharCode(number);\n        }\n        return randomName;\n    }\n\n    loadUser() {\n        this.identity = this._userService.getIdentity();\n        this.token = this._userService.getToken();\n        // console.log(this.token);\n    }\n}\n","module.exports = \".container-ma{ \\r\\n    margin-top: 40px; \\r\\n    margin-bottom: 40px; \\r\\n    border-radius: 5px; \\r\\n    padding-top: 30px;\\r\\n    padding-bottom: 60px;\\r\\n}\\r\\n\\r\\n.btn-red-ma{\\r\\n    background-color: #c9302c; \\r\\n    margin-left: 10px; \\r\\n}\\r\\n\\r\\ninput:not([type=submit]){ \\r\\n    height: 48px; \\r\\n    width: 300px;\\r\\n}\\r\\n\\r\\n.title{\\r\\n    font-size: 40px;\\r\\n}\\r\\n\\r\\nimg{\\r\\n    width: 60px;\\r\\n    margin-right: 15px;\\r\\n}\\r\\n\\r\\n.form-ma{\\r\\n    padding-left: 30px;\\r\\n    padding-right: 30px; \\r\\n}\\r\\n\\r\\nhr{ \\r\\n    display: block; \\r\\n    margin-bottom: 40px; \\r\\n    width: 90%; \\r\\n}\\r\\n\\r\\ninput[type=submit]{\\r\\n    letter-spacing: 0.5px;\\r\\n    font-family: 'Oxygen', sans-serif;\\r\\n}\\r\\n\\r\\n.options{\\r\\n    font-size: 30px;\\r\\n    width: 200px;\\r\\n}\\r\\n\\r\\n.options div{\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n.options div:hover{\\r\\n    background: rgba(0, 0, 0, 0.247);\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.chosen{\\r\\n    background: rgba(129, 129, 129, 0.247);\\r\\n}\\r\\n\\r\\n.user-image{\\r\\n    width: 120px;\\r\\n    height: 120px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\ntextarea{\\r\\n    width: 70%;\\r\\n    height: 120px;\\r\\n    padding: 5px 10px;\\r\\n    resize: none;\\r\\n}\\r\\n\\r\\n.counter{\\r\\n    position: absolute;\\r\\n    bottom: -27px;\\r\\n    right: 32px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy91c2VyLWVkaXQvdXNlci1lZGl0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsb0JBQW9CO0FBQ3hCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksY0FBYztJQUNkLG1CQUFtQjtJQUNuQixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxxQkFBcUI7SUFDckIsaUNBQWlDO0FBQ3JDOztBQUVBO0lBQ0ksZUFBZTtJQUNmLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksZ0NBQWdDO0lBQ2hDLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxzQ0FBc0M7QUFDMUM7O0FBRUE7SUFDSSxZQUFZO0lBQ1osYUFBYTtJQUNiLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxVQUFVO0lBQ1YsYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixXQUFXO0FBQ2YiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3VzZXItZWRpdC91c2VyLWVkaXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXItbWF7IFxyXG4gICAgbWFyZ2luLXRvcDogNDBweDsgXHJcbiAgICBtYXJnaW4tYm90dG9tOiA0MHB4OyBcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDsgXHJcbiAgICBwYWRkaW5nLXRvcDogMzBweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiA2MHB4O1xyXG59XHJcblxyXG4uYnRuLXJlZC1tYXtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNjOTMwMmM7IFxyXG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7IFxyXG59XHJcblxyXG5pbnB1dDpub3QoW3R5cGU9c3VibWl0XSl7IFxyXG4gICAgaGVpZ2h0OiA0OHB4OyBcclxuICAgIHdpZHRoOiAzMDBweDtcclxufVxyXG5cclxuLnRpdGxle1xyXG4gICAgZm9udC1zaXplOiA0MHB4O1xyXG59XHJcblxyXG5pbWd7XHJcbiAgICB3aWR0aDogNjBweDtcclxuICAgIG1hcmdpbi1yaWdodDogMTVweDtcclxufVxyXG5cclxuLmZvcm0tbWF7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDMwcHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAzMHB4OyBcclxufVxyXG5cclxuaHJ7IFxyXG4gICAgZGlzcGxheTogYmxvY2s7IFxyXG4gICAgbWFyZ2luLWJvdHRvbTogNDBweDsgXHJcbiAgICB3aWR0aDogOTAlOyBcclxufVxyXG5cclxuaW5wdXRbdHlwZT1zdWJtaXRde1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xyXG4gICAgZm9udC1mYW1pbHk6ICdPeHlnZW4nLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4ub3B0aW9uc3tcclxuICAgIGZvbnQtc2l6ZTogMzBweDtcclxuICAgIHdpZHRoOiAyMDBweDtcclxufVxyXG5cclxuLm9wdGlvbnMgZGl2e1xyXG4gICAgcGFkZGluZzogMTBweDtcclxufVxyXG5cclxuLm9wdGlvbnMgZGl2OmhvdmVye1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjI0Nyk7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5jaG9zZW57XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDEyOSwgMTI5LCAxMjksIDAuMjQ3KTtcclxufVxyXG5cclxuLnVzZXItaW1hZ2V7XHJcbiAgICB3aWR0aDogMTIwcHg7XHJcbiAgICBoZWlnaHQ6IDEyMHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG50ZXh0YXJlYXtcclxuICAgIHdpZHRoOiA3MCU7XHJcbiAgICBoZWlnaHQ6IDEyMHB4O1xyXG4gICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgICByZXNpemU6IG5vbmU7XHJcbn1cclxuXHJcbi5jb3VudGVye1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYm90dG9tOiAtMjdweDtcclxuICAgIHJpZ2h0OiAzMnB4O1xyXG59Il19 */\"","module.exports = \"<div class=\\\"alert alert-success notification\\\" *ngIf=\\\"status == 'success' && status != 'null'\\\">\\n  Has actualizado tu perfil correctamente.\\n</div>\\n\\n<div class=\\\"alert alert-danger notification\\\" *ngIf=\\\"status == 'error'\\\">\\n  Error al actualizar la información.\\n</div>\\n\\n<div class=\\\"alert alert-danger notification\\\" *ngIf=\\\"imageSize == false\\\">\\n  Error, imagen demasiado grande. Sólo imágenes menores de 1Mb.\\n</div>\\n\\n<div class=\\\"container-fluid col-md-8 container-ma\\\">\\n  <div class=\\\"row form-ma\\\">\\n    <div class=\\\"d-flex justify-content-center\\\">\\n      <div class=\\\"text-center\\\">\\n        <img src=\\\"assets/img/register.gif\\\">\\n        <span class=\\\"align-middle title\\\">{{page_title}}</span>\\n      </div>\\n    </div>\\n  </div>\\n  <hr>\\n\\n  <div class=\\\"row form-ma\\\">\\n    <div class=\\\"col-md-5\\\">\\n      <div class=\\\"options\\\">\\n        <div (click)=\\\"select($event, 1);\\\" class=\\\"chosen\\\">\\n          Básico\\n        </div>\\n        <div (click)=\\\"select($event, 2);\\\">\\n          Avanzado\\n        </div>\\n      </div>\\n    </div>\\n    <form class=\\\"col-md-7\\\" #registerForm=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit(userEditForm)\\\">\\n      <div *ngIf=\\\"element==1\\\">\\n        <div class=\\\"form-group mb-5\\\">\\n          <div class=\\\"row relative\\\">\\n            <input type=\\\"file\\\" name=\\\"file\\\" id=\\\"path\\\" #file (change)=\\\"fileHandler(file.files)\\\" accept=\\\"image/*\\\" style=\\\"display:none\\\">\\n            <img [src]=\\\"_imageURL\\\" id=\\\"upload-image\\\" class=\\\"user-image\\\" (click)=\\\"file.click()\\\">\\n            <textarea name=\\\"description\\\" #description=\\\"ngModel\\\" [(ngModel)]=\\\"user.description\\\" class=\\\"form-control\\\"\\n              placeholder=\\\"Breve descripción sobre ti\\\" maxlength=\\\"300\\\" #counterRef>{{this.identity.description}}</textarea>\\n            <span class=\\\"counter\\\">{{counterRef.value.length}}/300</span>\\n          </div>\\n        </div>\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"name\\\">Nombre:</label>\\n          <input type=\\\"text\\\" name=\\\"name\\\" #name=\\\"ngModel\\\" [(ngModel)]=\\\"user.name\\\" class=\\\"form-control\\\" pattern=\\\"[A-zÁÉÍÓÚÀÈÌÒÙáéíóúàèìòùñ \\\\s]+\\\"\\n            placeholder=\\\"Nombre\\\">\\n\\n          <small *ngIf=\\\"!name.valid && name.touched\\\" class=\\\"invalid-feedback d-block\\\">\\n            Nombre no válido.\\n          </small>\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"nick\\\">Nick:</label>\\n          <input type=\\\"text\\\" name=\\\"nick\\\" #nick=\\\"ngModel\\\" [(ngModel)]=\\\"user.nick\\\" class=\\\"form-control\\\" pattern=\\\"[A-z0-9_-]+\\\"\\n            placeholder=\\\"Nick\\\">\\n\\n          <small *ngIf=\\\"!nick.valid && nick.touched\\\" class=\\\"invalid-feedback d-block\\\">\\n            Nick no válido.\\n          </small>\\n        </div>\\n      </div>\\n      <div *ngIf=\\\"element == 2\\\">\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"previous-password\\\">Contraseña actual</label>\\n          <input type=\\\"password\\\" name=\\\"previous-password\\\" [(ngModel)]=\\\"oldPassword\\\" class=\\\"form-control\\\" pattern=\\\"(?=^.{8,}$)((?=.*\\\\d)|(?=.*\\\\W+))(?![.\\\\n])(?=.*[A-Z])(?=.*[a-z]).*$\\\"\\n            placeholder=\\\"Contraseña\\\">\\n\\n          <small *ngIf=\\\"checker == 0 && newPwd == false\\\" class=\\\"invalid-feedback d-block\\\">\\n            La contraseña introducida no corresponde con la actual.\\n          </small>\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"password\\\">Nueva contraseña</label>\\n          <input type=\\\"password\\\" name=\\\"password\\\" #password=\\\"ngModel\\\" [(ngModel)]=\\\"user.password\\\" class=\\\"form-control\\\"\\n            pattern=\\\"(?=^.{8,}$)((?=.*\\\\d)|(?=.*\\\\W+))(?![.\\\\n])(?=.*[A-Z])(?=.*[a-z]).*$\\\" placeholder=\\\"Contraseña\\\">\\n\\n          <small *ngIf=\\\"!password.valid && password.touched\\\" class=\\\"invalid-feedback d-block\\\">\\n            Contraseña no válida. Mínimo 8 caracteres. Debe contener al menos una letra mayúscula, un número.\\n          </small>\\n          <small *ngIf=\\\"passMatch == false\\\" class=\\\"invalid-feedback d-block\\\">\\n            Las contraseñas no coinciden\\n          </small>\\n        </div>\\n\\n        <div class=\\\"form-group\\\" id=\\\"password_match_check\\\">\\n          <label for=\\\"password_2\\\">Repite la contraseña</label>\\n          <input type=\\\"password\\\" name=\\\"password_2\\\" [(ngModel)]=\\\"confirmPassword\\\" class=\\\"form-control\\\" pattern=\\\"(?=^.{8,}$)((?=.*\\\\d)|(?=.*\\\\W+))(?![.\\\\n])(?=.*[A-Z])(?=.*[a-z]).*$\\\"\\n            placeholder=\\\"Repite la contraseña\\\">\\n        </div>\\n      </div>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col pt-5\\\">\\n          <button type=\\\"submit\\\" class=\\\"btn btn-success\\\">Guardar cambios</button>\\n          <button type=\\\"button\\\" class=\\\"btn btn-danger btn-red-ma\\\" [routerLink]=\\\"['/home']\\\">Cancelar</button>\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</div>\"","import { Component, OnInit, HostListener } from '@angular/core';\nimport { User } from '../../models/user';\nimport { UserService } from '../../services/user.service';\nimport { CommonService } from '../../services/common.service';\nimport { Renderer2 } from '@angular/core';\n\n@Component({\n    selector: 'app-user-edit',\n    templateUrl: './user-edit.component.html',\n    styleUrls: ['./user-edit.component.css'],\n    providers: [UserService]\n})\nexport class UserEditComponent implements OnInit {\n\n    public page_title: string;\n    public user: User;\n    public status: string;\n    public identity;\n    public token;\n    public arrayNightMode;\n    public nightMode;\n    public element: number;\n    public _imageURL: any;\n    fileToUpload: File = null;\n    public imagePath;\n    public imageSize;\n    public oldPassword;\n    public confirmPassword;\n    public pwdChange;\n    public newPwd;\n    public checker;\n    public passMatch;\n\n    constructor(\n        private _userService: UserService,\n        private _commonService: CommonService,\n        private render: Renderer2\n    ) {\n        this.identity = this._userService.getIdentity();\n        this.token = this._userService.getToken();\n        this.page_title = \"Editar perfil\";\n        this.user = new User(this.identity.sub, this.identity.name, this.identity.nick, this.identity.password,\n            this.identity.email, this.identity.description, '', '', '');\n        this.element = 1;\n        this.imageSize = true;\n        this.pwdChange = false;\n        this.newPwd = false;\n    }\n\n    ngOnInit() {\n        this._imageURL = \"assets/profile-picture/\" + this.identity.image\n        this.arrayNightMode = [\"day-container\", \"night-container\", \"day-bg\", \"night-bg\"];\n\n        if (localStorage.getItem(\"config\") != null && localStorage.getItem(\"config\") != \"undefined\") {\n\n            this.nightMode = JSON.parse(localStorage.getItem(\"config\")).nightMode;\n            this._commonService.changeNightModeAttr(this.nightMode, this.arrayNightMode);\n        }\n    }\n\n    fileHandler(files) {\n        if (files.length === 0)\n            return;\n\n        if (files[0].size > 1232896) {\n            this.imageSize = false;\n        }\n        else {\n            this.imageSize = true;\n        }\n        console.log(\"size:\" + files[0].size); // *Cambiar* -> Poner limitaciones, desactivar el botón si no las cumple\n        // https://stackoverflow.com/questions/29280473/how-can-i-use-angluarjs-to-disable-a-button-if-a-value-is-bigger-than-255\n\n        var mimeType = files[0].type;\n        if (mimeType.match(/image\\/*/) == null) {\n            console.log(\"Sólo se admiten imágenes.\");\n            return;\n        }\n\n        var reader = new FileReader();\n        this.imagePath = files;\n        reader.readAsDataURL(files[0]);\n        reader.onload = (_event) => {\n            this._imageURL = reader.result;\n            this.user.imageToUpload = {\n                filename: this.nameGen(),\n                filetype: files[0].type.replace('image/', ''),\n                value: (<string>reader.result).split(',')[1],\n                base64: this._imageURL\n            }\n        }\n    }\n\n    onSubmit() {\n        this.pwdChange = false;\n\n        if (this.user.description != \"\" && this.user.description != null) {\n            console.log(this.user.description);\n            this.user.description = this._commonService.noscript(this.user.description);\n        }\n\n        if (this.user.password != null || this.confirmPassword != null || this.oldPassword != null) {\n            this.pwdChange = true;\n\n            let oldPass = {\n                oldPass: this.oldPassword\n            }\n\n            if (this.user.password != null && this.confirmPassword != null && this.oldPassword != null) {\n                this.passMatch = true;\n                if (this.user.password == this.confirmPassword) {\n                    this._userService.checkPass(this.token, oldPass).subscribe(\n                        response => {\n                            if (response.status == \"success\") {\n                                this.changeUserSettings(this);\n                            }\n                            else {\n                                this.status = \"error\";\n                                this._commonService.displayNotification(this);\n                                this.checker = 0;\n                            }\n                        },\n                        error => { }\n                    );\n                }\n                else {\n                    this.passMatch = false;\n                }\n            }\n        }\n        else {\n            this.pwdChange = false;\n        }\n        if (this.imageSize == true && (this.pwdChange == false || this.newPwd == true)) {\n            this.changeUserSettings(this);\n        }\n    }\n\n    changeUserSettings(e){\n            this._userService.update(this.token, this.user).subscribe(\n                response => {\n                    if (response && response.status == \"success\") {\n                        this.status = \"success\";\n                        this._commonService.displayNotification(e);\n\n                        this.identity = response.user;\n                        this.user = response.user;\n                        console.log(this.token);\n                        console.log(response);\n                        this.pwdChange = true;\n\n                        localStorage.setItem('identity', JSON.stringify(this.identity));\n\n                        if (this.oldPassword != null) {\n                            this.oldPassword = null;\n                            this.confirmPassword = null;\n                            this.user.password = null;\n                        }\n\n                    }\n                    else {\n                        this.status = \"error\";\n                        this._commonService.displayNotification(e);\n                    }\n                    console.log(response);\n\n                },\n                error => {\n                    this.status = \"error\";\n                    this._commonService.displayNotification(e);\n                    console.log(error);\n                }\n            );\n    }\n\n\n    select(event, element) {\n        this.render.removeClass(document.querySelector(\".chosen\"), \"chosen\");\n        this.render.addClass(event.target, \"chosen\");\n        this.element = element;\n    }\n\n\n    nameGen() {\n        let randomName = \"\";\n        for (let i = 0; i < 10; i++) {\n            let letter = Math.random() * 25 + 65;\n            randomName += String.fromCharCode(letter);\n        }\n        randomName += \"-\";\n        for (let i = 0; i < 6; i++) {\n            let number = Math.random() * 9 + 48;\n            randomName += String.fromCharCode(number);\n        }\n        return randomName;\n    }\n}","export class Image{\r\n    constructor(\r\n        public id: number,\r\n        public user_id: number,\r\n        public url: string,\r\n        public name: string,\r\n        public description: string,\r\n        public status: string,\r\n        public nsfw: number,\r\n        public epilepsy: number,\r\n        public createdAt: any,\r\n        public updatedAt: any,\r\n        public rights: string,\r\n        public tags: string,\r\n        public imageToUpload: any\r\n    ){}\r\n}","export class User{\r\n    constructor(\r\n        public id: number,\r\n        public name: string,\r\n        public nick: string,\r\n        public password: string,\r\n        public email: string,\r\n        public description: string,\r\n        public role: string,\r\n        public createdAt: string,\r\n        public imageToUpload: any   // Antes userImage\r\n    ){}\r\n}","import { Component, Injectable, Renderer2 } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { User } from '../models/user';\r\nimport { global } from './global';\r\nimport { UserService } from '../services/user.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Injectable()\r\nexport class CommonService {\r\n\r\n    public url: string;\r\n    public identity;\r\n    public token;\r\n    public confError;\r\n    public setCError;\r\n\r\n    constructor(\r\n        public _http: HttpClient,\r\n        private _userService: UserService,\r\n        private _router: Router,\r\n        private render: Renderer2\r\n    ) {\r\n        this.url = global.url;\r\n        this.confError = 0;\r\n        this.setCError = 0;\r\n    }\r\n\r\n    getUserConfig(that, token) { // Coge el objeto de getConfig (petición AJAX de user.service) y lo almacena.\r\n        if (token != null) {\r\n            that._userService.getConfig(token).subscribe(\r\n                response => {\r\n                    if (!response.status || response.status != 'error') {\r\n                        var config;\r\n                        if (response.config != null) {\r\n                            config = {\r\n                                nightMode: response.config.nightMode,\r\n                                nsfw: response.config.nsfw,\r\n                                epilepsy: response.config.epilepsy,\r\n                                lang: response.config.lang,\r\n                                color: response.config.color,\r\n                                share: response.config.share,\r\n                                feed: response.config.feed\r\n                            }\r\n                        }\r\n                        else {\r\n                            config = {\r\n                                nightMode: 0,\r\n                                nsfw: 0,\r\n                                epilepsy: 0,\r\n                                color: \"blue\",\r\n                                lang: \"spanish\",\r\n                                share: 1,\r\n                                feed: 15\r\n                            };\r\n                        }\r\n                        let configJSON = JSON.stringify(config);\r\n                        localStorage.setItem('config', configJSON);\r\n                    }\r\n                    else {\r\n                    }\r\n                },\r\n                error => {\r\n                    /*\r\n                    Falla pero hace las cosas (?)\r\n                    */\r\n                    console.log(\"getConfig()\");\r\n                    console.log(\"Ero...\" + \" attempt: \" + this.confError);\r\n                    if (this.confError < 5) {\r\n                        this.getUserConfig(that, token);\r\n                        this.confError++;\r\n                    }\r\n\r\n                }\r\n            );\r\n        }\r\n        else {\r\n            let config = {\r\n                nightMode: 0,\r\n                nsfw: 0,\r\n                epilepsy: 0,\r\n                color: \"blue\",\r\n                lang: \"spanish\",\r\n                share: 1,\r\n                feed: 15\r\n            }\r\n\r\n            let configJSON = JSON.stringify(config);\r\n            localStorage.setItem('config', configJSON);\r\n        }\r\n    }\r\n\r\n    setUserConfig(that, token, data) { // Coge el objeto de getConfig (petición AJAX de user.service) y lo almacena.\r\n        that._userService.setConfig(token, data).subscribe(\r\n            response => {\r\n                if (!response.status || response.status != 'error') {\r\n                    console.log(response);\r\n                    let config = {\r\n                        nightMode: response.config.nightMode,\r\n                        nsfw: response.config.nsfw,\r\n                        epilepsy: response.config.epilepsy,\r\n                        lang: response.config.lang,\r\n                        color: response.config.color,\r\n                        share: response.config.share,\r\n                        feed: response.config.feed\r\n                    }\r\n\r\n                    let configJSON = JSON.stringify(config);\r\n\r\n                    localStorage.setItem('config', configJSON);\r\n                    this.getUserConfig(this, token);\r\n                }\r\n                else {\r\n                }\r\n                // console.log(response);\r\n            },\r\n            error => {\r\n                console.log(\"setConfig()\");\r\n                console.log(\"Ero...\" + \" attempt: \" + this.setCError);\r\n                if (this.setCError < 5) {\r\n                    this.setUserConfig(that, token, data);\r\n                    this.setCError++;\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n\r\n\r\n    changeNightModeAttr(nightMode, array) {\r\n\r\n        let container = nightMode == true ? \"night-container\" : \"day-container\";\r\n        let background = nightMode == true ? \"night-bg\" : \"day-bg\";\r\n\r\n        if (nightMode == true) {\r\n            this.render.removeClass(document.querySelector(\".container-ma\"), array[0]);\r\n            this.render.addClass(document.querySelector(\".container-ma\"), array[1]);\r\n            this.render.removeClass(document.body, array[2]);\r\n            this.render.addClass(document.body, array[3]);\r\n            this.render.removeClass(document.querySelector(\".navbar\"), \"navbar-day\");\r\n            this.render.addClass(document.querySelector(\".navbar\"), \"navbar-night\");\r\n        }\r\n        else {\r\n            this.render.addClass(document.querySelector(\".container-ma\"), array[0]);\r\n            this.render.removeClass(document.querySelector(\".container-ma\"), array[1]);\r\n            this.render.addClass(document.body, array[2]);\r\n            this.render.removeClass(document.body, array[3]);\r\n            this.render.removeClass(document.querySelector(\".navbar\"), \"navbar-night\");\r\n            this.render.addClass(document.querySelector(\".navbar\"), \"navbar-day\");\r\n        }\r\n    }\r\n\r\n    noscript(string) {\r\n        console.log(string);\r\n        string = string.replace(/\\<script\\>/g, \"Not today...\"); // Evitar que se metan scripts\r\n        string = string.replace(/\\<\\/script\\>/g, \"... but good try.\"); // en la db\r\n        string = string.replace(/\\</g, \"(\");\r\n        string = string.replace(/\\>/g, \")\");\r\n\r\n        return string;\r\n    }\r\n\r\n    formatText(str) {\r\n\r\n        str = str.replace(/\\\\n/g, \"<br>\");\r\n        let search = str.search(/@/g);\r\n        let at, end;\r\n        let found = false;\r\n        let foundAt = 999;\r\n        let delimiter = [\" \", \".\", \",\", \":\", \";\"];\r\n\r\n        if (search != -1) {\r\n\r\n            for (let j = 0; j < delimiter.length; j++) {\r\n                end = str.indexOf(delimiter[j], search);\r\n                if (end < foundAt && end != -1) {\r\n                    foundAt = end;\r\n                }\r\n            }\r\n            end = foundAt;\r\n            if (end != 999) {\r\n                found = true;\r\n            }\r\n\r\n            if (found == true) {\r\n                at = str.slice(search, end);\r\n                str = str.replace(at, \"<span class='user-at' (click)='this._commonService.redirectToProfile(at)'>\" + at + \"</span>\");\r\n            }\r\n\r\n        }\r\n\r\n        return str;\r\n    }\r\n\r\n    redirectToProfile(at) {\r\n        this._router.navigateByUrl(\"/profile\" + at)\r\n\r\n    }\r\n\r\n    dateFormat(that) {\r\n\r\n        var str = that;\r\n\r\n        if (Date.parse(that) > 0) {\r\n\r\n            var mydate = new Date(that);\r\n\r\n            var month = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\",\r\n                \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"][mydate.getMonth()];\r\n            str = mydate.getDate() + \" de \" + month + \" del \" + mydate.getFullYear() + \" a las \" + mydate.getHours() + \":\" + mydate.getMinutes();\r\n        }\r\n        return str;\r\n    }\r\n\r\n    displayNotification(e){\r\n        setTimeout(function(){\r\n            e.status = \"\";\r\n        }, 3000);\r\n    }\r\n\r\n    loadUser() {\r\n        this.identity = this._userService.getIdentity();\r\n        this.token = this._userService.getToken();\r\n        // console.log(this.token);\r\n    }\r\n}\r\n\r\n/*\r\n\r\n\r\n    formatText(str) {\r\n\r\n        str = str.replace(/\\\\n/g, \"<br>\");\r\n        // let search = str.search(/@/g);\r\n        let search;\r\n        let found;\r\n        let delimiter = [\" \", \".\", \",\", \":\", \";\"];\r\n\r\n        for (let i = 0; i < str.length; i++) {\r\n            found = false;\r\n            search = str.charAt(i);\r\n            if (search == \"@\") {\r\n                found = true;\r\n                let at, end, foundAt = 999;\r\n\r\n                for (let j = 0; j < delimiter.length; j++) {\r\n                    end = str.indexOf(delimiter[j], i);\r\n                    if (end < foundAt) {\r\n                        foundAt = end;\r\n                    }\r\n                }\r\n\r\n                if (end == -1) {\r\n                    end = str.length;\r\n                }\r\n                at = str.slice(i, end);\r\n                str = str.replace(at, \"<span class='user-at' [href]=['/profile',\" + at + \"]>\" + at + \"</span>\");\r\n                i = end + 1;\r\n            }\r\n        }\r\n\r\n        return str;\r\n    }\r\n\r\n*/","export var global = {\r\n    url: 'http://moonart-api.io/'\r\n}","// Comprobar si el user está logueado. Si no, no permitir que acceda a las páginas donde se requiera estarlo. (Mi perfil, cerrar sesión...)\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { Router, CanActivate } from '@angular/router';\r\nimport { UserService } from './user.service';\r\n\r\n@Injectable()\r\nexport class IdentityGuard implements CanActivate {\r\n\r\n    constructor(\r\n        private _router: Router,\r\n        private _userService: UserService\r\n    ) { }\r\n\r\n    canActivate() {\r\n        let identity = this._userService.getIdentity();\r\n\r\n        if (identity && identity.nick != 'guest') {\r\n            return true;\r\n        }\r\n        else {\r\n            this._router.navigate(['/login']);\r\n            return false;\r\n        }\r\n    }\r\n}","// Comprobar si el user está logueado. Si sí, no permitir que acceda a las páginas donde se requiera no estarlo. (Login, register...)\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { Router, CanActivate } from '@angular/router';\r\nimport { UserService } from './user.service';\r\n\r\n@Injectable()\r\nexport class Identity2Guard implements CanActivate{\r\n    \r\n    constructor(\r\n        private _router: Router,\r\n        private _userService: UserService\r\n    ){}\r\n    \r\n    canActivate(){\r\n        let identity = this._userService.getIdentity();\r\n\r\n        if (identity && identity.nick != 'guest'){ // O null (no accedido) o Object (accedido)\r\n            this._router.navigate(['/home']);\r\n            return false;\r\n        }\r\n        else{\r\n            return true; // Si devuelve true, va a la localización a la que se está intentando acceder.\r\n        }\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Image } from '../models/image';\r\nimport { global } from './global';\r\n\r\n@Injectable()\r\nexport class ImageService {\r\n\r\n    public url: string;\r\n\r\n    constructor(\r\n        public _http: HttpClient\r\n    ) {\r\n        this.url = global.url;\r\n    }\r\n\r\n    upload(token, image): Observable<any> {\r\n\r\n        let json = JSON.stringify(image);\r\n        let params = 'json=' + json;\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n        // .set('Access-Control-Allow-Origin', '*')\r\n        // .set('Access-Control-Request-Headers', '*');\r\n\r\n        return this._http.post(this.url + 'image/new', params, { headers: headers });\r\n    }\r\n\r\n    getImages(token): Observable<any> {\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        return this._http.get(this.url + 'image/list', { headers: headers });\r\n    }\r\n\r\n    getAllImages(page, nsfw, epilepsy, user = \"\", isProfileUser = false): Observable<any> {\r\n\r\n        if (!page) {\r\n            page = 1;\r\n        }\r\n        return this._http.get(this.url + 'image/list/all?page=' + page + '&nsfw=' + nsfw + '&epilepsy=' + epilepsy \r\n            + '&user=' + user + '&isProfileUser=' + isProfileUser);\r\n    }\r\n\r\n    getSearchImages(page, nsfw, epilepsy, querySelector, search): Observable<any> {\r\n\r\n        if (!page) {\r\n            page = 1;\r\n        }\r\n        return this._http.get(this.url + 'image/search?page=' + page + '&nsfw=' + nsfw + '&epilepsy=' + epilepsy\r\n            + '&querySelector=' + querySelector + '&search=' + search);\r\n    }\r\n\r\n    getProfileImages(page, nsfw, epilepsy, user_id, interaction, user = \"\"): Observable<any> {\r\n\r\n        if (!page) {\r\n            page = 1;\r\n        }\r\n        return this._http.get(this.url + 'image/faved?page=' + page + '&nsfw=' + nsfw + '&epilepsy=' + epilepsy\r\n            + '&user_id=' + user_id + '&interaction=' + interaction + '&user=' + user);\r\n    }\r\n\r\n    getImage(id): Observable<any> {\r\n\r\n        return this._http.get(this.url + 'image/details?id=' + id);\r\n    }\r\n\r\n    update(token, image, id): Observable<any> {\r\n\r\n        let json = JSON.stringify(image);\r\n        let params = 'json=' + json;\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        return this._http.put(this.url + 'image/update-image/' + id, params, { headers: headers });\r\n    }\r\n\r\n    delete(token, id): Observable<any> {\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        return this._http.delete(this.url + 'image/remove/' + id, { headers: headers });\r\n    }\r\n\r\n    hide(token, id, action): Observable<any> {\r\n\r\n        let params = 'action=' + action;\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        return this._http.put(this.url + 'image/hide/' + id, params, { headers: headers }); // Si no hay 3 args, headers se pasa como parámentro\r\n    }\r\n\r\n    checkInteractions(token, data): Observable<any> {\r\n\r\n        let json = JSON.stringify(data);\r\n        let params = 'json=' + json;\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        return this._http.post(this.url + 'check', params, { headers: headers });\r\n    }\r\n\r\n    interact(token, data, status): Observable<any> {\r\n        let json = JSON.stringify(data);\r\n        let params = 'json=' + json;\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        if (status == true) {\r\n            return this._http.put(this.url + 'update_interaction', params, { headers: headers });\r\n        }\r\n        else {\r\n            return this._http.post(this.url + 'create_interaction', params, { headers: headers });\r\n        }\r\n    }\r\n\r\n    getComments(imageId): Observable<any> {\r\n\r\n        return this._http.get(this.url + 'image/get-comments?imageId=' + imageId);\r\n    }\r\n\r\n    addComment(token, json): Observable<any> {\r\n        let params = 'json=' + json;\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        return this._http.post(this.url + 'image/add-comment', params, { headers: headers });\r\n    }\r\n\r\n    deleteComment(token, id): Observable<any> {\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        return this._http.delete(this.url + 'image/comment/remove/' + id, { headers: headers });\r\n    }\r\n\r\n    getShared(token, index, quantity, nsfw, epilepsy): Observable<any> {\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        return this._http.get(this.url + 'user/feed?index=' + index + \"&qt=\" + quantity + \"&nsfw=\" + nsfw \r\n            + \"&epilepsy=\" + epilepsy, { headers: headers });\r\n    }\r\n\r\n    getInteractionsCount(id): Observable<any> {\r\n\r\n        return this._http.get(this.url + 'image/interactions?id=' + id);\r\n    }\r\n\r\n\r\n    // Funciones comunes a varios componentes\r\n\r\n    showAllImages(that, page, nsfw, epilepsy, user = null, isProfileUser = false) {\r\n        this.getAllImages(page, nsfw, epilepsy, user, isProfileUser).subscribe(\r\n            response => {\r\n                console.log(response);\r\n                that.images = response.images;\r\n\r\n                var number_pages = [];\r\n                for (let i = 1; i <= response.total_pages; i++) {\r\n                    number_pages.push(i);\r\n                }\r\n\r\n                that.number_pages = number_pages;\r\n                that.total_pages = response.total_pages;\r\n                if (page >= 2) {\r\n                    that.prev_page = page - 1;\r\n                }\r\n                else {\r\n                    that.prev_page = 1;\r\n                }\r\n\r\n                if (page < response.total_pages) {\r\n                    that.next_page = page + 1;\r\n                }\r\n                else {\r\n                    that.next_page = response.total_pages;\r\n                }\r\n\r\n                this.getInteractions(that);\r\n            },\r\n            error => {\r\n                console.log(\"getAllImages()\");\r\n                console.log(\"Ero...\" + \" attempt: \" + that.imagError);\r\n                if (that.imagError < 5) {\r\n                    this.showAllImages(that, page, nsfw, epilepsy, user = null);\r\n                    that.imagError++;\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n\r\n    showImageSearch(that, page, nsfw, epilepsy, querySelector, search) {\r\n        this.getSearchImages(page, nsfw, epilepsy, querySelector, search).subscribe(\r\n            response => {\r\n                console.log(response);\r\n                that.images = response.images;\r\n\r\n                var number_pages = [];\r\n                for (let i = 1; i <= response.total_pages; i++) {\r\n                    number_pages.push(i);\r\n                }\r\n\r\n                that.number_pages = number_pages;\r\n                that.total_pages = response.total_pages;\r\n                if (page >= 2) {\r\n                    that.prev_page = page - 1;\r\n                }\r\n                else {\r\n                    that.prev_page = 1;\r\n                }\r\n\r\n                if (page < response.total_pages) {\r\n                    that.next_page = page + 1;\r\n                }\r\n                else {\r\n                    that.next_page = response.total_pages;\r\n                }\r\n\r\n                this.getInteractions(that);\r\n            },\r\n            error => {\r\n                console.log(\"getSearchImages()\");\r\n                console.log(\"Ero...\" + \" attempt: \" + that.searError);\r\n                if (that.searError < 5) {\r\n                    this.showImageSearch(that, page, nsfw, epilepsy, querySelector, search);\r\n                    that.searError++;\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n\r\n    showProfileInteractions(that, page, nsfw, epilepsy, user_id, interaction, user = null) {\r\n\r\n        this.getProfileImages(page, nsfw, epilepsy, user_id, interaction, user = \"\").subscribe(\r\n            response => {\r\n                that.images = response.images;\r\n                console.log(response);\r\n\r\n                var number_pages = [];\r\n                for (let i = 1; i <= response.total_pages; i++) {\r\n                    number_pages.push(i);\r\n                }\r\n\r\n                that.number_pages = number_pages;\r\n                that.total_pages = response.total_pages;\r\n                if (page >= 2) {\r\n                    that.prev_page = page - 1;\r\n                }\r\n                else {\r\n                    that.prev_page = 1;\r\n                }\r\n\r\n                if (page < response.total_pages) {\r\n                    that.next_page = page + 1;\r\n                }\r\n                else {\r\n                    that.next_page = response.total_pages;\r\n                }\r\n                this.getInteractions(that);\r\n            },\r\n            error => {\r\n                console.log(error);\r\n            }\r\n        );\r\n    }\r\n\r\n    getInteractions(that, unique = null) {  // Llamado por showAllImages, showAllFavs... Le pasamos that, que es this del elemento que lo llama \r\n        // (home.component, images.component...) Se encarga de\r\n        if (that.identity != null && that.identity.nick != 'guest') {\r\n            var less = false;\r\n\r\n            if (unique == true) {\r\n                that.images.length = 1;\r\n            }\r\n\r\n            for (let i = 0; i < that.images.length; i++) {\r\n\r\n                var checkLoader = function checkLoader(those, i) {\r\n                    var imageId, selector;\r\n\r\n                    if (unique == true) {\r\n                        imageId = that.images.id;\r\n                        selector = \".image-actions\";\r\n                    }\r\n                    else {\r\n                        imageId = that.images[i][0].id;\r\n                        selector = \"#id-\" + imageId;\r\n                    }\r\n\r\n                    var data = {\r\n                        user_id: that.identity.sub,\r\n                        image_id: imageId,\r\n                        action: \"\",\r\n                        method: \"\"\r\n                    };\r\n\r\n                    that._imageService.checkInteractions(that.token, data).subscribe(\r\n                        response => {\r\n\r\n                            if (document.querySelector(selector)) {\r\n\r\n                                if (response.liked) {\r\n                                    that.render.addClass(document.querySelector(selector).parentElement\r\n                                        .parentElement.querySelector(\".image-heart\"), \"image-liked\");\r\n                                }\r\n                                if (response.faved) {\r\n                                    that.render.addClass(document.querySelector(selector).parentElement\r\n                                        .parentElement.querySelector(\".image-star\"), \"image-faved\");\r\n                                }\r\n                                if (response.shared) {\r\n                                    that.render.addClass(document.querySelector(selector).parentElement\r\n                                        .parentElement.querySelector(\".image-arrows\"), \"image-shared\");\r\n                                }\r\n\r\n                                var hasBeen = false;\r\n\r\n                                if (response.liked != null || response.faved != null || response.shared != null) {\r\n                                    hasBeen = true;\r\n                                }\r\n\r\n                                else {\r\n                                    hasBeen = false;\r\n                                }\r\n\r\n                                if ((response.liked == null || response.faved == null || response.shared == null) && hasBeen == true) {\r\n                                    checkLoader(that, i);\r\n                                }\r\n                            }\r\n\r\n                        },\r\n                        error => {\r\n                            checkLoader(that, i);\r\n                        }\r\n                    );\r\n                }\r\n                checkLoader(this, i);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    saveInteraction(event, that, action, unique = null) { // unique es un parámetro opcional, que en caso de true, indica que es imagen única.\r\n\r\n        var id;\r\n        var estado;\r\n        var selectedImage;\r\n\r\n        if (unique == true) {\r\n            selectedImage = document.querySelector(\".image\");\r\n            selectedImage = selectedImage.src;\r\n            id = that.imageId;\r\n\r\n            that.updateCounter(event, that, action);\r\n\r\n        }\r\n        else {\r\n            selectedImage = event.target.parentElement.parentElement.querySelector(\".image-element\").src;\r\n            selectedImage = selectedImage.split(\"/\");\r\n            selectedImage = selectedImage[selectedImage.length - 1];\r\n\r\n            for (let i = 0; i < that.images.length; i++) {\r\n\r\n                if (that.images[i][0].url == selectedImage) {\r\n                    id = that.images[i][0].id;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        var data = {\r\n            user_id: that.identity.sub,\r\n            image_id: id,\r\n            action: \"\",\r\n            method: \"\"\r\n        };\r\n\r\n        that._imageService.checkInteractions(that.token, data).subscribe(\r\n            response => {\r\n                if (!response.status || response.status != 'error') {\r\n                    estado = response;\r\n                    // console.log(response.isset_interactions);\r\n                    data.action = action;\r\n                    if (response.found == true) {\r\n                        data.method = \"PUT\";\r\n                    }\r\n                    else {\r\n                        data.method = \"POST\";\r\n                    }\r\n\r\n                    that._imageService.interact(that.token, data, estado).subscribe(\r\n                        response => {\r\n                            if (response.params.liked) {\r\n                                that.render.addClass(event.target.parentElement.querySelector(\".image-heart\"), \"image-liked\");\r\n                            }\r\n                            else {\r\n                                that.render.removeClass(event.target.parentElement.querySelector(\".image-heart\"), \"image-liked\");\r\n                            }\r\n\r\n                            if (response.params.faved) {\r\n                                that.render.addClass(event.target.parentElement.querySelector(\".image-star\"), \"image-faved\");\r\n                            }\r\n                            else {\r\n                                that.render.removeClass(event.target.parentElement.querySelector(\".image-star\"), \"image-faved\");\r\n                            }\r\n\r\n                            if (response.params.shared) {\r\n                                that.render.addClass(event.target.parentElement.querySelector(\".image-arrows\"), \"image-shared\");\r\n                            }\r\n                            else {\r\n                                that.render.removeClass(event.target.parentElement.querySelector(\".image-arrows\"), \"image-shared\");\r\n                            }\r\n                        },\r\n                        error => {\r\n                            console.log(error);\r\n                        }\r\n                    );\r\n                }\r\n                else {\r\n                }\r\n            },\r\n            error => {\r\n            }\r\n        );\r\n    }\r\n\r\n\r\n    // Métodos para los hover en las imágenes, para que los padres e hijos tengan los estilos convenientes.\r\n\r\n    in(event, that, value) {\r\n        that.render.addClass(event.target.parentElement.parentElement.querySelector(\".image-element\"), \"hovered-children\");\r\n        that.render.addClass(event.target.parentElement.parentElement.parentElement.querySelector(\".image-parent\"), \"hovered-parent\");\r\n\r\n        if (value == 1) {\r\n            that.render.addClass(event.target.parentElement.parentElement.querySelector(\".like\"), \"like-hovered\");\r\n        }\r\n        else if (value == 2) {\r\n            that.render.addClass(event.target.parentElement.parentElement.querySelector(\".fav\"), \"fav-hovered\");\r\n        }\r\n        else if (value == 3) {\r\n            that.render.addClass(event.target.parentElement.parentElement.querySelector(\".share\"), \"share-hovered\");\r\n        }\r\n    }\r\n\r\n    out(event, that, value) {\r\n        that.render.removeClass(event.target.parentElement.parentElement.querySelector(\".image-element\"), \"hovered-children\");\r\n        that.render.removeClass(event.target.parentElement.parentElement.parentElement.querySelector(\".image-parent\"), \"hovered-parent\");\r\n\r\n        if (value == 1) {\r\n            that.render.removeClass(event.target.parentElement.parentElement.querySelector(\".like\"), \"like-hovered\");\r\n        }\r\n        else if (value == 2) {\r\n            that.render.removeClass(event.target.parentElement.parentElement.querySelector(\".fav\"), \"fav-hovered\");\r\n        }\r\n        else if (value == 3) {\r\n            that.render.removeClass(event.target.parentElement.parentElement.querySelector(\".share\"), \"share-hovered\");\r\n        }\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { User } from '../models/user';\r\nimport { global } from './global';\r\n\r\n@Injectable()\r\nexport class UserService {\r\n\r\n    public url: string;\r\n    public identity;\r\n    public token;\r\n    public nick;\r\n    public role;\r\n    public isFwError;\r\n\r\n    constructor(\r\n        public _http: HttpClient\r\n    ) {\r\n        this.url = global.url;\r\n        this.isFwError = 0;\r\n    }\r\n\r\n    prueba() {\r\n        return 'Hey';\r\n    }\r\n\r\n    register(user): Observable<any> {\r\n\r\n        let json = JSON.stringify(user);\r\n        let params = 'json=' + json;\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded');\r\n        return this._http.post(this.url + 'register', params, { headers: headers });\r\n    }\r\n\r\n    signup(user, getToken = null): Observable<any> {\r\n\r\n        if (getToken != null) {\r\n            user.getToken = 'true';\r\n        }\r\n\r\n        let json = JSON.stringify(user);\r\n        let params = 'json=' + json;\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded');\r\n        return this._http.post(this.url + 'login', params, { headers: headers });\r\n    }\r\n\r\n    update(token, user): Observable<any> {\r\n\r\n        let json = JSON.stringify(user);\r\n        let params = 'json=' + json;\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        return this._http.put(this.url + 'user/update_user', params, { headers: headers });\r\n    }\r\n\r\n    checkPass(token, password): Observable<any> {\r\n\r\n        let json = JSON.stringify(password);\r\n        let params = 'json=' + json;\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token); \r\n            \r\n        return this._http.post(this.url + 'user/check_password', params, { headers: headers });\r\n    }\r\n\r\n    getIdentity() {\r\n\r\n        let identity = JSON.parse(localStorage.getItem('identity'));\r\n\r\n        if (identity && identity != undefined) {\r\n            this.identity = identity;\r\n            this.nick = identity.nick;\r\n            this.role = identity.role;\r\n        }\r\n        else {\r\n            this.identity = {\r\n                nick: \"guest\",\r\n                role: \"role_guest\"\r\n            };\r\n        }\r\n        return this.identity;\r\n    }\r\n\r\n    getToken() {\r\n\r\n        let token = localStorage.getItem('token');\r\n\r\n        if (token && token != undefined) {\r\n            this.token = token;\r\n        }\r\n        else {\r\n            this.token = null;\r\n        }\r\n        return this.token;\r\n    }\r\n\r\n    setConfig(token, data): Observable<any> {\r\n\r\n        let params = 'json=' + data;\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        return this._http.put(this.url + 'user/update_config', params, { headers: headers });\r\n    }\r\n\r\n    getConfig(token): Observable<any> {\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        return this._http.get(this.url + 'user/get_config', { headers: headers });\r\n    }\r\n\r\n    getUserByNick(nick): Observable<any> {\r\n\r\n        return this._http.get(this.url + 'user/get_user?nick=' + nick);\r\n    }\r\n\r\n    userInfo(that, nick) {\r\n\r\n    }\r\n\r\n    getIsFollowing(token, nick): Observable<any> {\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        return this._http.get(this.url + 'user/get-follow?nick=' + nick, { headers: headers });\r\n    }\r\n\r\n\r\n    follow(token, userToFollow): Observable<any> {\r\n\r\n        let params = 'nick=' + userToFollow;\r\n\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded')\r\n            .set('Authorization', token);\r\n\r\n        return this._http.post(this.url + 'user/follow-unfollow', params, { headers: headers });\r\n    }\r\n\r\n    getUserFollows(id): Observable<any> {\r\n\r\n        return this._http.get(this.url + 'user/get-user-follows?id=' + id);\r\n    }\r\n\r\n    checkFollowing(that, name = false, userclass = \"\") {\r\n\r\n        let unique = true;\r\n        let selector;\r\n\r\n        if (name != false) {\r\n            that.username = name;\r\n            unique = false;\r\n            selector = \"button[name=\" + userclass + \"]\";\r\n        }\r\n\r\n        if (that.username != that.identity.nick && that.identity.nick != 'guest') {\r\n            that.isOwner = false;\r\n\r\n            that._userService.getIsFollowing(that.token, that.username).subscribe(\r\n                response => {\r\n                    if (response.status == \"success\") {\r\n\r\n                        that.isFollowing = response.following;\r\n\r\n                        if (that.isFollowing == true) {\r\n                            if (unique == true) {\r\n                                that.render.removeClass(document.querySelector(\".button-follow\"), \"no-follow\");\r\n                                that.render.addClass(document.querySelector(\".button-follow\"), \"follow\");\r\n                            }\r\n                            else {\r\n                                let query = document.querySelectorAll(selector);\r\n\r\n                                for (let i = 0; i < query.length; i++) {\r\n                                    that.render.removeClass(query[i], \"no-follow\");\r\n                                    that.render.addClass(query[i], \"follow\");\r\n                                }\r\n                                // that.render.removeClass(document.querySelectorAll(selector), \"no-follow\");\r\n                                // that.render.addClass(document.querySelectorAll(selector), \"follow\");\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (unique == true) {\r\n                                that.render.addClass(document.querySelector(\".button-follow\"), \"no-follow\");\r\n                                that.render.removeClass(document.querySelector(\".button-follow\"), \"follow\");\r\n                            }\r\n                            else {\r\n                                let query = document.querySelectorAll(selector);\r\n\r\n                                for (let i = 0; i < query.length; i++) {\r\n                                    that.render.addClass(query[i], \"no-follow\");\r\n                                    that.render.removeClass(query[i], \"follow\");\r\n                                }\r\n                                // that.render.addClass(document.querySelectorAll(selector), \"no-follow\");\r\n                                // that.render.removeClass(document.querySelectorAll(selector), \"follow\");\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                error => {\r\n                    console.log(\"getIsFollowing()\");\r\n                    console.log(\"Ero...\" + \" attempt: \" + this.isFwError);\r\n                    if (this.isFwError < 5) {\r\n                        this.checkFollowing(that);\r\n                        this.isFwError++;\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    }\r\n}","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\n// enableProdMode();\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}